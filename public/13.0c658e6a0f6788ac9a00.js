(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{cfIE:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),s=function(){return function(){}}(),e=u("SizQ"),i=u("f1M8"),o=u("KCa2"),a=u("g6Sl"),r=u("pUM3"),c=u("2xeN"),b=u("SK3e"),g=u("a+cq"),p=u("pMnS"),d=u("+Sai"),m=u("vWSW"),h=u("gIcY"),f=u("ey9i"),v=function(){function l(l,n,u,t){this.router=l,this.userService=n,this.fb=u,this.toastr=t,this.user=new f.d,this.errors={},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",email:"",description:"",contactInformation:""})}return l.prototype.ngOnInit=function(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)},l.prototype.onFileChange=function(l){var n=this,u=new FileReader;if(l.target.files&&l.target.files.length){var t=l.target.files[0],s=t.size/1024/1024;this.hasExtension(l.target.value,[".jpg",".gif",".png"])?s>2?(l.target.value="",this.toastr.error("File is bigger than 2 MB","Error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})):(u.readAsDataURL(t),u.onload=function(){n.settingsForm.patchValue({image:u.result})}):(l.target.value="",this.toastr.error("File must be of type jpg gif or png","Error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}))}},l.prototype.hasExtension=function(l,n){return new RegExp("("+n.join("|").replace(/\./g,"\\.")+")$").test(l)},l.prototype.submitForm=function(){var l=this;this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(function(n){l.toastr.success("User updated","",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})},function(n){l.errors=n,l.isSubmitting=!1})},l.prototype.updateUser=function(l){Object.assign(this.user,l)},l.prototype.toggleModal=function(){this.modal.nativeElement.classList.toggle("show-modal")},l.prototype.changePassword=function(l,n){var u=this;l===n?this.toastr.error("Old and new password are the same","",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}):""===l||""===n?this.toastr.error("Fields cannot be empty","",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}):this.userService.update({password:n}).subscribe(function(l){u.toggleModal(),u.toastr.success("User updated","",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})},function(l){u.errors=l,u.isSubmitting=!1})},l.prototype.logout=function(){this.userService.purgeAuth(),this.router.navigateByUrl("/")},l}(),A=u("ZYCi"),C=u("f4AX"),y=u("SZbH"),q=t.ob({encapsulation:2,styles:[],data:{}});function S(l){return t.Kb(0,[t.Gb(402653184,1,{modal:0}),(l()(),t.qb(1,0,null,null,51,"section",[["id","settings"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,50,"div",[["class","settings-container"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,1,"app-list-errors",[],null,null,null,d.b,d.a)),t.pb(4,49152,null,0,m.a,[],{errors:[0,"errors"]},null),(l()(),t.qb(5,0,null,null,42,"form",[["class","form settings-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var s=!0,e=l.component;return"submit"===n&&(s=!1!==t.Ab(l,7).onSubmit(u)&&s),"reset"===n&&(s=!1!==t.Ab(l,7).onReset()&&s),"ngSubmit"===n&&(s=!1!==e.submitForm()&&s),s},null,null)),t.pb(6,16384,null,0,h.u,[],null,null),t.pb(7,540672,null,0,h.i,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Fb(2048,null,h.c,null,[h.i]),t.pb(9,16384,null,0,h.o,[[4,h.c]],null,null),(l()(),t.qb(10,0,null,null,37,"fieldset",[],[[8,"disabled",0]],null,null,null,null)),(l()(),t.qb(11,0,null,null,2,"fieldset",[["class","img-settings-container"]],null,null,null,null,null)),(l()(),t.qb(12,0,null,null,0,"img",[["alt","avatar"]],[[8,"src",4]],null,null,null,null)),(l()(),t.qb(13,0,null,null,0,"input",[["type","file"]],null,[[null,"change"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onFileChange(u)&&t),t},null,null)),(l()(),t.qb(14,0,null,null,7,"fieldset",[["class","form-group-settings"]],null,null,null,null,null)),(l()(),t.qb(15,0,null,null,0,"label",[["for","name"]],null,null,null,null,null)),(l()(),t.qb(16,0,null,null,5,"input",[["formControlName","username"],["id","name"],["name","name"],["placeholder","Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var s=!0;return"input"===n&&(s=!1!==t.Ab(l,17)._handleInput(u.target.value)&&s),"blur"===n&&(s=!1!==t.Ab(l,17).onTouched()&&s),"compositionstart"===n&&(s=!1!==t.Ab(l,17)._compositionStart()&&s),"compositionend"===n&&(s=!1!==t.Ab(l,17)._compositionEnd(u.target.value)&&s),s},null,null)),t.pb(17,16384,null,0,h.d,[t.E,t.k,[2,h.a]],null,null),t.Fb(1024,null,h.l,function(l){return[l]},[h.d]),t.pb(19,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.l],[2,h.w]],{name:[0,"name"]},null),t.Fb(2048,null,h.m,null,[h.h]),t.pb(21,16384,null,0,h.n,[[4,h.m]],null,null),(l()(),t.qb(22,0,null,null,7,"fieldset",[["class","form-group-settings"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,0,"label",[["for","email"]],null,null,null,null,null)),(l()(),t.qb(24,0,null,null,5,"input",[["formControlName","email"],["id","email"],["name","email"],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var s=!0;return"input"===n&&(s=!1!==t.Ab(l,25)._handleInput(u.target.value)&&s),"blur"===n&&(s=!1!==t.Ab(l,25).onTouched()&&s),"compositionstart"===n&&(s=!1!==t.Ab(l,25)._compositionStart()&&s),"compositionend"===n&&(s=!1!==t.Ab(l,25)._compositionEnd(u.target.value)&&s),s},null,null)),t.pb(25,16384,null,0,h.d,[t.E,t.k,[2,h.a]],null,null),t.Fb(1024,null,h.l,function(l){return[l]},[h.d]),t.pb(27,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.l],[2,h.w]],{name:[0,"name"]},null),t.Fb(2048,null,h.m,null,[h.h]),t.pb(29,16384,null,0,h.n,[[4,h.m]],null,null),(l()(),t.qb(30,0,null,null,7,"fieldset",[["class","form-group-settings"]],null,null,null,null,null)),(l()(),t.qb(31,0,null,null,0,"label",[["for","description"]],null,null,null,null,null)),(l()(),t.qb(32,0,null,null,5,"textarea",[["cols","70"],["formControlName","description"],["id","description"],["placeholder","Description"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var s=!0;return"input"===n&&(s=!1!==t.Ab(l,33)._handleInput(u.target.value)&&s),"blur"===n&&(s=!1!==t.Ab(l,33).onTouched()&&s),"compositionstart"===n&&(s=!1!==t.Ab(l,33)._compositionStart()&&s),"compositionend"===n&&(s=!1!==t.Ab(l,33)._compositionEnd(u.target.value)&&s),s},null,null)),t.pb(33,16384,null,0,h.d,[t.E,t.k,[2,h.a]],null,null),t.Fb(1024,null,h.l,function(l){return[l]},[h.d]),t.pb(35,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.l],[2,h.w]],{name:[0,"name"]},null),t.Fb(2048,null,h.m,null,[h.h]),t.pb(37,16384,null,0,h.n,[[4,h.m]],null,null),(l()(),t.qb(38,0,null,null,7,"fieldset",[["class","form-group-settings"]],null,null,null,null,null)),(l()(),t.qb(39,0,null,null,0,"label",[["for","contact"]],null,null,null,null,null)),(l()(),t.qb(40,0,null,null,5,"input",[["formControlName","contactInformation"],["id","contact"],["name","contact"],["placeholder","Contact information"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var s=!0;return"input"===n&&(s=!1!==t.Ab(l,41)._handleInput(u.target.value)&&s),"blur"===n&&(s=!1!==t.Ab(l,41).onTouched()&&s),"compositionstart"===n&&(s=!1!==t.Ab(l,41)._compositionStart()&&s),"compositionend"===n&&(s=!1!==t.Ab(l,41)._compositionEnd(u.target.value)&&s),s},null,null)),t.pb(41,16384,null,0,h.d,[t.E,t.k,[2,h.a]],null,null),t.Fb(1024,null,h.l,function(l){return[l]},[h.d]),t.pb(43,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.l],[2,h.w]],{name:[0,"name"]},null),t.Fb(2048,null,h.m,null,[h.h]),t.pb(45,16384,null,0,h.n,[[4,h.m]],null,null),(l()(),t.qb(46,0,null,null,1,"div",[["class","submit-area"]],null,null,null,null,null)),(l()(),t.qb(47,0,null,null,0,"input",[["type","submit"],["value","Update"]],null,null,null,null,null)),(l()(),t.qb(48,0,null,null,4,"div",[["class","settings-bottom-area"]],null,null,null,null,null)),(l()(),t.qb(49,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleModal()&&t),t},null,null)),(l()(),t.Ib(-1,null,["Cambiar contrase\xf1a"])),(l()(),t.qb(51,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.logout()&&t),t},null,null)),(l()(),t.Ib(-1,null,["Cerrar sesi\xf3n"])),(l()(),t.qb(53,0,[[1,0],["modal",1]],null,12,"div",[["class","modal"]],null,null,null,null,null)),(l()(),t.qb(54,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),t.qb(55,0,null,null,2,"div",[["class","modal-top modal-top-change-pass"]],null,null,null,null,null)),(l()(),t.qb(56,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Cambiar contrase\xf1a"])),(l()(),t.qb(58,0,null,null,2,"div",[["class","modal-middle modal-middle-change-pass"]],null,null,null,null,null)),(l()(),t.qb(59,0,[["oldPass",1]],null,0,"input",[["placeholder","Contrase\xf1a actual"],["type","password"]],null,null,null,null,null)),(l()(),t.qb(60,0,[["newPass",1]],null,0,"input",[["placeholder","Contrase\xf1a nueva"],["type","password"]],null,null,null,null,null)),(l()(),t.qb(61,0,null,null,4,"div",[["class","modal-bottom"]],null,null,null,null,null)),(l()(),t.qb(62,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.changePassword(t.Ab(l,59).value,t.Ab(l,60).value)&&s),s},null,null)),(l()(),t.Ib(-1,null,["Guardar"])),(l()(),t.qb(64,0,null,null,1,"button",[["class","button cancel"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleModal()&&t),t},null,null)),(l()(),t.Ib(-1,null,["Cancelar"]))],function(l,n){var u=n.component;l(n,4,0,u.errors),l(n,7,0,u.settingsForm),l(n,19,0,"username"),l(n,27,0,"email"),l(n,35,0,"description"),l(n,43,0,"contactInformation")},function(l,n){var u=n.component;l(n,5,0,t.Ab(n,9).ngClassUntouched,t.Ab(n,9).ngClassTouched,t.Ab(n,9).ngClassPristine,t.Ab(n,9).ngClassDirty,t.Ab(n,9).ngClassValid,t.Ab(n,9).ngClassInvalid,t.Ab(n,9).ngClassPending),l(n,10,0,u.isSubmitting),l(n,12,0,t.sb(1,"",u.user.image,"")),l(n,16,0,t.Ab(n,21).ngClassUntouched,t.Ab(n,21).ngClassTouched,t.Ab(n,21).ngClassPristine,t.Ab(n,21).ngClassDirty,t.Ab(n,21).ngClassValid,t.Ab(n,21).ngClassInvalid,t.Ab(n,21).ngClassPending),l(n,24,0,t.Ab(n,29).ngClassUntouched,t.Ab(n,29).ngClassTouched,t.Ab(n,29).ngClassPristine,t.Ab(n,29).ngClassDirty,t.Ab(n,29).ngClassValid,t.Ab(n,29).ngClassInvalid,t.Ab(n,29).ngClassPending),l(n,32,0,t.Ab(n,37).ngClassUntouched,t.Ab(n,37).ngClassTouched,t.Ab(n,37).ngClassPristine,t.Ab(n,37).ngClassDirty,t.Ab(n,37).ngClassValid,t.Ab(n,37).ngClassInvalid,t.Ab(n,37).ngClassPending),l(n,40,0,t.Ab(n,45).ngClassUntouched,t.Ab(n,45).ngClassTouched,t.Ab(n,45).ngClassPristine,t.Ab(n,45).ngClassDirty,t.Ab(n,45).ngClassValid,t.Ab(n,45).ngClassInvalid,t.Ab(n,45).ngClassPending)})}function w(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,1,"app-settings",[],null,null,null,S,q)),t.pb(1,114688,null,0,v,[A.l,C.a,h.e,y.j],null,null)],function(l,n){l(n,1,0)},null)}var F=t.mb("app-settings",v,w,{},{},[]),I=u("Ip0R"),E=u("Z+Mw"),P=u("PCNd"),U=function(){return function(){}}(),k=u("ecC8");u.d(n,"SettingsModuleNgFactory",function(){return _});var _=t.nb(s,[],function(l){return t.xb([t.yb(512,t.j,t.cb,[[8,[e.a,i.a,o.a,a.a,r.a,c.a,b.a,g.a,p.a,F]],[3,t.j],t.y]),t.yb(4608,I.m,I.l,[t.v,[2,I.s]]),t.yb(4608,h.v,h.v,[]),t.yb(4608,h.e,h.e,[]),t.yb(1073742336,I.b,I.b,[]),t.yb(1073742336,h.t,h.t,[]),t.yb(1073742336,h.j,h.j,[]),t.yb(1073742336,h.r,h.r,[]),t.yb(1073742336,E.c,E.c,[]),t.yb(1073742336,P.a,P.a,[]),t.yb(1073742336,A.p,A.p,[[2,A.v],[2,A.l]]),t.yb(1073742336,U,U,[]),t.yb(1073742336,s,s,[]),t.yb(256,E.a,{modules:E.d},[]),t.yb(1024,A.j,function(){return[[{path:"",component:v,canActivate:[k.a]}]]},[])])})}}]);