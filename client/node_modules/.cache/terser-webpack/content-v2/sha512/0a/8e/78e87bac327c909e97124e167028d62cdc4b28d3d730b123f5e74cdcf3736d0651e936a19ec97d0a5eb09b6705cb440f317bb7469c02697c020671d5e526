{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{OCXw:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"FillFormModule\",(function(){return fill_form_module_FillFormModule}));var common=__webpack_require__(\"ofXK\"),shared=__webpack_require__(\"M0ag\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"ey9i\"),fesm2015_core=__webpack_require__(\"fXoL\"),ngx_toastr=__webpack_require__(\"5eHb\"),likes_button_component=__webpack_require__(\"eZC8\"),input_text_component=__webpack_require__(\"19fH\"),input_radio_a_component=__webpack_require__(\"boqk\"),input_radio_b_component=__webpack_require__(\"2kAz\"),comments_component=__webpack_require__(\"fbZM\");const _c0=[\"formAreaDiv\"],_c1=[\"automatikDocDiv\"],_c2=[\"linkFormButton\"],_c3=[\"progressBar\"],_c4=[\"modal\"],_c5=[\"modalDownload\"],_c6=[\"subMenu\"],_c7=function(a0){return{disabled:a0}};function FillFormComponent_button_5_Template(rf,ctx){if(1&rf){const _r687=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",52),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r687),fesm2015_core.dc().deleteForm()})),fesm2015_core.Pb()}if(2&rf){const ctx_r666=fesm2015_core.dc();fesm2015_core.ic(\"ngClass\",fesm2015_core.lc(1,_c7,ctx_r666.isDeleting))}}function FillFormComponent_div_19_div_13_Template(rf,ctx){if(1&rf){const _r690=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",62),fesm2015_core.Qb(1,\"span\",63),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r690);const ctx_r689=fesm2015_core.dc(2),_r680=fesm2015_core.pc(40);return ctx_r689.toogleModal(_r680)})),fesm2015_core.Pb(),fesm2015_core.Pb()}}const _c8=function(a1){return[\"/profile\",a1]};function FillFormComponent_div_19_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",53),fesm2015_core.Qb(1,\"div\",54),fesm2015_core.Qb(2,\"span\",55),fesm2015_core.Qb(3,\"div\",56),fesm2015_core.Mb(4,\"img\",57),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"span\",58),fesm2015_core.zc(6),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"span\",59),fesm2015_core.Qb(8,\"span\"),fesm2015_core.zc(9,\"Actualizado:\"),fesm2015_core.Pb(),fesm2015_core.zc(10),fesm2015_core.ec(11,\"date\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"div\",60),fesm2015_core.yc(13,FillFormComponent_div_19_div_13_Template,2,0,\"div\",61),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf){const ctx_r669=fesm2015_core.dc();fesm2015_core.zb(4),fesm2015_core.jc(\"src\",ctx_r669.form.author.image?ctx_r669.form.author.image:\"assets/images/avatar.jpeg\",fesm2015_core.tc),fesm2015_core.zb(1),fesm2015_core.ic(\"routerLink\",fesm2015_core.lc(8,_c8,ctx_r669.form.author.username)),fesm2015_core.zb(1),fesm2015_core.Bc(\" \",ctx_r669.form.author.username,\" \"),fesm2015_core.zb(4),fesm2015_core.Bc(\" \",fesm2015_core.fc(11,5,ctx_r669.originalForm.updatedAt,\"dd/MM/yyyy\"),\" \"),fesm2015_core.zb(3),fesm2015_core.ic(\"ngIf\",\"\"!==ctx_r669.form.indications&&void 0!==ctx_r669.form.indications)}}function FillFormComponent_div_20_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",64),fesm2015_core.Qb(1,\"div\",65),fesm2015_core.Qb(2,\"span\",null,66),fesm2015_core.zc(4),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf){const ctx_r670=fesm2015_core.dc();fesm2015_core.zb(2),fesm2015_core.xc(\"width\",ctx_r670.progresBarPercentage),fesm2015_core.zb(2),fesm2015_core.Ac(ctx_r670.progresBarPercentage)}}function FillFormComponent_div_22_Template(rf,ctx){if(1&rf){const _r693=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",67),fesm2015_core.Qb(1,\"div\",68),fesm2015_core.Qb(2,\"h2\",69),fesm2015_core.zc(3),fesm2015_core.Pb(),fesm2015_core.Qb(4,\"span\",70),fesm2015_core.zc(5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"button\",71),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r693);const ctx_r692=fesm2015_core.dc(),_r680=fesm2015_core.pc(40);return ctx_r692.toogleModal(_r680)})),fesm2015_core.zc(7,\" Rellenar formulario \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r671=fesm2015_core.dc();fesm2015_core.zb(3),fesm2015_core.Bc(\" \",ctx_r671.form.title,\" \"),fesm2015_core.zb(2),fesm2015_core.Bc(\" \",ctx_r671.form.description,\" \")}}function FillFormComponent_div_24_app_input_text_1_Template(rf,ctx){if(1&rf&&fesm2015_core.Mb(0,\"app-input-text\",73),2&rf){const field_r694=fesm2015_core.dc().$implicit;fesm2015_core.ic(\"field\",field_r694)}}function FillFormComponent_div_24_app_input_radio_a_2_Template(rf,ctx){if(1&rf&&fesm2015_core.Mb(0,\"app-input-radio-a\",73),2&rf){const field_r694=fesm2015_core.dc().$implicit;fesm2015_core.ic(\"field\",field_r694)}}function FillFormComponent_div_24_app_input_radio_b_3_Template(rf,ctx){if(1&rf&&fesm2015_core.Mb(0,\"app-input-radio-b\",73),2&rf){const field_r694=fesm2015_core.dc().$implicit;fesm2015_core.ic(\"field\",field_r694)}}function FillFormComponent_div_24_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\"),fesm2015_core.yc(1,FillFormComponent_div_24_app_input_text_1_Template,1,1,\"app-input-text\",72),fesm2015_core.yc(2,FillFormComponent_div_24_app_input_radio_a_2_Template,1,1,\"app-input-radio-a\",72),fesm2015_core.yc(3,FillFormComponent_div_24_app_input_radio_b_3_Template,1,1,\"app-input-radio-b\",72),fesm2015_core.Pb()),2&rf){const field_r694=ctx.$implicit;fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iText\"==field_r694.type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iRadioA\"==field_r694.type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iRadioB\"==field_r694.type)}}function FillFormComponent_div_25_span_11_Template(rf,ctx){1&rf&&fesm2015_core.Mb(0,\"span\",85)}function FillFormComponent_div_25_span_12_Template(rf,ctx){1&rf&&fesm2015_core.Mb(0,\"span\",86)}function FillFormComponent_div_25_span_13_Template(rf,ctx){1&rf&&fesm2015_core.Mb(0,\"span\",87)}function FillFormComponent_div_25_span_14_Template(rf,ctx){1&rf&&fesm2015_core.Mb(0,\"span\",88)}function FillFormComponent_div_25_Template(rf,ctx){if(1&rf){const _r706=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",67),fesm2015_core.Qb(1,\"div\",74),fesm2015_core.Qb(2,\"div\",75),fesm2015_core.Qb(3,\"div\",76),fesm2015_core.Qb(4,\"div\",77),fesm2015_core.Mb(5,\"span\",78),fesm2015_core.Qb(6,\"h1\"),fesm2015_core.zc(7,\"Finalizado\"),fesm2015_core.Pb(),fesm2015_core.Qb(8,\"button\",79),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r706);const ctx_r705=fesm2015_core.dc(),_r681=fesm2015_core.pc(51);return ctx_r705.toogleModal(_r681)})),fesm2015_core.zc(9,\"Descargar\"),fesm2015_core.Pb(),fesm2015_core.Qb(10,\"div\",80),fesm2015_core.yc(11,FillFormComponent_div_25_span_11_Template,1,0,\"span\",81),fesm2015_core.yc(12,FillFormComponent_div_25_span_12_Template,1,0,\"span\",82),fesm2015_core.yc(13,FillFormComponent_div_25_span_13_Template,1,0,\"span\",83),fesm2015_core.yc(14,FillFormComponent_div_25_span_14_Template,1,0,\"span\",84),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r673=fesm2015_core.dc();fesm2015_core.zb(11),fesm2015_core.ic(\"ngIf\",\"office\"===ctx_r673.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"office\"===ctx_r673.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"plain\"===ctx_r673.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"plain\"===ctx_r673.form.documentType)}}function FillFormComponent_div_26_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",89),fesm2015_core.Qb(1,\"div\",90),fesm2015_core.Mb(2,\"span\",91),fesm2015_core.Qb(3,\"span\",92),fesm2015_core.zc(4,\"1.\"),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"span\",93),fesm2015_core.zc(6,\"Elige un documento\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"div\",90),fesm2015_core.Mb(8,\"span\",94),fesm2015_core.Qb(9,\"span\",92),fesm2015_core.zc(10,\"2.\"),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"span\",93),fesm2015_core.zc(12,\"Rellena el formulario\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(13,\"div\",90),fesm2015_core.Mb(14,\"span\",95),fesm2015_core.Qb(15,\"span\",92),fesm2015_core.zc(16,\"3.\"),fesm2015_core.Pb(),fesm2015_core.Qb(17,\"span\",93),fesm2015_core.zc(18,\"Guárdalo e imprímelo\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb())}function FillFormComponent_div_27_div_2_Template(rf,ctx){if(1&rf){const _r710=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",100),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r710);const ctx_r709=fesm2015_core.dc(2);return ctx_r709.setCurrentStep(ctx_r709.currentStep-1)})),fesm2015_core.Mb(1,\"span\",101),fesm2015_core.Qb(2,\"span\",102),fesm2015_core.zc(3,\"Anterior\"),fesm2015_core.Pb(),fesm2015_core.Pb()}}function FillFormComponent_div_27_div_7_Template(rf,ctx){if(1&rf){const _r712=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",100),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r712),fesm2015_core.dc(2).nextStepAfterValidate()})),fesm2015_core.Qb(1,\"span\",102),fesm2015_core.zc(2,\"Siguiente\"),fesm2015_core.Pb(),fesm2015_core.Mb(3,\"span\",103),fesm2015_core.Pb()}}function FillFormComponent_div_27_Template(rf,ctx){if(1&rf){const _r714=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",96),fesm2015_core.Qb(1,\"div\",97),fesm2015_core.yc(2,FillFormComponent_div_27_div_2_Template,4,0,\"div\",98),fesm2015_core.Qb(3,\"div\",99),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r714),fesm2015_core.dc().previewDocumentButton(!0)})),fesm2015_core.zc(4,\" Preview \"),fesm2015_core.Qb(5,\"span\"),fesm2015_core.zc(6,\"⬇\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.yc(7,FillFormComponent_div_27_div_7_Template,4,0,\"div\",98),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r675=fesm2015_core.dc();fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",ctx_r675.form.fields.length>=2&&0!==ctx_r675.currentStep),fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx_r675.form.fields.length>=2&&ctx_r675.currentStep!==ctx_r675.form.fields.length+1)}}function FillFormComponent_div_29_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",104,105),fesm2015_core.zc(2),fesm2015_core.Pb()),2&rf){const ctx_r676=fesm2015_core.dc();fesm2015_core.zb(2),fesm2015_core.Bc(\" \",ctx_r676.generatedText,\" \")}}function FillFormComponent_div_30_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",106),fesm2015_core.Mb(1,\"div\",107),fesm2015_core.Pb())}function FillFormComponent_div_36_app_comments_1_Template(rf,ctx){if(1&rf&&fesm2015_core.Mb(0,\"app-comments\",110),2&rf){const ctx_r716=fesm2015_core.dc(2);fesm2015_core.ic(\"form\",ctx_r716.originalForm)}}function FillFormComponent_div_36_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",108),fesm2015_core.yc(1,FillFormComponent_div_36_app_comments_1_Template,1,1,\"app-comments\",109),fesm2015_core.Pb()),2&rf){const ctx_r678=fesm2015_core.dc();fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"\"!==ctx_r678.originalForm.title)}}function FillFormComponent_h2_38_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"h2\"),fesm2015_core.zc(1,\"Los comentarios han sido desactivados para este formulario\"),fesm2015_core.Pb())}function FillFormComponent_span_56_Template(rf,ctx){if(1&rf){const _r718=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",111),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r718),fesm2015_core.dc().downloadWord()})),fesm2015_core.Pb()}}function FillFormComponent_span_57_Template(rf,ctx){if(1&rf){const _r720=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",112),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r720),fesm2015_core.dc().downloadPdf()})),fesm2015_core.Pb()}}function FillFormComponent_span_58_Template(rf,ctx){if(1&rf){const _r722=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",113),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r722),fesm2015_core.dc().downloadTxt()})),fesm2015_core.Pb()}}function FillFormComponent_span_59_Template(rf,ctx){if(1&rf){const _r724=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",114),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r724),fesm2015_core.dc().downloadHtml()})),fesm2015_core.Pb()}}const _c9=function(a0){return{display:a0}},_c10=function(a0){return{\"form-creator__text-area--quill-text\":a0}};let fill_form_component_FillFormComponent=(()=>{class FillFormComponent{constructor(formsService,userService,commonsService,route,router,toastr,odfCreatorService,plainTextCreatorService,stateService,stepModelService){this.formsService=formsService,this.userService=userService,this.commonsService=commonsService,this.route=route,this.router=router,this.toastr=toastr,this.odfCreatorService=odfCreatorService,this.plainTextCreatorService=plainTextCreatorService,this.stateService=stateService,this.stepModelService=stepModelService,this.fields=[],this.isDeleting=!1,this.form=new core.h,this.originalForm=new core.h,this.errors={},this.isSubmitting=!1,this.updatingForm=!1,this.documentType=\"office\",this.currentStep=0,this.progresBarPercentage=\"0%\"}ngOnInit(){this.commonsService.isBrowser()&&(this.route.data.subscribe(data=>{const form=data.form;this.form=form,this.fields=form.fields,this.generatedText=form.text,\"Created\"===form.type?(this.form.originalSlug=form.slug,this.updatingForm=!1):this.updatingForm=!0,this.updateProgressBarPercentage(),this.setInitialState(),this.setDocument(),this.setDivHeight()}),this.formsService.get(this.form.originalSlug).subscribe(originalForm=>{this.originalForm=originalForm}))}ngAfterViewInit(){\"plain\"===this.form.documentType&&this.stepModelService.setInitialState()}ngOnDestroy(){this.commonsService.isBrowser()&&(\"office\"===this.form.documentType&&this.odfCreatorService.closeAndDestroyEditor(),this.documentService.destroyResizeDocumentContainer(),this.commonsService.setFormCreatorPlayground(!0),window.removeEventListener(\"resize\",this.commonsService.resizeEditor))}setInitialState(){this.stateService.setState(\"fill-form\"),this.stateService.setDocumentType(this.form.documentType),this.documentType=this.form.documentType}submitForm(){this.isSubmitting=!0,this.form.type=\"Filled\",this.formsService.save(this.form).subscribe(form=>{this.toastr.success(\"Ha sido creado\",form.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.router.navigateByUrl(\"/fill-form/edit/\"+form.slug)},err=>{this.errors=err,this.isSubmitting=!1})}deleteForm(){this.isDeleting=!0,this.formsService.destroy(this.form.slug).subscribe(success=>{this.toastr.success(\"Has been deleted\",this.form.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.router.navigateByUrl(\"/\")})}setDivHeight(){setTimeout(()=>{if(window.innerWidth>885&&null!==document.querySelector(\"#form-creator\")){const newHeight=window.innerHeight-(document.getElementsByTagName(\"nav\")[0].clientHeight+document.querySelector(\".sub-menu\").clientHeight)+\"px\";document.querySelector(\"#form-creator\").style.height=newHeight}},100)}toogleModal(modal){this.commonsService.toggleModal(modal,!1)}setDocument(){this.commonsService.toggleSpinner(),\"office\"===this.form.documentType?(this.setDivHeight(),this.documentService=this.odfCreatorService,this.documentService.init(\"fillForm\",this.form.text,\"editorContainer\").then(data=>{this.commonsService.setFormCreatorPlayground(!1),this.commonsService.resizeEditor(!0),window.addEventListener(\"resize\",this.commonsService.resizeEditor),this.documentService.resizeDocumentContainer(),this.commonsService.toggleSpinner(),this.documentService.setDragAndDropForSetUp(),this.stepModelService.init(this.form.fields,this.documentType),this.stepModelService.setInitialState()})):(this.documentService=this.plainTextCreatorService,this.documentService.init(\"editor-container\",\"editor-preview\"),this.documentService.setQuillText(this.form.text),this.commonsService.setFormCreatorPlayground(!1),this.commonsService.resizeEditor(!0),window.addEventListener(\"resize\",this.commonsService.resizeEditor),this.documentService.resizeDocumentContainer(),this.setDivHeight(),this.stepModelService.init(this.form.fields,this.documentType),this.commonsService.toggleSpinner())}topMenuNav(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)}setCurrentStep(stepNum){this.currentStep=stepNum,this.formAreaDiv.nativeElement.querySelectorAll(\".form-creator__fields-area__field\").forEach((step,index)=>{step.style.display=this.currentStep===index+1?\"block\":\"none\"}),this.updateProgressBarPercentage()}nextStepAfterValidate(){const currentStep=this.form.fields[this.currentStep-1];currentStep.mandatory?\"iText\"===currentStep.type&&(\"\"===currentStep.replacement?this.commonsService.toastMessage(\"error\",\"Validation error\",\"This field is mandatory\"):this.setCurrentStep(this.currentStep+1)):this.setCurrentStep(this.currentStep+1)}updateProgressBarPercentage(){if(this.progressBar&&this.currentStep){const oldPercentage=Math.round(this.currentStep/(this.form.fields.length+1)*100),currentPercentage=parseInt(this.progresBarPercentage,10),difference=oldPercentage>currentPercentage?oldPercentage-currentPercentage:currentPercentage-oldPercentage;for(let i=0;i<difference+1;i++)setTimeout(()=>{const newPercentage=oldPercentage>currentPercentage?currentPercentage+i:currentPercentage-i;this.progressBar.nativeElement.style.width=newPercentage+\"%\",this.progresBarPercentage=newPercentage+\"%\"},10*i)}else this.progresBarPercentage=Math.round(this.currentStep/(this.form.fields.length+1)*100)+\"%\"}previewDocumentButton(setDocumentVisible){this.commonsService.previewDocumentButton(setDocumentVisible),\"office\"===this.form.documentType&&this.documentService.resizeEvent()}downloadWord(){this.documentService.downloadWord(this.form.slug,this.form.uri)}downloadPdf(){this.documentService.downloadPdf(this.form.slug,this.form.uri)}downloadHtml(){const blob=new Blob([this.automatikDocDiv.nativeElement.outerHTML],{type:\"text/plain\"}),url=URL.createObjectURL(blob),a=document.createElement(\"a\");a.href=url,a.download=`${this.form.slug}.html`,a.click()}downloadTxt(){const blob=new Blob([this.automatikDocDiv.nativeElement.textContent],{type:\"text/plain\"}),url=URL.createObjectURL(blob),a=document.createElement(\"a\");a.href=url,a.download=`${this.form.slug}.txt`,a.click()}}return FillFormComponent.ɵfac=function(t){return new(t||FillFormComponent)(fesm2015_core.Lb(core.j),fesm2015_core.Lb(core.r),fesm2015_core.Lb(core.d),fesm2015_core.Lb(fesm2015_router.a),fesm2015_core.Lb(fesm2015_router.d),fesm2015_core.Lb(ngx_toastr.b),fesm2015_core.Lb(core.k),fesm2015_core.Lb(core.l),fesm2015_core.Lb(core.o),fesm2015_core.Lb(core.p))},FillFormComponent.ɵcmp=fesm2015_core.Fb({type:FillFormComponent,selectors:[[\"app-fill-form\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(fesm2015_core.Dc(_c0,!0),fesm2015_core.Dc(_c1,!0),fesm2015_core.Dc(_c2,!0),fesm2015_core.Dc(_c3,!0),fesm2015_core.Dc(_c4,!0),fesm2015_core.Dc(_c5,!0),fesm2015_core.Dc(_c6,!0)),2&rf&&(fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.formAreaDiv=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.automatikDocDiv=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.linkFormButton=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.progressBar=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modal=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modalDownload=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.subMenu=_t.first))},decls:63,vars:25,consts:[[1,\"sub-menu\"],[1,\"sub-menu__container\",\"sub-menu__container--fill-form\"],[\"subMenu\",\"\"],[1,\"sub-menu__left-button\",\"sub-menu__left-button--fill-form\"],[1,\"button-filled\",\"button-filled--sub-menu-fill-form\",\"icon\",\"icon-save-solid\",3,\"disabled\",\"click\"],[\"class\",\"button-filled button-filled--sub-menu-fill-form icon icon-trash-alt-regular\",3,\"ngClass\",\"click\",4,\"ngIf\"],[1,\"sub-menu__nav\",\"sub-menu__nav--fill-form\",3,\"click\"],[\"data-toogle\",\"form-creator\",1,\"sub-menu__nav__button\",\"sub-menu__nav__button--current\"],[\"data-toogle\",\"comments\",1,\"sub-menu__nav__button\"],[1,\"sub-menu__likes-views\",3,\"form\"],[\"id\",\"form-creator\",1,\"form-creator\"],[\"formCreatorDiv\",\"\"],[1,\"form-creator__container\"],[\"id\",\"fields-area\",1,\"form-creator__fields-area\"],[1,\"form-creator__fields-area__container\"],[\"formAreaDiv\",\"\"],[1,\"form-creator__fields-area__top\"],[\"class\",\"form-creator__fields-area__top__container\",4,\"ngIf\"],[\"class\",\"progress-container\",4,\"ngIf\"],[1,\"form-creator__fields-area__middle\"],[\"class\",\"form-creator__fields-area__middle__container\",4,\"ngIf\"],[1,\"form-creator__fields-area__middle__container\",3,\"ngStyle\"],[4,\"ngFor\",\"ngForOf\"],[\"class\",\"form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen\",4,\"ngIf\"],[\"class\",\"form-creator__fields-area__bottom\",4,\"ngIf\"],[\"id\",\"text-area\",1,\"form-creator__text-area\",3,\"ngClass\"],[\"class\",\"form-creator__text-area__quill-text-result ql-container ql-snow\",\"id\",\"editor-preview\",\"style\",\"height: auto;\",4,\"ngIf\"],[\"id\",\"wodoautomatikdocs\",\"style\",\"width:100%; height:100%; margin:0px; padding:0px\",4,\"ngIf\"],[\"id\",\"scrollToTop\",1,\"button-filled\",\"button-filled--preview-document\",2,\"display\",\"none\",3,\"click\"],[2,\"font-size\",\"20px\"],[\"id\",\"comments\",2,\"display\",\"none\"],[\"class\",\"comments\",4,\"ngIf\"],[1,\"comments\",\"comments__disabled\"],[4,\"ngIf\"],[1,\"modal\"],[\"modal\",\"\"],[1,\"modal__content\",\"modal__content--privacy\"],[1,\"modal__content__top\",\"modal__content__top--privacy\"],[\"id\",\"modal-middle-privacy\",1,\"modal__content__modal-middle\",\"modal__content__modal-middle--privacy\"],[1,\"modal__content__modal-middle__container\",3,\"innerHTML\"],[1,\"modal__content__modal-bottom\",\"modal__content__modal-bottom--privacy\"],[\"id\",\"modal-button\",1,\"button-filled\",3,\"click\"],[\"modalDownload\",\"\"],[1,\"modal__content\",2,\"padding\",\"2rem\"],[1,\"modal__content__modal-middle\",\"modal__content__modal-middle--change-password\"],[1,\"modal__content__modal-middle__container\"],[1,\"download-documents-modal\"],[\"class\",\"icon icon-file-word-solid\",3,\"click\",4,\"ngIf\"],[\"class\",\"icon icon-file-pdf-solid\",3,\"click\",4,\"ngIf\"],[\"class\",\"icon icon-file-download-solid\",3,\"click\",4,\"ngIf\"],[\"class\",\"icon icon-file-code-solid\",3,\"click\",4,\"ngIf\"],[1,\"modal__content__modal-bottom\"],[1,\"button-filled\",\"button-filled--sub-menu-fill-form\",\"icon\",\"icon-trash-alt-regular\",3,\"ngClass\",\"click\"],[1,\"form-creator__fields-area__top__container\"],[1,\"form-creator__fields-area__top__author-date\"],[1,\"form-creator__fields-area__top__author-date__author\"],[1,\"form-creator__fields-area__top__author-date__author__image-container\"],[\"alt\",\"avatar\",3,\"src\"],[3,\"routerLink\"],[1,\"form-creator__fields-area__top__author-date__date\"],[1,\"form-creator__fields-area__top__before-start-button\"],[\"class\",\"form-creator__fields-area__top__before-start-button__information-modal-icon trigger\",4,\"ngIf\"],[1,\"form-creator__fields-area__top__before-start-button__information-modal-icon\",\"trigger\"],[1,\"icon\",\"icon-info-solid\",3,\"click\"],[1,\"progress-container\"],[1,\"progress\",\"progress-large\"],[\"progressBar\",\"\"],[1,\"form-creator__fields-area__middle__container\"],[1,\"form-creator__fields-area__middle__initial-screen\"],[1,\"form-creator__fields-area__middle__initial-screen__form-title\"],[1,\"form-creator__fields-area__middle__initial-screen__description\"],[1,\"button-filled\",\"button-filled--start-form\",3,\"click\"],[3,\"field\",4,\"ngIf\"],[3,\"field\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__end-step\"],[1,\"form-creator__fields-area__end-step__container\"],[1,\"form-creator__fields-area__end-step__check\",\"icon\",\"icon-check-circle-solid\"],[1,\"button-filled\",\"button-filled--start-form\",\"trigger\",3,\"click\"],[1,\"form-creator__fields-area__end-step__icons\"],[\"class\",\"icon icon-file-word-solid trigger\",4,\"ngIf\"],[\"class\",\"icon icon-file-pdf-solid\",4,\"ngIf\"],[\"class\",\"icon icon-file-download-solid\",4,\"ngIf\"],[\"class\",\"icon icon-file-code-solid\",4,\"ngIf\"],[1,\"icon\",\"icon-file-word-solid\",\"trigger\"],[1,\"icon\",\"icon-file-pdf-solid\"],[1,\"icon\",\"icon-file-download-solid\"],[1,\"icon\",\"icon-file-code-solid\"],[1,\"form-creator__fields-area__bottom\",\"form-creator__fields-area__bottom--initial-screen\"],[1,\"form-creator__fields-area__bottom__step\"],[1,\"icon\",\"icon-file-regular\"],[1,\"form-creator__fields-area__bottom__step__number\"],[1,\"form-creator__fields-area__bottom__step__description\"],[1,\"icon\",\"icon-list-alt-regular\"],[1,\"icon\",\"icon-print-solid\"],[1,\"form-creator__fields-area__bottom\"],[1,\"form-creator__fields-area__bottom__container\"],[\"class\",\"form-creator__fields-area__bottom__arrow-button\",3,\"click\",4,\"ngIf\"],[1,\"form-creator__fields-area__bottom__preview-button\",3,\"click\"],[1,\"form-creator__fields-area__bottom__arrow-button\",3,\"click\"],[1,\"icon\",\"icon-chevron-left-solid\"],[1,\"form-creator__fields-area__bottom__arrow-button__label\"],[1,\"icon\",\"icon-chevron-right-solid\"],[\"id\",\"editor-preview\",1,\"form-creator__text-area__quill-text-result\",\"ql-container\",\"ql-snow\",2,\"height\",\"auto\"],[\"automatikDocDiv\",\"\"],[\"id\",\"wodoautomatikdocs\",2,\"width\",\"100%\",\"height\",\"100%\",\"margin\",\"0px\",\"padding\",\"0px\"],[\"id\",\"editorContainer\",2,\"width\",\"100%\",\"height\",\"100%\",\"margin\",\"0px\",\"padding\",\"0px\"],[1,\"comments\"],[\"class\",\"comments__container\",3,\"form\",4,\"ngIf\"],[1,\"comments__container\",3,\"form\"],[1,\"icon\",\"icon-file-word-solid\",3,\"click\"],[1,\"icon\",\"icon-file-pdf-solid\",3,\"click\"],[1,\"icon\",\"icon-file-download-solid\",3,\"click\"],[1,\"icon\",\"icon-file-code-solid\",3,\"click\"]],template:function(rf,ctx){if(1&rf){const _r725=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1,2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"button\",4),fesm2015_core.Zb(\"click\",(function(){return ctx.submitForm()})),fesm2015_core.Pb(),fesm2015_core.yc(5,FillFormComponent_button_5_Template,1,3,\"button\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"ul\",6),fesm2015_core.Zb(\"click\",(function($event){return ctx.topMenuNav($event)})),fesm2015_core.Qb(7,\"li\",7),fesm2015_core.zc(8,\" Formulario \"),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"li\",8),fesm2015_core.zc(10,\" Comentarios \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(11,\"app-likes-button\",9),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"div\",10,11),fesm2015_core.Qb(14,\"div\",12),fesm2015_core.Qb(15,\"div\",13),fesm2015_core.Qb(16,\"div\",14,15),fesm2015_core.Qb(18,\"div\",16),fesm2015_core.yc(19,FillFormComponent_div_19_Template,14,10,\"div\",17),fesm2015_core.yc(20,FillFormComponent_div_20_Template,5,3,\"div\",18),fesm2015_core.Pb(),fesm2015_core.Qb(21,\"div\",19),fesm2015_core.yc(22,FillFormComponent_div_22_Template,8,2,\"div\",20),fesm2015_core.Qb(23,\"div\",21),fesm2015_core.yc(24,FillFormComponent_div_24_Template,4,3,\"div\",22),fesm2015_core.yc(25,FillFormComponent_div_25_Template,15,4,\"div\",20),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.yc(26,FillFormComponent_div_26_Template,19,0,\"div\",23),fesm2015_core.yc(27,FillFormComponent_div_27_Template,8,2,\"div\",24),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(28,\"div\",25),fesm2015_core.yc(29,FillFormComponent_div_29_Template,3,1,\"div\",26),fesm2015_core.yc(30,FillFormComponent_div_30_Template,2,0,\"div\",27),fesm2015_core.Qb(31,\"button\",28),fesm2015_core.Zb(\"click\",(function(){return ctx.previewDocumentButton(!1)})),fesm2015_core.zc(32,\"Form \"),fesm2015_core.Qb(33,\"span\",29),fesm2015_core.zc(34,\"↑\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(35,\"div\",30),fesm2015_core.yc(36,FillFormComponent_div_36_Template,2,1,\"div\",31),fesm2015_core.Qb(37,\"div\",32),fesm2015_core.yc(38,FillFormComponent_h2_38_Template,2,0,\"h2\",33),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(39,\"div\",34,35),fesm2015_core.Qb(41,\"div\",36),fesm2015_core.Qb(42,\"div\",37),fesm2015_core.Qb(43,\"h2\"),fesm2015_core.zc(44,\"Indicaciones antes de comenzar el formulario\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(45,\"div\",38),fesm2015_core.Mb(46,\"div\",39),fesm2015_core.Pb(),fesm2015_core.Qb(47,\"div\",40),fesm2015_core.Qb(48,\"button\",41),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r725);const _r680=fesm2015_core.pc(40);return ctx.toogleModal(_r680),ctx.setCurrentStep(ctx.currentStep+1)})),fesm2015_core.zc(49,\"Rellenar\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(50,\"div\",34,42),fesm2015_core.Qb(52,\"div\",43),fesm2015_core.Qb(53,\"div\",44),fesm2015_core.Qb(54,\"div\",45),fesm2015_core.Qb(55,\"div\",46),fesm2015_core.yc(56,FillFormComponent_span_56_Template,1,0,\"span\",47),fesm2015_core.yc(57,FillFormComponent_span_57_Template,1,0,\"span\",48),fesm2015_core.yc(58,FillFormComponent_span_58_Template,1,0,\"span\",49),fesm2015_core.yc(59,FillFormComponent_span_59_Template,1,0,\"span\",50),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(60,\"div\",51),fesm2015_core.Qb(61,\"button\",41),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r725);const _r681=fesm2015_core.pc(51);return ctx.toogleModal(_r681)})),fesm2015_core.zc(62,\"Cancelar\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}2&rf&&(fesm2015_core.zb(4),fesm2015_core.ic(\"disabled\",ctx.isSubmitting),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",ctx.updatingForm),fesm2015_core.zb(6),fesm2015_core.ic(\"form\",ctx.originalForm),fesm2015_core.zb(8),fesm2015_core.ic(\"ngIf\",0===ctx.currentStep),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",0!==ctx.currentStep),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",0===ctx.currentStep),fesm2015_core.zb(1),fesm2015_core.ic(\"ngStyle\",fesm2015_core.lc(21,_c9,0!==ctx.currentStep?\"block\":\"none\")),fesm2015_core.zb(1),fesm2015_core.ic(\"ngForOf\",ctx.fields),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",ctx.currentStep===ctx.form.fields.length+1),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",0===ctx.currentStep),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",0!==ctx.currentStep),fesm2015_core.zb(1),fesm2015_core.ic(\"ngClass\",fesm2015_core.lc(23,_c10,\"plain\"===ctx.form.documentType)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"plain\"===ctx.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"office\"===ctx.form.documentType),fesm2015_core.zb(6),fesm2015_core.ic(\"ngIf\",ctx.originalForm.commentsEnabled),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",!ctx.originalForm.commentsEnabled),fesm2015_core.zb(8),fesm2015_core.ic(\"innerHTML\",ctx.form.indications,fesm2015_core.sc),fesm2015_core.zb(10),fesm2015_core.ic(\"ngIf\",\"office\"===ctx.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"office\"===ctx.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"plain\"===ctx.form.documentType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"plain\"===ctx.form.documentType))},directives:[common.t,likes_button_component.a,common.w,common.s,common.q,fesm2015_router.e,input_text_component.a,input_radio_a_component.a,input_radio_b_component.a,comments_component.a],pipes:[common.f],encapsulation:2}),FillFormComponent})();var map=__webpack_require__(\"lJxs\"),catchError=__webpack_require__(\"JIr8\");let fill_form_resolver_service_FillFormResolver=(()=>{class FillFormResolver{constructor(formService,router,userService){this.formService=formService,this.router=router,this.userService=userService}resolve(route,state){return route.url.toString().includes(\"edit\")?this.formService.get(route.params.slug).pipe(Object(map.a)(form=>{if(this.userService.getCurrentUser().username===form.filledBy.username)return route.data={form:form},form;this.router.navigateByUrl(\"/\")}),Object(catchError.a)(err=>this.router.navigateByUrl(\"/\"))):this.formService.getWithView(route.params.slug).pipe(Object(map.a)(form=>form),Object(catchError.a)(err=>this.router.navigateByUrl(\"/\")))}}return FillFormResolver.ɵfac=function(t){return new(t||FillFormResolver)(fesm2015_core.Vb(core.j),fesm2015_core.Vb(fesm2015_router.d),fesm2015_core.Vb(core.r))},FillFormResolver.ɵprov=fesm2015_core.Hb({token:FillFormResolver,factory:FillFormResolver.ɵfac}),FillFormResolver})();const routes=[{path:\":slug\",component:fill_form_component_FillFormComponent,resolve:{form:fill_form_resolver_service_FillFormResolver}},{path:\"edit\",component:fill_form_component_FillFormComponent,canActivate:[core.a]},{path:\"edit/:slug\",component:fill_form_component_FillFormComponent,canActivate:[core.a],resolve:{form:fill_form_resolver_service_FillFormResolver}}];let fill_form_routing_module_FillFormRoutingModule=(()=>{class FillFormRoutingModule{}return FillFormRoutingModule.ɵmod=fesm2015_core.Jb({type:FillFormRoutingModule}),FillFormRoutingModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||FillFormRoutingModule)},imports:[[fesm2015_router.h.forChild(routes)],fesm2015_router.h]}),FillFormRoutingModule})(),fill_form_module_FillFormModule=(()=>{class FillFormModule{}return FillFormModule.ɵmod=fesm2015_core.Jb({type:FillFormModule}),FillFormModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||FillFormModule)},providers:[fill_form_resolver_service_FillFormResolver],imports:[[common.c,shared.a,fill_form_routing_module_FillFormRoutingModule]]}),FillFormModule})()}}]);","extractedComments":[]}