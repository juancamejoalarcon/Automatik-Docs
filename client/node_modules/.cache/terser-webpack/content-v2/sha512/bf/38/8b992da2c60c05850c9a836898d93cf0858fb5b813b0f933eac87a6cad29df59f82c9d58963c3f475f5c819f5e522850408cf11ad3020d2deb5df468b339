{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Bm9x:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"MyFormsModule\",(function(){return my_forms_module_MyFormsModule}));var common=__webpack_require__(\"ofXK\"),shared=__webpack_require__(\"M0ag\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"ey9i\"),fesm2015_core=__webpack_require__(\"fXoL\"),ngx_toastr=__webpack_require__(\"5eHb\"),loading_spinner_component=__webpack_require__(\"zoH9\");const _c0=[\"subMenu\"],_c1=function(a1){return[\"/create-form/edit\",a1]};function MyFormsComponent_tr_28_Template(rf,ctx){if(1&rf){const _r738=fesm2015_core.Rb();fesm2015_core.Qb(0,\"tr\"),fesm2015_core.Qb(1,\"td\",14),fesm2015_core.Qb(2,\"a\",15),fesm2015_core.zc(3),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(4,\"td\",16),fesm2015_core.Qb(5,\"label\",17),fesm2015_core.Qb(6,\"input\",18),fesm2015_core.Zb(\"change\",(function($event){fesm2015_core.rc(_r738);const form_r736=ctx.$implicit;return fesm2015_core.dc().updateForm($event,form_r736)})),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"span\"),fesm2015_core.zc(8,\"Activo\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"td\",19),fesm2015_core.Qb(10,\"label\",17),fesm2015_core.Qb(11,\"input\",20),fesm2015_core.Zb(\"change\",(function($event){fesm2015_core.rc(_r738);const form_r736=ctx.$implicit;return fesm2015_core.dc().updateForm($event,form_r736)})),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"span\"),fesm2015_core.zc(13,\"Público\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(14,\"td\",21),fesm2015_core.Qb(15,\"label\",17),fesm2015_core.Qb(16,\"input\",22),fesm2015_core.Zb(\"change\",(function($event){fesm2015_core.rc(_r738);const form_r736=ctx.$implicit;return fesm2015_core.dc().updateForm($event,form_r736)})),fesm2015_core.Pb(),fesm2015_core.Qb(17,\"span\"),fesm2015_core.zc(18,\"Comentarios\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(19,\"td\",23),fesm2015_core.zc(20),fesm2015_core.Pb(),fesm2015_core.Qb(21,\"td\",24),fesm2015_core.zc(22),fesm2015_core.Pb(),fesm2015_core.Qb(23,\"td\",25),fesm2015_core.zc(24),fesm2015_core.ec(25,\"date\"),fesm2015_core.Pb(),fesm2015_core.Qb(26,\"td\",26),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r738);const form_r736=ctx.$implicit;return fesm2015_core.dc().deleteForm(form_r736)})),fesm2015_core.Mb(27,\"span\",27),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const form_r736=ctx.$implicit;fesm2015_core.zb(2),fesm2015_core.ic(\"routerLink\",fesm2015_core.lc(20,_c1,form_r736.slug)),fesm2015_core.zb(1),fesm2015_core.Ac(form_r736.title),fesm2015_core.zb(2),fesm2015_core.jc(\"for\",form_r736.slug+\"status\"),fesm2015_core.zb(1),fesm2015_core.jc(\"name\",form_r736.slug+\"status\"),fesm2015_core.jc(\"id\",form_r736.slug+\"status\"),fesm2015_core.ic(\"checked\",form_r736.enabled),fesm2015_core.zb(4),fesm2015_core.jc(\"for\",form_r736.slug+\"visible\"),fesm2015_core.zb(1),fesm2015_core.jc(\"name\",form_r736.slug+\"visible\"),fesm2015_core.jc(\"id\",form_r736.slug+\"visible\"),fesm2015_core.ic(\"checked\",form_r736.public),fesm2015_core.zb(4),fesm2015_core.jc(\"for\",form_r736.slug+\"commnents\"),fesm2015_core.zb(1),fesm2015_core.jc(\"name\",form_r736.slug+\"commnents\"),fesm2015_core.jc(\"id\",form_r736.slug+\"commnents\"),fesm2015_core.ic(\"checked\",form_r736.commentsEnabled),fesm2015_core.zb(4),fesm2015_core.Ac(form_r736.likesCount),fesm2015_core.zb(2),fesm2015_core.Ac(form_r736.viewsCount),fesm2015_core.zb(2),fesm2015_core.Ac(fesm2015_core.fc(25,17,form_r736.updatedAt,\"dd/MM/yyyy\"))}}function MyFormsComponent_span_30_Template(rf,ctx){if(1&rf){const _r743=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",28),fesm2015_core.Qb(1,\"button\",29),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r743),fesm2015_core.dc().moreForms()})),fesm2015_core.zc(2,\"Cargar más\"),fesm2015_core.Pb(),fesm2015_core.Pb()}}function MyFormsComponent_div_31_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",30),fesm2015_core.Qb(1,\"h2\"),fesm2015_core.zc(2,\"- No more forms to load -\"),fesm2015_core.Pb(),fesm2015_core.Pb())}const _c2=function(a1){return[\"/fill-form/edit\",a1]};function MyFormsComponent_tr_40_Template(rf,ctx){if(1&rf){const _r746=fesm2015_core.Rb();fesm2015_core.Qb(0,\"tr\"),fesm2015_core.Qb(1,\"td\",14),fesm2015_core.Qb(2,\"a\",15),fesm2015_core.zc(3),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(4,\"td\",26),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r746);const form_r744=ctx.$implicit;return fesm2015_core.dc().deleteFilled(form_r744)})),fesm2015_core.Mb(5,\"span\",27),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const form_r744=ctx.$implicit;fesm2015_core.zb(2),fesm2015_core.ic(\"routerLink\",fesm2015_core.lc(2,_c2,form_r744.slug)),fesm2015_core.zb(1),fesm2015_core.Bc(\" \",form_r744.title,\" \")}}function MyFormsComponent_div_42_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",30),fesm2015_core.Qb(1,\"h2\"),fesm2015_core.zc(2,\"- No more forms to load -\"),fesm2015_core.Pb(),fesm2015_core.Pb())}function MyFormsComponent_span_43_Template(rf,ctx){if(1&rf){const _r748=fesm2015_core.Rb();fesm2015_core.Qb(0,\"span\",28),fesm2015_core.Qb(1,\"button\",29),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r748),fesm2015_core.dc().moreFormsFilled()})),fesm2015_core.zc(2,\"Cargar más\"),fesm2015_core.Pb(),fesm2015_core.Pb()}}const routes=[{path:\"\",component:(()=>{class MyFormsComponent{constructor(userService,searchService,formService,toastr,commonsService,route){this.userService=userService,this.searchService=searchService,this.formService=formService,this.toastr=toastr,this.commonsService=commonsService,this.route=route,this.listConfig=new core.j,this.loadingQuery=!1,this.results=[],this.limit=20,this.currentPage=1,this.noMoreForms=!1,this.isDeleting=!1,this.listConfigFilled=new core.j,this.loadingQueryFilled=!1,this.resultsFilled=[],this.limitFilled=20,this.currentPageFilled=1,this.noMoreFormsFilled=!1}ngOnInit(){this.route.snapshot.data.initedInServer?this.userService.isAuthenticated.subscribe(isAuthenticated=>{this.initialValue()}):this.initialValue()}initialValue(){this.user=this.userService.getCurrentUser(),this.loadingQuery=!0,this.listConfig.orderBy=\"Date\",this.setListTo(),this.searchService.search(this.listConfig).subscribe(forms=>{this.loadingQuery=!1,this.results=forms}),this.loadingQueryFilled=!0,this.listConfigFilled.orderBy=\"Date\",this.setListToFilled(),this.searchService.search(this.listConfigFilled).subscribe(forms=>{this.loadingQueryFilled=!1,this.resultsFilled=forms})}setListTo(){this.listConfig={limit:this.limit,orderBy:\"Date\",offset:this.limit*(this.currentPage-1),query:\"\",author:this.user.username}}setListToFilled(){this.listConfigFilled={type:\"Filled\",limit:this.limit,orderBy:\"Date\",offset:this.limit*(this.currentPage-1),query:\"\",filledBy:this.user.username}}moreForms(){this.loadingQuery=!0,this.setPageTo(),this.limit&&(this.listConfig.limit=this.limit,this.listConfig.offset=this.limit*(this.currentPage-1)),this.searchService.search(this.listConfig).subscribe(forms=>{0!==forms.length?this.results=this.results.concat(forms):this.noMoreForms=!0,this.loadingQuery=!1})}moreFormsFilled(){this.loadingQueryFilled=!0,this.setPageToFilled(),this.limitFilled&&(this.listConfigFilled.limit=this.limit,this.listConfigFilled.offset=this.limitFilled*(this.currentPageFilled-1)),this.searchService.search(this.listConfigFilled).subscribe(forms=>{0!==forms.length?this.resultsFilled=this.resultsFilled.concat(forms):this.noMoreFormsFilled=!0,this.loadingQueryFilled=!1})}setPageTo(){this.currentPage+=1}setPageToFilled(){this.currentPageFilled+=1}setOrder(order){this.loadingQuery=!0,this.listConfig.offset=0,this.currentPage=1,this.results=[],this.noMoreForms=!1,this.listConfig.orderBy=order,this.searchService.search(this.listConfig).subscribe(forms=>{this.loadingQuery=!1,this.results=forms})}setOrderFilled(order){this.loadingQueryFilled=!0,this.listConfigFilled.offset=0,this.currentPageFilled=1,this.resultsFilled=[],this.noMoreFormsFilled=!1,this.listConfigFilled.orderBy=order,this.searchService.search(this.listConfigFilled).subscribe(forms=>{this.loadingQueryFilled=!1,this.resultsFilled=forms})}deleteForm(form){confirm(\"¿Seguro que deseas eliminar el formulario?\")&&(this.isDeleting=!0,this.formService.destroy(form.slug).subscribe(success=>{this.toastr.success(\"Deleted\",form.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.results=this.results.filter(currentForm=>currentForm!==form)}))}deleteFilled(form){confirm(\"¿Seguro que deseas eliminar el formulario?\")&&(this.isDeleting=!0,this.formService.destroy(form.slug).subscribe(success=>{this.toastr.success(\"Eliminado\",form.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.resultsFilled=this.resultsFilled.filter(currentForm=>currentForm!==form)}))}updateForm(e,form){form[e.srcElement.value]=e.srcElement.checked,this.formService.save(form).subscribe(formUpdated=>{this.toastr.success(\"Actualizado\",formUpdated.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"})})}topMenuNav(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)}}return MyFormsComponent.ɵfac=function(t){return new(t||MyFormsComponent)(fesm2015_core.Lb(core.t),fesm2015_core.Lb(core.p),fesm2015_core.Lb(core.k),fesm2015_core.Lb(ngx_toastr.b),fesm2015_core.Lb(core.e),fesm2015_core.Lb(router.a))},MyFormsComponent.ɵcmp=fesm2015_core.Fb({type:MyFormsComponent,selectors:[[\"app-my-forms\"]],viewQuery:function(rf,ctx){var _t;1&rf&&fesm2015_core.Dc(_c0,!0),2&rf&&fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.subMenu=_t.first)},decls:44,vars:10,consts:[[1,\"sub-menu\"],[\"subMenu\",\"\"],[1,\"sub-menu__container\"],[1,\"sub-menu__nav\",\"sub-menu__nav--my-forms\",3,\"click\"],[\"data-toogle\",\"created-forms\",1,\"sub-menu__nav__button\",\"sub-menu__nav__button--my-forms\",\"sub-menu__nav__button--current\"],[\"data-toogle\",\"filled-forms\",1,\"sub-menu__nav__button\",\"sub-menu__nav__button--my-forms\"],[\"id\",\"created-forms\"],[1,\"table\"],[4,\"ngFor\",\"ngForOf\"],[1,\"loader\"],[\"class\",\"load-more-my-forms w-100 d-flex-and-center\",4,\"ngIf\"],[\"class\",\"noMoreForms\",4,\"ngIf\"],[\"id\",\"filled-forms\",2,\"display\",\"none\"],[1,\"table\",\"table--filled-forms\"],[\"data-column\",\"Formulario\"],[1,\"form-link\",3,\"routerLink\"],[\"data-column\",\"Status\"],[1,\"select-my-forms\",3,\"for\"],[\"type\",\"checkbox\",\"value\",\"status\",1,\"filled-in\",3,\"name\",\"id\",\"checked\",\"change\"],[\"data-column\",\"Visibilidad\"],[\"type\",\"checkbox\",\"value\",\"public\",1,\"filled-in\",3,\"name\",\"id\",\"checked\",\"change\"],[\"data-column\",\"Comentarios\"],[\"type\",\"checkbox\",\"value\",\"commentsEnabled\",1,\"filled-in\",3,\"name\",\"id\",\"checked\",\"change\"],[\"data-column\",\"Likes\"],[\"data-column\",\"Visualizaciones\"],[\"data-column\",\"Actualizado\"],[\"data-column\",\"Eliminar\",3,\"click\"],[1,\"icon\",\"icon-trash-alt-regular\",\"delete\"],[1,\"load-more-my-forms\",\"w-100\",\"d-flex-and-center\"],[1,\"button-filled\",3,\"click\"],[1,\"noMoreForms\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0,1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"ul\",3),fesm2015_core.Zb(\"click\",(function($event){return ctx.topMenuNav($event)})),fesm2015_core.Qb(4,\"li\",4),fesm2015_core.zc(5,\" Created \"),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"li\",5),fesm2015_core.zc(7,\" Filled \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(8,\"div\",6),fesm2015_core.Qb(9,\"table\",7),fesm2015_core.Qb(10,\"thead\"),fesm2015_core.Qb(11,\"tr\"),fesm2015_core.Qb(12,\"th\"),fesm2015_core.zc(13,\"Formulario\"),fesm2015_core.Pb(),fesm2015_core.Qb(14,\"th\"),fesm2015_core.zc(15,\"Status\"),fesm2015_core.Pb(),fesm2015_core.Qb(16,\"th\"),fesm2015_core.zc(17,\"Visibilidad\"),fesm2015_core.Pb(),fesm2015_core.Qb(18,\"th\"),fesm2015_core.zc(19,\"Comentarios\"),fesm2015_core.Pb(),fesm2015_core.Qb(20,\"th\"),fesm2015_core.zc(21,\"Likes\"),fesm2015_core.Pb(),fesm2015_core.Qb(22,\"th\"),fesm2015_core.zc(23,\"Visualizaciones\"),fesm2015_core.Pb(),fesm2015_core.Qb(24,\"th\"),fesm2015_core.zc(25,\"Actualizado\"),fesm2015_core.Pb(),fesm2015_core.Mb(26,\"th\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(27,\"tbody\"),fesm2015_core.yc(28,MyFormsComponent_tr_28_Template,28,22,\"tr\",8),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(29,\"app-loading-spinner\",9),fesm2015_core.yc(30,MyFormsComponent_span_30_Template,3,0,\"span\",10),fesm2015_core.yc(31,MyFormsComponent_div_31_Template,3,0,\"div\",11),fesm2015_core.Pb(),fesm2015_core.Qb(32,\"div\",12),fesm2015_core.Qb(33,\"table\",13),fesm2015_core.Qb(34,\"thead\"),fesm2015_core.Qb(35,\"tr\"),fesm2015_core.Qb(36,\"th\"),fesm2015_core.zc(37,\"Formulario\"),fesm2015_core.Pb(),fesm2015_core.Mb(38,\"th\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(39,\"tbody\"),fesm2015_core.yc(40,MyFormsComponent_tr_40_Template,6,4,\"tr\",8),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(41,\"app-loading-spinner\",9),fesm2015_core.yc(42,MyFormsComponent_div_42_Template,3,0,\"div\",11),fesm2015_core.yc(43,MyFormsComponent_span_43_Template,3,0,\"span\",10),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(28),fesm2015_core.ic(\"ngForOf\",ctx.results),fesm2015_core.zb(1),fesm2015_core.xc(\"display\",ctx.loadingQuery?\"flex\":\"none\"),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!1===ctx.noMoreForms),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!0===ctx.noMoreForms),fesm2015_core.zb(9),fesm2015_core.ic(\"ngForOf\",ctx.resultsFilled),fesm2015_core.zb(1),fesm2015_core.xc(\"display\",ctx.loadingQuery?\"flex\":\"none\"),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!0===ctx.noMoreFormsFilled),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!1===ctx.noMoreFormsFilled))},directives:[common.s,loading_spinner_component.a,common.t,router.g],pipes:[common.f],encapsulation:2}),MyFormsComponent})(),resolve:{initedInServer:core.b}}];let my_forms_routing_module_MyFormsRoutingModule=(()=>{class MyFormsRoutingModule{}return MyFormsRoutingModule.ɵmod=fesm2015_core.Jb({type:MyFormsRoutingModule}),MyFormsRoutingModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||MyFormsRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),MyFormsRoutingModule})(),my_forms_module_MyFormsModule=(()=>{class MyFormsModule{}return MyFormsModule.ɵmod=fesm2015_core.Jb({type:MyFormsModule}),MyFormsModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||MyFormsModule)},imports:[[common.c,my_forms_routing_module_MyFormsRoutingModule,shared.a]]}),MyFormsModule})()}}]);","extractedComments":[]}