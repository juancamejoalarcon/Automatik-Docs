{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Lvw3:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ProfileModule\",(function(){return profile_module_ProfileModule}));var common=__webpack_require__(\"ofXK\"),shared=__webpack_require__(\"M0ag\"),map=__webpack_require__(\"lJxs\"),catchError=__webpack_require__(\"JIr8\"),core=__webpack_require__(\"fXoL\"),router=__webpack_require__(\"tyNb\"),app_core=__webpack_require__(\"ey9i\");let profile_resolver_service_ProfileResolver=(()=>{class ProfileResolver{constructor(router,profilesService){this.router=router,this.profilesService=profilesService}resolve(route,state){return this.profilesService.get(route.params.user).pipe(Object(map.a)(data=>data),Object(catchError.a)(err=>this.router.navigateByUrl(\"/\")))}}return ProfileResolver.ɵfac=function(t){return new(t||ProfileResolver)(core.Vb(router.d),core.Vb(app_core.o))},ProfileResolver.ɵprov=core.Hb({token:ProfileResolver,factory:ProfileResolver.ɵfac}),ProfileResolver})();var fesm2015_forms=__webpack_require__(\"3Pt+\");function ProfileComponent_span_7_Template(rf,ctx){if(1&rf&&(core.Qb(0,\"span\",26),core.zc(1),core.Pb()),2&rf){const ctx_r763=core.dc();core.zb(1),core.Bc(\" \",ctx_r763.user.description,\" \")}}function ProfileComponent_span_8_Template(rf,ctx){1&rf&&(core.Qb(0,\"span\",27),core.zc(1,\" User has not added any description yet. \"),core.Pb())}function ProfileComponent_span_9_Template(rf,ctx){if(1&rf&&(core.Qb(0,\"span\",28),core.zc(1),core.Pb()),2&rf){const ctx_r765=core.dc();core.zb(1),core.Bc(\" \",ctx_r765.user.contactInformation,\" \")}}function ProfileComponent_span_10_Template(rf,ctx){if(1&rf&&(core.Qb(0,\"span\",29),core.zc(1),core.Pb()),2&rf){const ctx_r766=core.dc();core.zb(1),core.Bc(\" \",ctx_r766.user.companyName,\" \")}}const _c0=function(a1){return[\"/fill-form\",a1]},_c1=function(a1){return[\"/profile\",a1]};function ProfileComponent_div_24_Template(rf,ctx){if(1&rf&&(core.Qb(0,\"div\",30),core.Qb(1,\"div\",31),core.Qb(2,\"div\",32),core.Qb(3,\"div\",33),core.Qb(4,\"span\"),core.zc(5),core.ec(6,\"date\"),core.Pb(),core.Pb(),core.Qb(7,\"div\",34),core.Qb(8,\"span\"),core.zc(9),core.Pb(),core.Pb(),core.Qb(10,\"div\",35),core.Qb(11,\"span\"),core.zc(12),core.Pb(),core.Pb(),core.Qb(13,\"div\",36),core.Qb(14,\"div\",37),core.Mb(15,\"span\",38),core.Qb(16,\"span\"),core.zc(17),core.Pb(),core.Pb(),core.Qb(18,\"div\",39),core.Mb(19,\"span\",40),core.Qb(20,\"span\"),core.zc(21),core.Pb(),core.Pb(),core.Pb(),core.Pb(),core.Pb(),core.Qb(22,\"div\",41),core.Qb(23,\"div\",42),core.Mb(24,\"img\",3),core.Qb(25,\"span\",43),core.zc(26),core.Pb(),core.Pb(),core.Qb(27,\"div\",44),core.Qb(28,\"span\"),core.zc(29,\"tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag, tag\"),core.Pb(),core.Pb(),core.Pb(),core.Pb()),2&rf){const form_r769=ctx.$implicit;core.zb(1),core.ic(\"routerLink\",core.lc(12,_c0,form_r769.slug)),core.zb(4),core.Ac(core.fc(6,9,form_r769.updatedAt,\"dd/MM/yyyy\")),core.zb(4),core.Ac(form_r769.title),core.zb(3),core.Ac(form_r769.description.substring(0,136)),core.zb(5),core.Ac(form_r769.likesCount),core.zb(4),core.Ac(form_r769.viewsCount),core.zb(3),core.jc(\"src\",form_r769.author.image?form_r769.author.image:\"assets/images/avatar.jpeg\",core.tc),core.zb(1),core.ic(\"routerLink\",core.lc(14,_c1,form_r769.author.username)),core.zb(1),core.Ac(form_r769.author.username)}}function ProfileComponent_div_29_Template(rf,ctx){1&rf&&(core.cc(),core.bc(),core.Qb(0,\"div\",45),core.Qb(1,\"h2\"),core.zc(2,\"- No more forms to load -\"),core.Pb(),core.Pb())}const routes=[{path:\":user\",component:(()=>{class ProfileComponent{constructor(route,searchService){this.route=route,this.searchService=searchService,this.listConfig=new app_core.j,this.loadingQuery=!1,this.results=[],this.limit=10,this.currentPage=1,this.noMoreForms=!1}ngOnInit(){this.route.data.subscribe(data=>{this.user=data.user}),this.loadingQuery=!0,this.listConfig.orderBy=\"Date\",this.setListTo(),this.searchService.search(this.listConfig).subscribe(forms=>{this.loadingQuery=!1,this.results=forms})}setListTo(){this.listConfig={limit:this.limit,orderBy:\"Date\",offset:this.limit*(this.currentPage-1),query:\"\",author:this.user.username,public:!0}}moreForms(){this.loadingQuery=!0,this.setPageTo(),this.limit&&(this.listConfig.limit=this.limit,this.listConfig.offset=this.limit*(this.currentPage-1)),this.searchService.search(this.listConfig).subscribe(forms=>{0!==forms.length?this.results=this.results.concat(forms):this.noMoreForms=!0,this.loadingQuery=!1})}onScroll(){this.loadingQuery||!1!==this.noMoreForms||window.innerHeight+window.scrollY>=document.body.offsetHeight&&this.moreForms()}setPageTo(){this.currentPage+=1}setOrder(order){this.loadingQuery=!0,this.listConfig.offset=0,this.currentPage=1,this.results=[],this.noMoreForms=!1,this.listConfig.orderBy=order,this.searchService.search(this.listConfig).subscribe(forms=>{this.loadingQuery=!1,this.results=forms})}}return ProfileComponent.ɵfac=function(t){return new(t||ProfileComponent)(core.Lb(router.a),core.Lb(app_core.p))},ProfileComponent.ɵcmp=core.Fb({type:ProfileComponent,selectors:[[\"app-profile\"]],hostBindings:function(rf,ctx){1&rf&&core.Zb(\"scroll\",(function(){return ctx.onScroll()}),!1,core.qc)},decls:30,vars:10,consts:[[1,\"profile\"],[1,\"profile__container\"],[1,\"profile__image\"],[\"alt\",\"avatar\",3,\"src\"],[1,\"profile__info\"],[1,\"profile__info__name\"],[\"class\",\"profile__info__description\",4,\"ngIf\"],[\"class\",\"description\",4,\"ngIf\"],[\"class\",\"profile__info__contact\",4,\"ngIf\"],[\"class\",\"profile__info__company-name\",4,\"ngIf\"],[1,\"search__container\"],[1,\"search__button\"],[1,\"search__orderby\"],[1,\"search__orderby__container\"],[\"for\",\"orderby\"],[\"id\",\"orderby\",\"autofocus\",\"true\",3,\"change\"],[\"value\",\"Date\"],[\"value\",\"Like\"],[1,\"search__results\"],[1,\"search__results__container\"],[\"class\",\"search__results__result\",4,\"ngFor\",\"ngForOf\"],[1,\"loader\"],[\"version\",\"1.1\",\"id\",\"loader-1\",\"xmlns\",\"http://www.w3.org/2000/svg\",0,\"xmlns\",\"xlink\",\"http://www.w3.org/1999/xlink\",\"x\",\"0px\",\"y\",\"0px\",\"width\",\"80px\",\"height\",\"80px\",\"viewBox\",\"0 0 50 50\",0,\"xml\",\"space\",\"preserve\",2,\"enable-background\",\"new 0 0 50 50\"],[\"fill\",\"#000\",\"d\",\"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z\"],[\"attributeType\",\"xml\",\"attributeName\",\"transform\",\"type\",\"rotate\",\"from\",\"0 25 25\",\"to\",\"360 25 25\",\"dur\",\"0.6s\",\"repeatCount\",\"indefinite\"],[\"class\",\"noMoreForms\",4,\"ngIf\"],[1,\"profile__info__description\"],[1,\"description\"],[1,\"profile__info__contact\"],[1,\"profile__info__company-name\"],[1,\"search__results__result\"],[1,\"search__results__result__document\",3,\"routerLink\"],[1,\"search__results__result__document__container\"],[1,\"search__results__result__document__container__date\"],[1,\"search__results__result__document__container__title\"],[1,\"search__results__result__document__container__description\"],[1,\"search__results__result__document__container__likes-views\"],[1,\"search__results__result__document__container__likes-views__likes\"],[1,\"icon\",\"icon-thumbs-up-regular\"],[1,\"search__results__result__document__container__likes-views__views\"],[1,\"icon\",\"icon-eye-solid\"],[1,\"search__results__result__more-info\"],[1,\"search__results__result__more-info__author\"],[3,\"routerLink\"],[1,\"search__results__result__more-info__tags\"],[1,\"noMoreForms\"]],template:function(rf,ctx){1&rf&&(core.Qb(0,\"div\",0),core.Qb(1,\"div\",1),core.Qb(2,\"div\",2),core.Mb(3,\"img\",3),core.Pb(),core.Qb(4,\"div\",4),core.Qb(5,\"span\",5),core.zc(6),core.Pb(),core.yc(7,ProfileComponent_span_7_Template,2,1,\"span\",6),core.yc(8,ProfileComponent_span_8_Template,2,0,\"span\",7),core.yc(9,ProfileComponent_span_9_Template,2,1,\"span\",8),core.yc(10,ProfileComponent_span_10_Template,2,1,\"span\",9),core.Pb(),core.Pb(),core.Pb(),core.Qb(11,\"div\",10),core.Mb(12,\"div\",11),core.Qb(13,\"div\",12),core.Qb(14,\"div\",13),core.Qb(15,\"label\",14),core.zc(16,\"Ordenar por: \"),core.Pb(),core.Qb(17,\"select\",15),core.Zb(\"change\",(function($event){return ctx.setOrder($event.target.value)})),core.Qb(18,\"option\",16),core.zc(19,\"Fecha\"),core.Pb(),core.Qb(20,\"option\",17),core.zc(21,\"Likes\"),core.Pb(),core.Pb(),core.Pb(),core.Pb(),core.Qb(22,\"div\",18),core.Qb(23,\"div\",19),core.yc(24,ProfileComponent_div_24_Template,30,16,\"div\",20),core.Pb(),core.Pb(),core.Pb(),core.Qb(25,\"div\",21),core.cc(),core.Qb(26,\"svg\",22),core.Qb(27,\"path\",23),core.Mb(28,\"animateTransform\",24),core.Pb(),core.Pb(),core.Pb(),core.yc(29,ProfileComponent_div_29_Template,3,0,\"div\",25)),2&rf&&(core.zb(3),core.jc(\"src\",ctx.user.image?ctx.user.image:\"assets/images/avatar.jpeg\",core.tc),core.zb(3),core.Ac(ctx.user.username),core.zb(1),core.ic(\"ngIf\",ctx.user.description),core.zb(1),core.ic(\"ngIf\",!ctx.user.description),core.zb(1),core.ic(\"ngIf\",ctx.user.contactInformation),core.zb(1),core.ic(\"ngIf\",ctx.user.companyName),core.zb(14),core.ic(\"ngForOf\",ctx.results),core.zb(1),core.xc(\"display\",ctx.loadingQuery?\"flex\":\"none\"),core.zb(4),core.ic(\"ngIf\",!0===ctx.noMoreForms))},directives:[common.t,fesm2015_forms.v,fesm2015_forms.F,common.s,router.e],pipes:[common.f],encapsulation:2}),ProfileComponent})(),resolve:{user:profile_resolver_service_ProfileResolver}}];let profile_routing_module_ProfileRoutingModule=(()=>{class ProfileRoutingModule{}return ProfileRoutingModule.ɵmod=core.Jb({type:ProfileRoutingModule}),ProfileRoutingModule.ɵinj=core.Ib({factory:function(t){return new(t||ProfileRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),ProfileRoutingModule})(),profile_module_ProfileModule=(()=>{class ProfileModule{}return ProfileModule.ɵmod=core.Jb({type:ProfileModule}),ProfileModule.ɵinj=core.Ib({factory:function(t){return new(t||ProfileModule)},providers:[profile_resolver_service_ProfileResolver],imports:[[common.c,profile_routing_module_ProfileRoutingModule,shared.a]]}),ProfileModule})()}}]);","extractedComments":[]}