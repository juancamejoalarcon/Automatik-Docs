(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CYR1:function(e,i,t){"use strict";t.r(i),t.d(i,"CreateFormModule",(function(){return Me}));var n=t("ofXK"),o=t("M0ag"),s=t("tyNb"),a=t("3Pt+"),r=t("ey9i");const c={type:"iText",identifier:"",wordToReplace:"",replacement:"",question:"",indications:{areIndications:!1,indicationsType:"outsideText",value:""},mandatory:!1,isFocused:!1},d={type:"iRadioA",identifier:"",wordToReplace:"",replacement:"",radios:[],question:"",indications:{areIndications:!1,indicationsType:"outsideText",value:""},mandatory:!1,isFocused:!1},u={type:"iRadioB",identifier:"",wordToReplace:"",replacement:"",radios:[],question:"",indications:{areIndications:!1,indicationsType:"outsideText",value:""},mandatory:!1,isFocused:!1};var l=t("fXoL");const b=["subMenu"],p=["linkFormButton"],m=["linkInformationButton"],g=function(e){return{disabled:e}};function f(e,i){if(1&e){const e=l.Rb();l.Qb(0,"button",18),l.Zb("click",(function(){return l.rc(e),l.dc().deleteForm()})),l.Pb()}if(2&e){const e=l.dc();l.ic("ngClass",l.lc(1,g,e.isDeleting))}}function v(e,i){1&e&&(l.Qb(0,"li",19),l.zc(1," Comentarios "),l.Pb())}let h=(()=>{class e{constructor(e){this.commonsService=e,this.deleteEvent=new l.n,this.submitEvent=new l.n,this.previewEvent=new l.n,this.isDeleting=!1}ngOnInit(){}set toggleTab(e){"linkFormButton"===e?this.linkFormButton.nativeElement.click():"linkInformationButton"===e&&this.linkInformationButton.nativeElement.click()}topMenuNav(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)}submitForm(){this.submitEvent.emit()}deleteForm(){confirm("\xbfSeguro que deseas eliminar?")&&(this.isDeleting=!0,this.deleteEvent.emit())}preview(e){this.previewEvent.emit(e)}}return e.\u0275fac=function(i){return new(i||e)(l.Lb(r.e))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-sub-menu"]],viewQuery:function(e,i){var t;1&e&&(l.Dc(b,!0),l.Dc(p,!0),l.Dc(m,!0)),2&e&&(l.oc(t=l.ac())&&(i.subMenu=t.first),l.oc(t=l.ac())&&(i.linkFormButton=t.first),l.oc(t=l.ac())&&(i.linkInformationButton=t.first))},inputs:{isSubmitting:"isSubmitting",updatingForm:"updatingForm",toggleTab:"toggleTab"},outputs:{deleteEvent:"deleteEvent",submitEvent:"submitEvent",previewEvent:"previewEvent"},decls:21,vars:3,consts:[[1,"sub-menu"],[1,"sub-menu__container"],["subMenu",""],[1,"sub-menu__left-button"],[1,"button-filled","button-filled--sub-menu-fill-form","icon","icon-save-solid",3,"disabled","click"],["class","button-filled button-filled--sub-menu-fill-form icon icon-trash-alt-regular",3,"ngClass","click",4,"ngIf"],[1,"sub-menu__nav","sub-menu__nav--form",3,"click"],["data-toogle","form-creator",1,"sub-menu__nav__button","sub-menu__nav__button--current"],["linkFormButton",""],["data-toogle","information",1,"sub-menu__nav__button"],["linkInformationButton",""],["class","sub-menu__nav__button","data-toogle","comments",4,"ngIf"],[1,"sub-menu__right-button"],[1,"sub-menu__right-button__label"],[1,"switch"],["type","checkbox",3,"change"],["previewMode",""],[1,"slider","slider--round"],[1,"button-filled","button-filled--sub-menu-fill-form","icon","icon-trash-alt-regular",3,"ngClass","click"],["data-toogle","comments",1,"sub-menu__nav__button"]],template:function(e,i){if(1&e){const e=l.Rb();l.Qb(0,"div",0),l.Qb(1,"div",1,2),l.Qb(3,"div",3),l.Qb(4,"button",4),l.Zb("click",(function(){return i.submitForm()})),l.Pb(),l.yc(5,f,1,3,"button",5),l.Pb(),l.Qb(6,"ul",6),l.Zb("click",(function(e){return i.topMenuNav(e)})),l.Qb(7,"li",7,8),l.zc(9," Formulario "),l.Pb(),l.Qb(10,"li",9,10),l.zc(12," Info "),l.Pb(),l.yc(13,v,2,0,"li",11),l.Pb(),l.Qb(14,"div",12),l.Qb(15,"span",13),l.zc(16,"Preview"),l.Pb(),l.Qb(17,"label",14),l.Qb(18,"input",15,16),l.Zb("change",(function(){l.rc(e);const t=l.pc(19);return i.preview(t.checked)})),l.Pb(),l.Mb(20,"span",17),l.Pb(),l.Pb(),l.Pb(),l.Pb()}2&e&&(l.zb(4),l.ic("disabled",i.isSubmitting),l.zb(1),l.ic("ngIf",i.updatingForm),l.zb(8),l.ic("ngIf",i.updatingForm))},directives:[n.t,n.q],encapsulation:2}),e})();function _(e,i){if(1&e){const e=l.Rb();l.Qb(0,"div",4),l.zc(1," A\xf1adir "),l.Qb(2,"span",5),l.Zb("click",(function(){return l.rc(e),l.dc().toogleModal()})),l.Pb(),l.Pb()}}let P=(()=>{class e{constructor(){this.previewDocumentEvent=new l.n,this.toogleModalEvent=new l.n}ngOnInit(){}previewDocumentButton(){this.previewDocumentEvent.emit()}toogleModal(){this.toogleModalEvent.emit()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-fields-area-top"]],inputs:{state:"state"},outputs:{previewDocumentEvent:"previewDocumentEvent",toogleModalEvent:"toogleModalEvent"},decls:5,vars:1,consts:[[1,"form-creator__fields-area__top__container"],[1,"form-creator__fields-area__top__preview-button",3,"click"],[1,"icon","icon-sort-down-solid"],["class","form-creator__fields-area__top__add-question d-flex",4,"ngIf"],[1,"form-creator__fields-area__top__add-question","d-flex"],[1,"icon","icon-plus-circle-solid",3,"click"]],template:function(e,i){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Zb("click",(function(){return i.previewDocumentButton()})),l.zc(2," Preview Doc "),l.Mb(3,"span",2),l.Pb(),l.yc(4,_,3,0,"div",3),l.Pb()),2&e&&(l.zb(4),l.ic("ngIf","create-form"===i.state))},directives:[n.t],encapsulation:2}),e})();var Q=t("19fH"),x=t("boqk"),z=t("2kAz");const S=["formAreaDiv"];function I(e,i){if(1&e&&l.Mb(0,"app-input-text",4),2&e){const e=l.dc().$implicit;l.ic("field",e)}}function y(e,i){if(1&e&&l.Mb(0,"app-input-radio-a",4),2&e){const e=l.dc().$implicit;l.ic("field",e)}}function M(e,i){if(1&e&&l.Mb(0,"app-input-radio-b",4),2&e){const e=l.dc().$implicit;l.ic("field",e)}}function w(e,i){if(1&e&&(l.Qb(0,"div"),l.yc(1,I,1,1,"app-input-text",3),l.yc(2,y,1,1,"app-input-radio-a",3),l.yc(3,M,1,1,"app-input-radio-b",3),l.Pb()),2&e){const e=i.$implicit;l.zb(1),l.ic("ngIf","iText"==e.type),l.zb(1),l.ic("ngIf","iRadioA"==e.type),l.zb(1),l.ic("ngIf","iRadioB"==e.type)}}let k=(()=>{class e{constructor(){}ngOnInit(){}ngOnChanges(e){for(const i in e)e.hasOwnProperty(i)&&"fields"===i&&e[i].previousValue&&e[i].previousValue.length>e[i].currentValue.length&&this.setCurrentStep(this.step-1)}set currentStep(e){this.setCurrentStep(e)}setCurrentStep(e){this.step=e,this.formAreaDiv&&this.formAreaDiv.nativeElement.querySelectorAll(".form-creator__fields-area__field").forEach((i,t)=>{i.style.display=e===t?"block":"none"})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-fields-area-middle"]],viewQuery:function(e,i){var t;1&e&&l.Dc(S,!0),2&e&&l.oc(t=l.ac())&&(i.formAreaDiv=t.first)},inputs:{fields:"fields",currentStep:"currentStep"},features:[l.xb],decls:3,vars:1,consts:[["id","formAreaDiv",1,"form-creator__fields-area__middle__container"],["formAreaDiv",""],[4,"ngFor","ngForOf"],[3,"field",4,"ngIf"],[3,"field"]],template:function(e,i){1&e&&(l.Qb(0,"div",0,1),l.yc(2,w,4,3,"div",2),l.Pb()),2&e&&(l.zb(2),l.ic("ngForOf",i.fields))},directives:[n.s,n.t,Q.a,x.a,z.a],encapsulation:2}),e})();function E(e,i){if(1&e){const e=l.Rb();l.Qb(0,"span",6),l.Zb("click",(function(){l.rc(e);const i=l.dc(2);return i.setCurrentStep(i.currentStep-1)})),l.Pb()}}const q=function(e){return{"current-page":e}};function C(e,i){if(1&e){const e=l.Rb();l.Qb(0,"li",7),l.Zb("click",(function(){l.rc(e);const t=i.index;return l.dc(2).setCurrentStep(t)})),l.zc(1),l.Pb()}if(2&e){const e=i.index,t=l.dc(2);l.ic("ngClass",l.lc(2,q,t.currentStep===e)),l.zb(1),l.Ac(e+1)}}function D(e,i){if(1&e){const e=l.Rb();l.Qb(0,"span",8),l.Zb("click",(function(){return l.rc(e),l.dc(2).nextStepAfterValidate()})),l.Pb()}}function T(e,i){if(1&e&&(l.Qb(0,"div",2),l.yc(1,E,1,0,"span",3),l.Qb(2,"ul"),l.yc(3,C,2,4,"li",4),l.Pb(),l.yc(4,D,1,0,"span",5),l.Pb()),2&e){const e=l.dc();l.zb(1),l.ic("ngIf",e.fields.length>=2&&0!==e.currentStep),l.zb(2),l.ic("ngForOf",e.fields),l.zb(1),l.ic("ngIf",e.fields.length>=2&&e.currentStep!==e.fields.length-1)}}let F=(()=>{class e{constructor(){this.setStepEvent=new l.n,this.nextStepEvent=new l.n}ngOnInit(){}setCurrentStep(e){this.setStepEvent.emit(e)}nextStepAfterValidate(){this.nextStepEvent.emit()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-fields-area-bottom"]],inputs:{fields:"fields",currentStep:"currentStep"},outputs:{setStepEvent:"setStepEvent",nextStepEvent:"nextStepEvent"},decls:2,vars:1,consts:[[1,"form-creator__fields-area__bottom"],["class","pagination",4,"ngIf"],[1,"pagination"],["class","pagination__left-icon icon icon-chevron-left-solid",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],["class","pagination__right-icon icon icon-chevron-right-solid",3,"click",4,"ngIf"],[1,"pagination__left-icon","icon","icon-chevron-left-solid",3,"click"],[3,"ngClass","click"],[1,"pagination__right-icon","icon","icon-chevron-right-solid",3,"click"]],template:function(e,i){1&e&&(l.Qb(0,"div",0),l.yc(1,T,5,3,"div",1),l.Pb()),2&e&&(l.zb(1),l.ic("ngIf",i.fields.length))},directives:[n.t,n.s,n.q],encapsulation:2}),e})();var B=t("p8ln"),A=t("CzEO");let L=(()=>{class e{constructor(){this.toggleLightboxEvent=new l.n,this.injectComponentEvent=new l.n}ngOnInit(){}toggleLightbox(e){this.toggleLightboxEvent.emit(e)}injectComponent(e){this.injectComponentEvent.emit(e)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-add-question-menu"]],outputs:{toggleLightboxEvent:"toggleLightboxEvent",injectComponentEvent:"injectComponentEvent"},decls:24,vars:0,consts:[[1,"modal__content__modal-middle__container",2,"margin","0px"],[1,"modal__content__modal-middle__button-panel"],[1,"modal__content__modal-middle__button-panel__container"],[1,"modal__content__modal-middle__button-panel__row"],[1,"modal__content__modal-middle__button-panel__row__label"],[1,"icon","icon-info-circle-solid",3,"click"],[1,"button-filled","button-filled--add-new-question",3,"click"],[1,"icon","icon-plus-solid"]],template:function(e,i){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"span",4),l.zc(5," Input text "),l.Qb(6,"sup",5),l.Zb("click",(function(){return i.toggleLightbox("input-text")})),l.Pb(),l.Pb(),l.Qb(7,"button",6),l.Zb("click",(function(){return i.injectComponent("input-text")})),l.zc(8," A\xf1adir "),l.Mb(9,"span",7),l.Pb(),l.Pb(),l.Qb(10,"div",3),l.Qb(11,"span",4),l.zc(12," Input radio a "),l.Qb(13,"sup",5),l.Zb("click",(function(){return i.toggleLightbox("input-radio-a")})),l.Pb(),l.Pb(),l.Qb(14,"button",6),l.Zb("click",(function(){return i.injectComponent("input-radio-a")})),l.zc(15," A\xf1adir "),l.Mb(16,"span",7),l.Pb(),l.Pb(),l.Qb(17,"div",3),l.Qb(18,"span",4),l.zc(19," Input radio b "),l.Qb(20,"sup",5),l.Zb("click",(function(){return i.toggleLightbox("input-radio-b")})),l.Pb(),l.Pb(),l.Qb(21,"button",6),l.Zb("click",(function(){return i.injectComponent("input-radio-b")})),l.zc(22," A\xf1adir "),l.Mb(23,"span",7),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb())},encapsulation:2}),e})();var O=t("fbZM");let V=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-input-text-guide"]],decls:107,vars:0,consts:[[1,"info-lightbox__title"],[1,"info-lightbox__description"],[1,"info-lightbox__description__content"],[1,"info-lightbox__instructions"],[1,"info-lightbox__instructions__content"],[1,"info-lightbox__instructions__title"],[1,"info-lightbox__instructions__steps"],[1,"info-lightbox__instructions__subtitle"],[1,"info-lightbox__instructions__steps__step"],[1,"info-lightbox__instructions__steps__step__text"],["src","assets/images/guide-images/image-guide-1.png","alt","Image guide 1"],["src","assets/images/guide-images/image-guide-2.png","alt","Image guide 2"],[1,"info-lightbox__instructions__steps__step","info-lightbox__instructions__steps__step--reverse"],["src","assets/images/guide-images/image-guide-3.png","alt","Image guide 3"],[1,"info-lightbox__instructions__steps__step__text","info-lightbox__instructions__steps__step__text--reverse"],["src","assets/images/guide-images/image-guide-4.png","alt","Image guide 4"],["src","assets/images/guide-images/image-guide-5.png","alt","Image guide 5"],["src","assets/images/guide-images/image-guide-6.png","alt","Image guide 6"],["src","assets/images/guide-images/image-guide-7.png","alt","Image guide 7"],["src","assets/images/guide-images/image-guide-8.png","alt","Image guide 8"],["src","assets/images/guide-images/image-guide-9.png","alt","Image guide 9"],["src","assets/images/guide-images/image-guide-10.png","alt","Image guide 10"],["src","assets/images/guide-images/image-guide-11.png","alt","Image guide 11"],["src","assets/images/guide-images/image-guide-12.png","alt","Image guide 12"]],template:function(e,i){1&e&&(l.Qb(0,"h1",0),l.zc(1,"Input Text"),l.Pb(),l.Qb(2,"div",1),l.Qb(3,"div",2),l.Qb(4,"p"),l.zc(5,"Un Input Text es un input en el que el usuario s\xf3lo puede introducir texto. La palabra identificadora ser\xe1 sustituida por lo que el usuario haya introducido en este input. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"div",3),l.Qb(7,"div",4),l.Qb(8,"div",5),l.Qb(9,"h2"),l.zc(10,"C\xf3mo usar"),l.Pb(),l.Pb(),l.Qb(11,"div",6),l.Qb(12,"div",7),l.Qb(13,"h3"),l.zc(14," I. "),l.Qb(15,"u"),l.zc(16,"Colocar identificador"),l.Pb(),l.Pb(),l.Pb(),l.Qb(17,"div",8),l.Qb(18,"div",9),l.Qb(19,"p"),l.zc(20,"1. El identificador se encuentra en la esquina superior derecha. Puede situarlo en el texto de dos maneras. "),l.Pb(),l.Pb(),l.Mb(21,"img",10),l.Pb(),l.Qb(22,"div",8),l.Qb(23,"div",9),l.Qb(24,"p"),l.zc(25,"2. Arrastr\xe1ndolo o escribi\xe9ndolo directamente en el texto"),l.Pb(),l.Pb(),l.Mb(26,"img",11),l.Pb(),l.Pb(),l.Qb(27,"div",6),l.Qb(28,"div",7),l.Qb(29,"h3"),l.zc(30," II. "),l.Qb(31,"u"),l.zc(32,"Escribir enunciado de la pregunta"),l.Pb(),l.Pb(),l.Pb(),l.Qb(33,"div",12),l.Mb(34,"img",13),l.Qb(35,"div",14),l.Qb(36,"p"),l.zc(37,"1. En el centro encontrar\xe1 un input donde introducir el enunciado de la pregunta. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(38,"div",6),l.Qb(39,"div",7),l.Qb(40,"h3"),l.zc(41," III. "),l.Qb(42,"u"),l.zc(43,"Previsualizar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(44,"div",8),l.Qb(45,"div",9),l.Qb(46,"p"),l.zc(47,"1. Una vez realizado el paso previo podremos previsualizar el resultado. Para ello tendr\xe1 que hacer click en el bot\xf3n de Preview en la parte superior derecha de la pantalla. "),l.Pb(),l.Pb(),l.Mb(48,"img",15),l.Pb(),l.Qb(49,"div",8),l.Qb(50,"div",9),l.Qb(51,"p"),l.zc(52,"2. Compruebe que la palabra identificadora en el texto es sustituida por el texto introducido en el Input Text."),l.Pb(),l.Pb(),l.Mb(53,"img",16),l.Pb(),l.Pb(),l.Qb(54,"div",6),l.Qb(55,"div",7),l.Qb(56,"h3"),l.zc(57," IV. "),l.Qb(58,"u"),l.zc(59,"Hacer el input obligatorio"),l.Pb(),l.Pb(),l.Pb(),l.Qb(60,"div",12),l.Mb(61,"img",17),l.Qb(62,"div",14),l.Qb(63,"p"),l.zc(64,"1. Si desea que el usuario no pueda avanzar a la siguiente pregunta sin haber rellenado el input actual, active la opci\xf3n que se encuentra en la parte inferior del campo. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(65,"div",6),l.Qb(66,"div",7),l.Qb(67,"h3"),l.zc(68," V. "),l.Qb(69,"u"),l.zc(70,"Indicaciones"),l.Pb(),l.Pb(),l.Pb(),l.Qb(71,"div",8),l.Qb(72,"div",9),l.Qb(73,"p"),l.zc(74,"1. En caso de que desee dar indicaciones al usuario sobre como rellenar la pregunta, puede hacerlo seleccionando del men\xfa desplegable que se encuentra en la parte derecha inferior del campo. "),l.Pb(),l.Pb(),l.Mb(75,"img",18),l.Pb(),l.Qb(76,"div",8),l.Qb(77,"div",9),l.Qb(78,"p"),l.zc(79,"2. Aparecer\xe1 un peque\xf1o men\xfa con la posibilidad de seleccionar dos opciones: indicaciones fuera del texto e indicaciones dentro del texto."),l.Pb(),l.Pb(),l.Mb(80,"img",19),l.Pb(),l.Qb(81,"div",8),l.Qb(82,"div",9),l.Qb(83,"p"),l.zc(84,"3. Las indicaciones fuera del texto son aquellas que aparecen en un peque\xf1o pop-up por encima del campo con el input."),l.Pb(),l.Pb(),l.Mb(85,"img",20),l.Pb(),l.Qb(86,"div",8),l.Qb(87,"div",9),l.Qb(88,"p"),l.zc(89,"4. Las indicaciones dentro del texto son aquellas que aparecen justo por encima de donde haya situado la palabra identificadora en el texto."),l.Pb(),l.Pb(),l.Mb(90,"img",21),l.Pb(),l.Qb(91,"div",8),l.Qb(92,"div",9),l.Qb(93,"p"),l.zc(94,"5. Una vez haya finalizado escribiendo las indicaciones haga click en el bot\xf3n Hecho. Para poder previsualizar las indicaciones haga click en el bot\xf3n de Preview como en el apartado III y pulse el bot\xf3n con el icono de una interrogaci\xf3n en la parte superior derecha del campo."),l.Pb(),l.Pb(),l.Mb(95,"img",22),l.Pb(),l.Pb(),l.Qb(96,"div",6),l.Qb(97,"div",7),l.Qb(98,"h3"),l.zc(99," VI. "),l.Qb(100,"u"),l.zc(101,"Eliminar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(102,"div",12),l.Mb(103,"img",23),l.Qb(104,"div",14),l.Qb(105,"p"),l.zc(106,"1. Para eliminar el campo, simplemente haga click en el icono con la papelera. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb())},encapsulation:2}),e})(),Z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-input-radio-a-guide"]],decls:112,vars:0,consts:[[1,"info-lightbox__title"],[1,"info-lightbox__description"],[1,"info-lightbox__description__content"],[1,"info-lightbox__instructions"],[1,"info-lightbox__instructions__content"],[1,"info-lightbox__instructions__title"],[1,"info-lightbox__instructions__steps"],[1,"info-lightbox__instructions__subtitle"],[1,"info-lightbox__instructions__steps__step"],[1,"info-lightbox__instructions__steps__step__text"],["src","assets/images/guide-images/image-guide-13.png","alt","Image guide 13"],["src","assets/images/guide-images/image-guide-2.png","alt","Image guide 2"],[1,"info-lightbox__instructions__steps__step","info-lightbox__instructions__steps__step--reverse"],["src","assets/images/guide-images/image-guide-14.png","alt","Image guide 14"],[1,"info-lightbox__instructions__steps__step__text","info-lightbox__instructions__steps__step__text--reverse"],["src","assets/images/guide-images/image-guide-15.png","alt","Image guide 15"],["src","assets/images/guide-images/image-guide-16.png","alt","Image guide 16"],["src","assets/images/guide-images/image-guide-4.png","alt","Image guide 4"],["src","assets/images/guide-images/image-guide-17.png","alt","Image guide 17"],["src","assets/images/guide-images/image-guide-7.png","alt","Image guide 7"],["src","assets/images/guide-images/image-guide-8.png","alt","Image guide 8"],["src","assets/images/guide-images/image-guide-9.png","alt","Image guide 9"],["src","assets/images/guide-images/image-guide-10.png","alt","Image guide 10"],["src","assets/images/guide-images/image-guide-11.png","alt","Image guide 11"],["src","assets/images/guide-images/image-guide-12.png","alt","Image guide 12"]],template:function(e,i){1&e&&(l.Qb(0,"h1",0),l.zc(1,"Input Radio A"),l.Pb(),l.Qb(2,"div",1),l.Qb(3,"div",2),l.Qb(4,"p"),l.zc(5,"Un Input Radio representa una opci\xf3n que pertenece a un grupo en el que no m\xe1s de una opci\xf3n puede ser seleccionada al mismo tiempo. En el caso del Input Radio A cuando el usuario seleccione una opci\xf3n, la palabra clave identificadora introducida en el texto ser\xe1 sustituida por el valor de la opci\xf3n, es decir, el texto del bot\xf3n radio. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"div",3),l.Qb(7,"div",4),l.Qb(8,"div",5),l.Qb(9,"h2"),l.zc(10,"C\xf3mo usar"),l.Pb(),l.Pb(),l.Qb(11,"div",6),l.Qb(12,"div",7),l.Qb(13,"h3"),l.zc(14," I. "),l.Qb(15,"u"),l.zc(16,"Colocar identificador"),l.Pb(),l.Pb(),l.Pb(),l.Qb(17,"div",8),l.Qb(18,"div",9),l.Qb(19,"p"),l.zc(20,"1. El identificador se encuentra en la esquina superior derecha. Puede situarlo en el texto de dos maneras. "),l.Pb(),l.Pb(),l.Mb(21,"img",10),l.Pb(),l.Qb(22,"div",8),l.Qb(23,"div",9),l.Qb(24,"p"),l.zc(25,"2. Arrastr\xe1ndolo o escribi\xe9ndolo directamente en el texto"),l.Pb(),l.Pb(),l.Mb(26,"img",11),l.Pb(),l.Pb(),l.Qb(27,"div",6),l.Qb(28,"div",7),l.Qb(29,"h3"),l.zc(30," II. "),l.Qb(31,"u"),l.zc(32,"Escribir enunciado de la pregunta"),l.Pb(),l.Pb(),l.Pb(),l.Qb(33,"div",12),l.Mb(34,"img",13),l.Qb(35,"div",14),l.Qb(36,"p"),l.zc(37,"1. En el centro encontrar\xe1 un input donde introducir el enunciado de la pregunta. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(38,"div",6),l.Qb(39,"div",7),l.Qb(40,"h3"),l.zc(41," III. "),l.Qb(42,"u"),l.zc(43,"A\xf1adir bot\xf3n"),l.Pb(),l.Pb(),l.Pb(),l.Qb(44,"div",8),l.Qb(45,"div",9),l.Qb(46,"p"),l.zc(47,"1. Para a\xf1adir un bot\xf3n radio, haga click en el bot\xf3n del centro con el icono con el signo +. "),l.Pb(),l.Pb(),l.Mb(48,"img",15),l.Pb(),l.Qb(49,"div",8),l.Qb(50,"div",9),l.Qb(51,"p"),l.zc(52,"2. Introduzca el valor del bot\xf3n, es decir el texto que sustituir\xe1 a la palabra clave cuando se seleccione el bot\xf3n."),l.Pb(),l.Pb(),l.Mb(53,"img",16),l.Pb(),l.Pb(),l.Qb(54,"div",6),l.Qb(55,"div",7),l.Qb(56,"h3"),l.zc(57," IV. "),l.Qb(58,"u"),l.zc(59,"Previsualizar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(60,"div",12),l.Mb(61,"img",17),l.Qb(62,"div",14),l.Qb(63,"p"),l.zc(64,"1. Una vez realizado el paso previo podremos previsualizar el resultado. Para ello tendr\xe1 que hacer click en el bot\xf3n de Preview en la parte superior derecha de la pantalla. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(65,"div",12),l.Mb(66,"img",18),l.Qb(67,"div",14),l.Qb(68,"p"),l.zc(69,"2. Compruebe que la palabra identificadora en el texto es sustituida por el texto de la opci\xf3n seleccionada por el usuario."),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(70,"div",6),l.Qb(71,"div",7),l.Qb(72,"h3"),l.zc(73," V. "),l.Qb(74,"u"),l.zc(75,"Indicaciones"),l.Pb(),l.Pb(),l.Pb(),l.Qb(76,"div",8),l.Qb(77,"div",9),l.Qb(78,"p"),l.zc(79,"1. En caso de que desee dar indicaciones al usuario sobre como rellenar la pregunta, puede hacerlo seleccionando del men\xfa desplegable que se encuentra en la parte derecha inferior del campo. "),l.Pb(),l.Pb(),l.Mb(80,"img",19),l.Pb(),l.Qb(81,"div",8),l.Qb(82,"div",9),l.Qb(83,"p"),l.zc(84,"2. Aparecer\xe1 un peque\xf1o men\xfa con la posibilidad de seleccionar dos opciones: indicaciones fuera del texto e indicaciones dentro del texto."),l.Pb(),l.Pb(),l.Mb(85,"img",20),l.Pb(),l.Qb(86,"div",8),l.Qb(87,"div",9),l.Qb(88,"p"),l.zc(89,"3. Las indicaciones fuera del texto son aquellas que aparecen en un peque\xf1o pop-up por encima del campo con el input."),l.Pb(),l.Pb(),l.Mb(90,"img",21),l.Pb(),l.Qb(91,"div",8),l.Qb(92,"div",9),l.Qb(93,"p"),l.zc(94,"4. Las indicaciones dentro del texto son aquellas que aparecen justo por encima de donde haya situado la palabra identificadora en el texto."),l.Pb(),l.Pb(),l.Mb(95,"img",22),l.Pb(),l.Qb(96,"div",8),l.Qb(97,"div",9),l.Qb(98,"p"),l.zc(99,"5. Una vez haya finalizado escribiendo las indicaciones haga click en el bot\xf3n Hecho. Para poder previsualizar las indicaciones haga click en el bot\xf3n de Preview como en el apartado III y pulse el bot\xf3n con el icono de una interrogaci\xf3n en la parte superior derecha del campo."),l.Pb(),l.Pb(),l.Mb(100,"img",23),l.Pb(),l.Pb(),l.Qb(101,"div",6),l.Qb(102,"div",7),l.Qb(103,"h3"),l.zc(104," VI. "),l.Qb(105,"u"),l.zc(106,"Eliminar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(107,"div",12),l.Mb(108,"img",24),l.Qb(109,"div",14),l.Qb(110,"p"),l.zc(111,"1. Para eliminar el campo, simplemente haga click en el icono con la papelera. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb())},encapsulation:2}),e})(),R=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Fb({type:e,selectors:[["app-input-radio-b-guide"]],decls:122,vars:0,consts:[[1,"info-lightbox__title"],[1,"info-lightbox__description"],[1,"info-lightbox__description__content"],[1,"info-lightbox__instructions"],[1,"info-lightbox__instructions__content"],[1,"info-lightbox__instructions__title"],[1,"info-lightbox__instructions__steps"],[1,"info-lightbox__instructions__subtitle"],[1,"info-lightbox__instructions__steps__step"],[1,"info-lightbox__instructions__steps__step__text"],["src","assets/images/guide-images/image-guide-13.png","alt","Image guide 13"],["src","assets/images/guide-images/image-guide-2.png","alt","Image guide 2"],[1,"info-lightbox__instructions__steps__step","info-lightbox__instructions__steps__step--reverse"],["src","assets/images/guide-images/image-guide-14.png","alt","Image guide 14"],[1,"info-lightbox__instructions__steps__step__text","info-lightbox__instructions__steps__step__text--reverse"],["src","assets/images/guide-images/image-guide-15.png","alt","Image guide 15"],["src","assets/images/guide-images/image-guide-18.png","alt","Image guide 18"],["src","assets/images/guide-images/image-guide-19.png","alt","Image guide 19"],["src","assets/images/guide-images/image-guide-20.png","alt","Image guide 20"],["src","assets/images/guide-images/image-guide-4.png","alt","Image guide 4"],["src","assets/images/guide-images/image-guide-21.png","alt","Image guide 21"],["src","assets/images/guide-images/image-guide-7.png","alt","Image guide 7"],["src","assets/images/guide-images/image-guide-8.png","alt","Image guide 8"],["src","assets/images/guide-images/image-guide-9.png","alt","Image guide 9"],["src","assets/images/guide-images/image-guide-10.png","alt","Image guide 10"],["src","assets/images/guide-images/image-guide-11.png","alt","Image guide 11"],["src","assets/images/guide-images/image-guide-12.png","alt","Image guide 12"]],template:function(e,i){1&e&&(l.Qb(0,"h1",0),l.zc(1,"Input Radio B"),l.Pb(),l.Qb(2,"div",1),l.Qb(3,"div",2),l.Qb(4,"p"),l.zc(5,"Un Input Radio representa una opci\xf3n que pertenece a un grupo en el que no m\xe1s de una opci\xf3n puede ser seleccionada al mismo tiempo. En el caso del Input Radio B cuando el usuario seleccione una opci\xf3n, la palabra clave identificadora introducida en el texto ser\xe1 sustituida por un texto determinado por el autor del formulario solo para la opci\xf3n elegida. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"div",3),l.Qb(7,"div",4),l.Qb(8,"div",5),l.Qb(9,"h2"),l.zc(10,"C\xf3mo usar"),l.Pb(),l.Pb(),l.Qb(11,"div",6),l.Qb(12,"div",7),l.Qb(13,"h3"),l.zc(14," I. "),l.Qb(15,"u"),l.zc(16,"Colocar identificador"),l.Pb(),l.Pb(),l.Pb(),l.Qb(17,"div",8),l.Qb(18,"div",9),l.Qb(19,"p"),l.zc(20,"1. El identificador se encuentra en la esquina superior derecha. Puede situarlo en el texto de dos maneras. "),l.Pb(),l.Pb(),l.Mb(21,"img",10),l.Pb(),l.Qb(22,"div",8),l.Qb(23,"div",9),l.Qb(24,"p"),l.zc(25,"2. Arrastr\xe1ndolo o escribi\xe9ndolo directamente en el texto"),l.Pb(),l.Pb(),l.Mb(26,"img",11),l.Pb(),l.Pb(),l.Qb(27,"div",6),l.Qb(28,"div",7),l.Qb(29,"h3"),l.zc(30," II. "),l.Qb(31,"u"),l.zc(32,"Escribir enunciado de la pregunta"),l.Pb(),l.Pb(),l.Pb(),l.Qb(33,"div",12),l.Mb(34,"img",13),l.Qb(35,"div",14),l.Qb(36,"p"),l.zc(37,"1. En el centro encontrar\xe1 un input donde introducir el enunciado de la pregunta. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(38,"div",6),l.Qb(39,"div",7),l.Qb(40,"h3"),l.zc(41," III. "),l.Qb(42,"u"),l.zc(43,"A\xf1adir bot\xf3n"),l.Pb(),l.Pb(),l.Pb(),l.Qb(44,"div",8),l.Qb(45,"div",9),l.Qb(46,"p"),l.zc(47,"1. Para a\xf1adir un bot\xf3n radio, haga click en el bot\xf3n del centro con el icono con el signo +. "),l.Pb(),l.Pb(),l.Mb(48,"img",15),l.Pb(),l.Qb(49,"div",8),l.Qb(50,"div",9),l.Qb(51,"p"),l.zc(52,"2. Introduzca el enunciado del bot\xf3n."),l.Pb(),l.Pb(),l.Mb(53,"img",16),l.Pb(),l.Qb(54,"div",8),l.Qb(55,"div",9),l.Qb(56,"p"),l.zc(57,"3. Introduzca el valor del bot\xf3n, es decir el texto que sustituir\xe1 a la palabra clave cuando se seleccione el bot\xf3n. Para ello, haga click en el icono que se sit\xfaa a la derecha del bot\xf3n radio, justo antes del bot\xf3n de eliminar"),l.Pb(),l.Pb(),l.Mb(58,"img",17),l.Pb(),l.Qb(59,"div",8),l.Qb(60,"div",9),l.Qb(61,"p"),l.zc(62,"4. Aparecer\xe1 un peque\xf1o pop-up con un campo donde introducir el valor"),l.Pb(),l.Pb(),l.Mb(63,"img",18),l.Pb(),l.Pb(),l.Qb(64,"div",6),l.Qb(65,"div",7),l.Qb(66,"h3"),l.zc(67," IV. "),l.Qb(68,"u"),l.zc(69,"Previsualizar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(70,"div",12),l.Mb(71,"img",19),l.Qb(72,"div",14),l.Qb(73,"p"),l.zc(74,"1. Una vez realizado el paso previo podremos previsualizar el resultado. Para ello tendr\xe1 que hacer click en el bot\xf3n de Preview en la parte superior derecha de la pantalla. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(75,"div",12),l.Mb(76,"img",20),l.Qb(77,"div",14),l.Qb(78,"p"),l.zc(79,"2. Compruebe que la palabra identificadora en el texto es sustituida por el texto de la opci\xf3n seleccionada por el usuario."),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(80,"div",6),l.Qb(81,"div",7),l.Qb(82,"h3"),l.zc(83," V. "),l.Qb(84,"u"),l.zc(85,"Indicaciones"),l.Pb(),l.Pb(),l.Pb(),l.Qb(86,"div",8),l.Qb(87,"div",9),l.Qb(88,"p"),l.zc(89,"1. En caso de que desee dar indicaciones al usuario sobre como rellenar la pregunta, puede hacerlo seleccionando del men\xfa desplegable que se encuentra en la parte derecha inferior del campo. "),l.Pb(),l.Pb(),l.Mb(90,"img",21),l.Pb(),l.Qb(91,"div",8),l.Qb(92,"div",9),l.Qb(93,"p"),l.zc(94,"2. Aparecer\xe1 un peque\xf1o men\xfa con la posibilidad de seleccionar dos opciones: indicaciones fuera del texto e indicaciones dentro del texto."),l.Pb(),l.Pb(),l.Mb(95,"img",22),l.Pb(),l.Qb(96,"div",8),l.Qb(97,"div",9),l.Qb(98,"p"),l.zc(99,"3. Las indicaciones fuera del texto son aquellas que aparecen en un peque\xf1o pop-up por encima del campo con el input."),l.Pb(),l.Pb(),l.Mb(100,"img",23),l.Pb(),l.Qb(101,"div",8),l.Qb(102,"div",9),l.Qb(103,"p"),l.zc(104,"4. Las indicaciones dentro del texto son aquellas que aparecen justo por encima de donde haya situado la palabra identificadora en el texto."),l.Pb(),l.Pb(),l.Mb(105,"img",24),l.Pb(),l.Qb(106,"div",8),l.Qb(107,"div",9),l.Qb(108,"p"),l.zc(109,"5. Una vez haya finalizado escribiendo las indicaciones haga click en el bot\xf3n Hecho. Para poder previsualizar las indicaciones haga click en el bot\xf3n de Preview como en el apartado III y pulse el bot\xf3n con el icono de una interrogaci\xf3n en la parte superior derecha del campo."),l.Pb(),l.Pb(),l.Mb(110,"img",25),l.Pb(),l.Pb(),l.Qb(111,"div",6),l.Qb(112,"div",7),l.Qb(113,"h3"),l.zc(114," VI. "),l.Qb(115,"u"),l.zc(116,"Eliminar"),l.Pb(),l.Pb(),l.Pb(),l.Qb(117,"div",12),l.Mb(118,"img",26),l.Qb(119,"div",14),l.Qb(120,"p"),l.zc(121,"1. Para eliminar el campo, simplemente haga click en el icono con la papelera. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb())},encapsulation:2}),e})();const j=["quill"],N=["automatikDocDiv"],U=["inputsMenuDiv"],H=["textPreviewDiv"],G=["title"],J=["description"],$=["lightBox"],X=["modalChooseDocument"],K=["addQuestionMenuModal"];function W(e,i){1&e&&(l.Qb(0,"div",63),l.Mb(1,"div",64),l.Pb())}function Y(e,i){1&e&&(l.Qb(0,"div",65),l.Mb(1,"span",66),l.Pb())}const ee=function(){return{standalone:!0}};function ie(e,i){if(1&e){const e=l.Rb();l.Qb(0,"div",67,68),l.Qb(2,"quill-editor",69),l.Zb("onContentChanged",(function(i){return l.rc(e),l.dc().quillText=i.html}))("onEditorCreated",(function(){return l.rc(e),l.dc().setAdditionalQuillButtons()})),l.Pb(),l.Pb()}if(2&e){const e=l.dc();l.zb(2),l.ic("ngModel",e.quillText)("ngModelOptions",l.kc(4,ee))("customOptions",e.customOptions)("modules",e.quillModules)}}function te(e,i){if(1&e&&(l.Qb(0,"div",70,71),l.zc(2),l.Pb()),2&e){const e=l.dc();l.zb(2),l.Bc(" ",e.quillText," ")}}function ne(e,i){if(1&e){const e=l.Rb();l.Qb(0,"span",72),l.zc(1),l.Qb(2,"span",73),l.Zb("click",(function(){l.rc(e);const t=i.$implicit;return l.dc().removeTag(t)})),l.Pb(),l.Pb()}if(2&e){const e=i.$implicit;l.zb(1),l.Bc(" ",e," ")}}function oe(e,i){if(1&e&&(l.Qb(0,"div",74),l.Qb(1,"div",75),l.Mb(2,"app-comments",76),l.Pb(),l.Pb()),2&e){const e=l.dc();l.zb(2),l.ic("form",e.form)}}function se(e,i){1&e&&l.Mb(0,"app-input-text-guide")}function ae(e,i){1&e&&l.Mb(0,"app-input-radio-a-guide")}function re(e,i){1&e&&l.Mb(0,"app-input-radio-b-guide")}const ce=function(e){return{"form-creator__text-area--quill-text":e}},de=function(){return["bold","italic","underline","strike"]},ue=function(){return{list:"ordered"}},le=function(){return{list:"bullet"}},be=function(e,i){return[e,i]},pe=function(){return["small",!1,"large","huge"]},me=function(e){return{size:e}},ge=function(e){return[e]},fe=function(){return{direction:"rtl"}},ve=function(){return["link"]},he=function(e,i,t,n,o){return[e,i,t,n,o]},_e=function(e){return{toolbar:e}},Pe=function(e){return{"checkout-panel__body__document-type-selection__button-area__doc-button--active":e}};let Qe=(()=>{class e{constructor(e,i,t,n,o,s,c,d,u,l){this.formService=e,this.commonsService=i,this.route=t,this.router=n,this.fb=o,this.stepModelService=s,this.stateService=c,this.odfCreatorService=d,this.plainTextCreatorService=u,this.userService=l,this.quillText="",this.injectedComponents=[],this.form=new r.i,this.tags=new a.g,this.fields=[],this.errors={},this.documentType="office",this.currentStep=0,this.reader=new FileReader,this.isButtonDisabled=!1,this.isSubmitting=!1,this.updatingForm=!1,this.isDeleting=!1,this.isNewForm=!1,this.isFormValid=!1,this.isInPreviewMode=!1,this.formGroup=this.fb.group({title:["",a.E.required],description:["",a.E.required],indications:"",public:new a.g(!0),commentsEnabled:new a.g(!0),enabled:new a.g(!0)})}ngOnInit(){console.log("llega antes al componente",this.route.snapshot.data.initedInServer),this.route.snapshot.data.initedInServer?this.userService.isAuthenticated.subscribe(e=>{e&&this.commonsService.isBrowser()&&this.initialValue()}):this.initialValue()}initialValue(){window.DOCUMENTOURL=!1,this.route.data.subscribe(e=>{e.form?(this.quillText=e.form.text,this.textPreview=e.form.text,this.form=e.form,this.formGroup.patchValue(e.form),this.form.documentType=e.form.documentType,this.updatingForm=!0,setTimeout(()=>{this.setCurrentStep(this.form.currentStep)},0)):(this.updatingForm=!1,this.toogleModal(this.modalChooseDocument.nativeElement)),this.setInitialState(),this.updatingForm&&this.setDocument(this.form.documentType)})}ngAfterViewInit(){}ngOnDestroy(){this.commonsService.isBrowser()&&(this.documentService&&("office"===this.documentType&&this.odfCreatorService.closeAndDestroyEditor(),this.documentService.destroyResizeDocumentContainer()),this.commonsService.setFormCreatorPlayground(!0),window.removeEventListener("resize",this.commonsService.resizeEditor))}preview(e){e?(this.stateService.setState("fill-form"),this.documentService.setPreview(this.quillText).then(()=>{this.stepModelService.setInitialState()})):(this.stateService.setState("create-form"),this.documentService.unsetPreview())}setInitialState(){this.stateService.setState("create-form"),this.stateService.stateSubscribe().subscribe(e=>{this.state=e}),this.stepModelService.stepsEvent.subscribe(e=>{"remove-step"===e&&(this.form.fields=this.stepModelService.getStepsModel())})}setDocument(e){"plain"===e&&(this.plainTextSelected=!0),this.documentType=e,this.form.documentType=e,this.stateService.setDocumentType(this.documentType),"office"===e?(this.setDivHeight(),this.documentService=this.odfCreatorService,this.commonsService.isBrowser()&&this.documentService.init("create-form",this.updatingForm?this.form.text:"","editorContainer").then(e=>{this.commonsService.setFormCreatorPlayground(!1),this.commonsService.resizeEditor(!0),window.addEventListener("resize",this.commonsService.resizeEditor),this.documentService.setDragAndDropForSetUp(),this.documentService.resizeDocumentContainer()})):(this.documentService=this.plainTextCreatorService,this.quillModules=this.documentService.quillModules(),this.customOptions=this.documentService.customOptions(),this.documentService.init("editor-container","editor-preview"),this.commonsService.setFormCreatorPlayground(!1),this.commonsService.resizeEditor(!0),window.addEventListener("resize",this.commonsService.resizeEditor),this.documentService.resizeDocumentContainer()),this.stepModelService.init(this.form.fields,this.documentType)}setDivHeight(){setTimeout(()=>{if(window.innerWidth>885&&null!==document.querySelector("#form-creator")){const e=window.innerHeight-(document.getElementsByTagName("nav")[0].clientHeight+document.querySelector(".sub-menu").clientHeight)+"px";document.querySelector("#form-creator").style.height=e}},100)}setCurrentStep(e){this.currentStep=e}nextStepAfterValidate(){this.form.fields[this.currentStep].mandatory&&"fill-form"===this.state?"iText"===this.form.fields[this.currentStep].type&&(""===this.form.fields[this.currentStep].replacement?this.toastMessage("error","Validation error","This field is mandatory"):this.setCurrentStep(this.currentStep+1)):this.setCurrentStep(this.currentStep+1)}injectComponent(e){let i;switch(e){case"input-text":i=JSON.parse(JSON.stringify(c));break;case"input-radio-a":i=JSON.parse(JSON.stringify(d));break;case"input-radio-b":i=JSON.parse(JSON.stringify(u))}this.stepModelService.addNewStep(i),this.toogleModal(this.addQuestionMenuModal.nativeElement),this.setCurrentStep(this.form.fields.length-1)}toogleModal(e){this.commonsService.toggleModal(e,!1)}previewDocumentButton(e){this.commonsService.previewDocumentButton(e),this.documentService.resizeEvent()}toastMessage(e,i,t){this.commonsService.toastMessage(e,i,t)}setAdditionalQuillButtons(){setTimeout(()=>{this.documentService.setAdditionalQuillButtons(this.quill.nativeElement)},100)}toggleLightbox(e){this.currentGuide=e,this.commonsService.toggleLightbox(this.lightBox.nativeElement,!1)}addTag(){const e=this.tags.value;this.form.tags.indexOf(e)<0&&this.form.tags.push(e),this.tags.reset("")}removeTag(e){this.form.tags=this.form.tags.filter(i=>i!==e)}submitForm(){this.validate()&&(this.form.fields.length||this.updatingForm?"office"===this.documentType?"fill-form"===this.state?(this.stateService.setState("create-form"),this.documentService.unsetPreview().then(()=>{this.documentService.getDocumentToSave().then(e=>{this.form.text=e,this.saveForm()})})):this.documentService.getDocumentToSave().then(e=>{console.log(e),this.form.text=e,this.saveForm()}):(this.form.text=this.quillText,this.saveForm()):alert("Form is empty"))}saveForm(){this.isSubmitting=!0,this.form.currentStep=this.currentStep,this.updateAuthorForm(this.formGroup.value),console.log(this.form),this.formService.save(this.form).subscribe(e=>{this.updatingForm?this.toastMessage("success","Actualizado",e.title):(this.toastMessage("success","Ha sido creado",e.title),this.router.navigateByUrl("/create-form/edit/"+e.slug)),this.isSubmitting=!1},e=>{this.toastMessage("error",e.errors.message,"Ha ocurrido un error"),this.isSubmitting=!1})}updateAuthorForm(e){Object.assign(this.form,e)}deleteForm(){this.formService.destroy(this.form.slug).subscribe(e=>{this.toastMessage("success","Eliminado",this.form.title),this.router.navigateByUrl("/")})}validate(){return 0===this.form.fields.length?(this.toggleTab="linkFormButton",this.toastMessage("error","El formulario no tiene ning\xfan campo","Formulario vac\xedo"),!1):this.formGroup.controls.title.invalid?(this.isFormValid=!1,this.title.nativeElement.classList.add("input-error"),this.toggleTab="linkInformationButton",this.toastMessage("error","T\xedtulo no v\xe1lido","Form empty"),!1):(this.title.nativeElement.classList.remove("input-error"),this.formGroup.controls.description.invalid?(this.isFormValid=!1,this.description.nativeElement.classList.add("input-error"),this.toggleTab="linkInformationButton",this.toastMessage("error","Descripci\xf3n no v\xe1lida","Formulario vac\xedo"),!1):(this.description.nativeElement.classList.remove("input-error"),!0))}validateDescription(e){e.target.value.length>400&&(e.target.value=e.target.value.substring(0,400))}}return e.\u0275fac=function(i){return new(i||e)(l.Lb(r.k),l.Lb(r.e),l.Lb(s.a),l.Lb(s.d),l.Lb(a.f),l.Lb(r.q),l.Lb(r.p),l.Lb(r.l),l.Lb(r.m),l.Lb(r.s))},e.\u0275cmp=l.Fb({type:e,selectors:[["app-create-form"]],viewQuery:function(e,i){var t;1&e&&(l.Dc(j,!0),l.Dc(N,!0),l.Dc(U,!0),l.Dc(H,!0),l.Dc(G,!0),l.Dc(J,!0),l.Dc($,!0),l.wc(X,!0),l.Dc(K,!0)),2&e&&(l.oc(t=l.ac())&&(i.quill=t.first),l.oc(t=l.ac())&&(i.automatikDocDiv=t.first),l.oc(t=l.ac())&&(i.inputsMenuDiv=t.first),l.oc(t=l.ac())&&(i.textPreviewDiv=t.first),l.oc(t=l.ac())&&(i.title=t.first),l.oc(t=l.ac())&&(i.description=t.first),l.oc(t=l.ac())&&(i.lightBox=t.first),l.oc(t=l.ac())&&(i.modalChooseDocument=t.first),l.oc(t=l.ac())&&(i.addQuestionMenuModal=t.first))},decls:89,vars:53,consts:[[3,"isSubmitting","updatingForm","toggleTab","deleteEvent","submitEvent","previewEvent"],["id","form-creator",1,"form-creator"],["automatikDocDiv",""],[1,"form-creator__container"],["id","fields-area",1,"form-creator__fields-area"],[1,"form-creator__fields-area__container"],[1,"form-creator__fields-area__top"],[3,"state","previewDocumentEvent","toogleModalEvent"],[1,"form-creator__fields-area__middle"],[3,"currentStep","fields"],[3,"currentStep","fields","setStepEvent","nextStepEvent"],["id","text-area",1,"form-creator__text-area",3,"ngClass"],["id","wodoautomatikdocs","style","width:100%; height:100%; margin:0px; padding:0px",4,"ngIf"],["id","expand-editor-button","class","d-none-flex",4,"ngIf"],["id","editor-container","class","d-block",4,"ngIf"],["class","form-creator__text-area__quill-text-result ql-container ql-snow d-none","id","editor-preview","style","height: auto;",4,"ngIf"],["id","scrollToTop",1,"button-filled","button-filled--preview-document",2,"display","none",3,"click"],[2,"font-size","20px"],["id","information",1,"information",2,"display","none",3,"formGroup"],[1,"information-error",3,"errors"],[1,"information__container"],[1,"information__section-left"],["formControlName","title","type","text","placeholder","T\xedtulo"],["title",""],["formControlName","description","name","description","id","description","cols","30","rows","6","placeholder","Descripci\xf3n",3,"keyup"],["description",""],[1,"information__section-left__indications"],["placeholder","Indicaciones antes de rellenar el formulario","formControlName","indications",3,"modules","onContentChanged"],[1,"information__section-right"],[1,"information__section-right__tags"],["type","text","placeholder","tags",3,"formControl","keyup.enter"],[1,"information__section-right__tags__container"],["class","tag-text",4,"ngFor","ngForOf"],[1,"information__section-right__buttons"],[1,"information__section-right__buttons__switch-button"],[1,"switch"],["type","checkbox","checked","","formControlName","public"],[1,"slider","slider--round"],[1,"information__section-right__buttons__switch-button__label"],["type","checkbox","checked","","formControlName","commentsEnabled"],["id","comments","style","display: none",4,"ngIf"],[1,"modal"],["modalChooseDocument",""],[1,"modal__content","modal__content--choose-document-type"],[1,"checkout-panel"],[1,"checkout-panel__body","checkout-panel__body--choose-document-type"],[1,"checkout-panel__body__document-type-selection"],[1,"checkout-panel__body__document-type-selection__container"],[1,"checkout-panel__body__document-type-selection__button-area"],[1,"checkout-panel__body__document-type-selection__button-area__doc-button",3,"ngClass","click","dblclick"],[1,"checkout-panel__footer","checkout-panel__footer--one-button"],[1,"btn","next-btn",3,"click"],["addQuestionMenuModal",""],[1,"modal__content","modal__content--add-new-question"],[1,"modal__content__modal-middle","modal__content__modal-middle--add-new-question"],[3,"toggleLightboxEvent","injectComponentEvent"],[1,"modal__content__modal-bottom","modal__content__modal-bottom--privacy"],["id","modal-button",1,"button-filled",3,"click"],[1,"info-lightbox"],["lightBox",""],[1,"close-info-lightbox",3,"click"],[1,"info-lightbox__content"],[4,"ngIf"],["id","wodoautomatikdocs",2,"width","100%","height","100%","margin","0px","padding","0px"],["id","editorContainer",2,"width","100%","height","100%","margin","0px","padding","0px"],["id","expand-editor-button",1,"d-none-flex"],[1,"icon","icon-expand-solid"],["id","editor-container",1,"d-block"],["quill",""],["id","editor",3,"ngModel","ngModelOptions","customOptions","modules","onContentChanged","onEditorCreated"],["id","editor-preview",1,"form-creator__text-area__quill-text-result","ql-container","ql-snow","d-none",2,"height","auto"],["textPreviewDiv",""],[1,"tag-text"],[1,"icon","icon-times-solid",3,"click"],["id","comments",2,"display","none"],[1,"comments"],[1,"comments__container",3,"form"]],template:function(e,i){if(1&e){const e=l.Rb();l.Qb(0,"app-sub-menu",0),l.Zb("deleteEvent",(function(){return i.deleteForm()}))("submitEvent",(function(){return i.submitForm()}))("previewEvent",(function(e){return i.preview(e)})),l.Pb(),l.Qb(1,"div",1,2),l.Qb(3,"div",3),l.Qb(4,"div",4),l.Qb(5,"div",5),l.Qb(6,"div",6),l.Qb(7,"app-fields-area-top",7),l.Zb("previewDocumentEvent",(function(){return i.previewDocumentButton(!0)}))("toogleModalEvent",(function(){l.rc(e);const t=l.pc(74);return i.toogleModal(t)})),l.Pb(),l.Pb(),l.Qb(8,"div",8),l.Mb(9,"app-fields-area-middle",9),l.Pb(),l.Qb(10,"app-fields-area-bottom",10),l.Zb("setStepEvent",(function(e){return i.setCurrentStep(e)}))("nextStepEvent",(function(){return i.nextStepAfterValidate()})),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"div",11),l.yc(12,W,2,0,"div",12),l.yc(13,Y,2,0,"div",13),l.yc(14,ie,3,5,"div",14),l.yc(15,te,3,1,"div",15),l.Qb(16,"button",16),l.Zb("click",(function(){return i.previewDocumentButton(!1)})),l.zc(17,"Form "),l.Qb(18,"span",17),l.zc(19,"\u2191"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(20,"form",18),l.Mb(21,"app-list-errors",19),l.Qb(22,"div",20),l.Qb(23,"div",21),l.Mb(24,"input",22,23),l.Qb(26,"textarea",24,25),l.Zb("keyup",(function(e){return i.validateDescription(e)})),l.Pb(),l.Qb(28,"div",26),l.Qb(29,"quill-editor",27),l.Zb("onContentChanged",(function(e){return i.form.indications=e.html})),l.Pb(),l.Pb(),l.Pb(),l.Qb(30,"div",28),l.Qb(31,"div",29),l.Qb(32,"input",30),l.Zb("keyup.enter",(function(){return i.addTag()})),l.Pb(),l.Qb(33,"div",31),l.yc(34,ne,3,1,"span",32),l.Pb(),l.Pb(),l.Qb(35,"div",33),l.Qb(36,"div",34),l.Qb(37,"label",35),l.Mb(38,"input",36),l.Mb(39,"span",37),l.Pb(),l.Qb(40,"span",38),l.zc(41," Hacer el formulario p\xfablico "),l.Pb(),l.Pb(),l.Qb(42,"div",34),l.Qb(43,"label",35),l.Mb(44,"input",39),l.Mb(45,"span",37),l.Pb(),l.Qb(46,"span",38),l.zc(47," Desactivar comentarios "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.yc(48,oe,3,1,"div",40),l.Qb(49,"div",41,42),l.Qb(51,"div",43),l.Qb(52,"div",44),l.Qb(53,"div",45),l.Qb(54,"div",46),l.Qb(55,"div",47),l.Qb(56,"div",48),l.Qb(57,"div",49),l.Zb("click",(function(){return i.documentType="office"}))("dblclick",(function(){l.rc(e);const t=l.pc(50);return i.toogleModal(t),i.setDocument("office")})),l.Qb(58,"span"),l.zc(59,"Documento Office"),l.Pb(),l.Mb(60,"br"),l.Qb(61,"small"),l.zc(62,"Seleccione la opci\xf3n Documento Office cuando lo que desee crear sea un documento exportable a formatos word o pdf. Un documento de las dimensiones de un folio. "),l.Pb(),l.Pb(),l.Pb(),l.Qb(63,"div",48),l.Qb(64,"div",49),l.Zb("click",(function(){return i.documentType="plain"}))("dblclick",(function(){l.rc(e);const t=l.pc(50);return i.toogleModal(t),i.setDocument("plain")})),l.Qb(65,"span"),l.zc(66,"Texto Simple"),l.Pb(),l.Mb(67,"br"),l.Qb(68,"small"),l.zc(69,"Seleccione la opci\xf3n Texto Simple cuando lo que desea crear es un texto sin ning\xfan formato espec\xedfico."),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(70,"div",50),l.Qb(71,"button",51),l.Zb("click",(function(){l.rc(e);const t=l.pc(50);return i.toogleModal(t),i.setDocument(i.documentType)})),l.zc(72,"Listo"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(73,"div",41,52),l.Qb(75,"div",53),l.Qb(76,"div",54),l.Qb(77,"app-add-question-menu",55),l.Zb("toggleLightboxEvent",(function(e){return i.toggleLightbox(e)}))("injectComponentEvent",(function(e){return i.injectComponent(e)})),l.Pb(),l.Qb(78,"div",56),l.Qb(79,"button",57),l.Zb("click",(function(){l.rc(e);const t=l.pc(74);return i.toogleModal(t)})),l.zc(80," Cerrar "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(81,"div",58,59),l.Qb(83,"span",60),l.Zb("click",(function(){l.rc(e);const t=l.pc(82);return i.toggleLightbox(t)})),l.zc(84,"\xd7"),l.Pb(),l.Qb(85,"div",61),l.yc(86,se,1,0,"app-input-text-guide",62),l.yc(87,ae,1,0,"app-input-radio-a-guide",62),l.yc(88,re,1,0,"app-input-radio-b-guide",62),l.Pb(),l.Pb()}2&e&&(l.ic("isSubmitting",i.isSubmitting)("updatingForm",i.updatingForm)("toggleTab",i.toggleTab),l.zb(7),l.ic("state",i.state),l.zb(2),l.ic("currentStep",i.currentStep)("fields",i.form.fields),l.zb(1),l.ic("currentStep",i.currentStep)("fields",i.form.fields),l.zb(1),l.ic("ngClass",l.lc(24,ce,"plain"===i.documentType)),l.zb(1),l.ic("ngIf","office"===i.documentType),l.zb(1),l.ic("ngIf","plain"===i.documentType),l.zb(1),l.ic("ngIf","plain"===i.documentType&&i.plainTextSelected),l.zb(1),l.ic("ngIf","plain"===i.documentType),l.zb(5),l.ic("formGroup",i.formGroup),l.zb(1),l.ic("errors",i.errors),l.zb(8),l.ic("modules",l.lc(47,_e,l.nc(41,he,l.kc(26,de),l.mc(29,be,l.kc(27,ue),l.kc(28,le)),l.lc(35,ge,l.lc(33,me,l.kc(32,pe))),l.lc(38,ge,l.kc(37,fe)),l.kc(40,ve)))),l.zb(3),l.ic("formControl",i.tags),l.zb(2),l.ic("ngForOf",i.form.tags),l.zb(14),l.ic("ngIf",i.updatingForm),l.zb(9),l.ic("ngClass",l.lc(49,Pe,"office"===i.documentType)),l.zb(7),l.ic("ngClass",l.lc(51,Pe,"plain"===i.documentType)),l.zb(22),l.ic("ngIf","input-text"===i.currentGuide),l.zb(1),l.ic("ngIf","input-radio-a"===i.currentGuide),l.zb(1),l.ic("ngIf","input-radio-b"===i.currentGuide))},directives:[h,P,k,F,n.q,n.t,a.G,a.r,a.j,B.a,a.c,a.q,a.i,A.a,a.h,n.s,a.a,L,a.t,O.a,V,Z,R],encapsulation:2}),e})();var xe=t("lJxs"),ze=t("JIr8");let Se=(()=>{class e{constructor(e,i,t,n){this.formsService=e,this.router=i,this.userService=t,this.commonsService=n}resolve(e,i){if(this.commonsService.isBrowser()){if(this.userService.isAuth)return this.returnValue(e);this.userService.isAuthenticated.subscribe(i=>{if(i&&this.commonsService.isBrowser())return this.returnValue(e)})}}returnValue(e){return this.formsService.get(e.params.slug).pipe(Object(xe.a)(e=>{if(this.userService.getCurrentUser().username===e.author.username)return e;this.router.navigateByUrl("/")}),Object(ze.a)(e=>this.router.navigateByUrl("/")))}}return e.\u0275fac=function(i){return new(i||e)(l.Vb(r.k),l.Vb(s.d),l.Vb(r.s),l.Vb(r.e))},e.\u0275prov=l.Hb({token:e,factory:e.\u0275fac}),e})();const Ie=[{path:"",component:Qe,resolve:{initedInServer:r.b}},{path:"edit/:slug",component:Qe,resolve:{initedInServer:r.b,form:Se}}];let ye=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(i){return new(i||e)},imports:[[s.h.forChild(Ie)],s.h]}),e})(),Me=(()=>{class e{}return e.\u0275mod=l.Jb({type:e}),e.\u0275inj=l.Ib({factory:function(i){return new(i||e)},providers:[Se],imports:[[n.c,o.a,ye,A.b.forRoot()]]}),e})()}}]);