<div id="sub-menu">
    <div class="sub-menu-container sub-menu-container-myforms">
        <ul class="sub-menu-nav" (click)="topMenuNav($event)">
            <li class="current"><a href="created" class="sub-menu-button">Created</a></li>
            <li ><a href="filled" class="sub-menu-button">Filled</a></li>
        </ul>
    </div>
</div>
<div class="container">
    <div id="created" class="content">
        <table>
            <thead>
                <tr>
                    <th>Formulario</th>
                    <th>Status</th>
                    <th>Visibilidad</th>
                    <th>Comentarios</th>
                    <th>Likes</th>
                    <th>Visualizaciones</th>
                    <th>Actualizado</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let form of results">
                    <td data-column="Formulario">
                        <a [routerLink]="['/create-form/edit', form.slug]">{{ form.title }}</a>
                    </td>
                    <td data-column="Status">
                        <div class="form-group">
                            <input type="checkbox" name="status" id="status" value="enabled"
                            [checked]="form.enabled" (change)="updateForm($event, form)">
                            <label for="status">&emsp;Activo</label>
                        </div>
                    </td>
                    <td data-column="Visibilidad">
                        <div class="form-group">
                            <input type="checkbox" name="visibility" id="visibility" value="public"
                            [checked]="form.public" (change)="updateForm($event, form)">
                            <label for="visibility">&emsp;Público</label>
                        </div>       
                    </td>
                    <td data-column="Comentarios">
                        <div class="form-group">
                            <input type="checkbox" name="comentarios" id="comentarios" value="commentsEnabled"
                            [checked]="form.commentsEnabled" (change)="updateForm($event, form)">
                            <label for="comentarios">&emsp;Comentarios</label>
                        </div>  
                    </td>
                    <td data-column="Likes">{{ form.likesCount }}</td>
                    <td data-column="Visualizaciones">{{ form.viewsCount }}</td>
                    <td data-column="Actualizado">{{form.updatedAt | date: 'dd/MM/yyyy'}}</td>
                    <td data-column="Eliminar" (click)="deleteForm(form)"><span class="icon icon-trash-alt-regular delete"></span></td>
                </tr>
            </tbody>
        </table>
        <span class="load-more-my-forms" *ngIf="noMoreForms === false">
            <button class="load-more-button" (click)="moreForms()">Cargar más</button>
        </span>

        <div class="noMoreForms" *ngIf="noMoreForms === true">
            <h2>- No more forms to load -</h2>
        </div>

        <div class="loader" [style.display]="loadingQuery ? 'flex' : 'none'">
            <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="80px" height="80px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
            <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
                <animateTransform attributeType="xml"
                attributeName="transform"
                type="rotate"
                from="0 25 25"
                to="360 25 25"
                dur="0.6s"
                repeatCount="indefinite"/>
                </path>
            </svg>
        </div>
    </div>
    <div id="filled" class="content">
        <table>
            <thead>
                <tr>
                    <th>Formulario</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let form of resultsFilled">
                    <td data-column="Formulario">
                        <a [routerLink]="['/fill-form/edit', form.slug]">
                            {{form.title}}
                        </a>
                    </td>
                    <td data-column="Eliminar" (click)="deleteFilled(form)"><span class="icon icon-trash-alt-regular delete"></span></td>
                </tr>
            </tbody>
        </table>
        <span class="load-more-my-forms" *ngIf="noMoreFormsFilled === false">
            <button class="load-more-button" (click)="moreFormsFilled()">Cargar más</button>
        </span>

        <div class="noMoreForms" *ngIf="noMoreFormsFilled === true">
            <h2>- No more forms to load -</h2>
        </div>
    </div>
</div>