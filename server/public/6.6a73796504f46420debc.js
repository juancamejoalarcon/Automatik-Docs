(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"e0C/":function(e,t,n){"use strict";n.r(t);var i=n("CcnG"),o=function(){return function(){}}(),r=n("SizQ"),a=n("f1M8"),l=n("KCa2"),s=n("g6Sl"),c=n("pUM3"),u=n("2xeN"),d=n("SK3e"),p=n("a+cq"),_=n("pMnS"),m=n("ZYCi"),f=n("Ip0R"),h=n("26FU"),E=n("ad02"),b=function(){function e(){this.currentFormSubject=new h.a({}),this.currentForm=this.currentFormSubject.asObservable().pipe(Object(E.a)())}return e.prototype.setForm=function(e){this.currentFormSubject.next(Object.assign({},e))},e.prototype.getCurrentForm=function(){return this.currentFormSubject.value},e}(),y=n("ey9i"),g=n("KlD3"),A=function(){function e(e,t){this.commonsService=e,this.convertService=t,this.scrollToelement=!1}return e.prototype.init=function(e){var t=this;return this.createEditorFromURI("fillForm","editorContainer",e),new Promise(function(e,n){var i=setInterval(function(){window.editor&&window.editor.getEditorSession()&&document.getElementsByTagName("office:text").length&&(t.originalDocumentBodyClone=document.getElementsByTagName("office:text")[0].cloneNode(!0),clearInterval(i),e("Document ready"))},300)})},e.prototype.destroy=function(){g.a(),window.removeEventListener("resize",this.resizeEvent)},e.prototype.createEditorFromURI=function(e,t,n){void 0===t&&(t="editorContainer");for(var i=atob(n.split(",")[1]),o=n.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(i.length),a=new Uint8Array(r),l=0;l<i.length;l++)a[l]=i.charCodeAt(l);var s=new Blob([r],{type:o}),c=URL.createObjectURL(s);window.DOCUMENTOURL=c,g.c(e,t)},e.prototype.getEditorSession=function(){return g.f()},e.prototype.saveUri=function(){var e=new FileReader;return new Promise(function(t,n){g.e().getDocumentAsByteArray(function(n,i){if(n)alert(n);else{var o=new Blob([i.buffer],{type:"application/vnd.oasis.opendocument.text"});e.readAsDataURL(o),e.onloadend=function(){t(e.result)}}})})},e.prototype.resizeDocumentContainer=function(){this.resizeEvent=function(){setTimeout(function(){document.getElementById("webodfeditor-editor1").style.height=document.getElementById("text-area").clientHeight+"px",document.getElementById("webodfeditor-editor1").style.width=document.getElementById("text-area").clientWidth+"px",g.d()},10)},window.addEventListener("resize",this.resizeEvent),g.d()},e.prototype.buildDocument=function(e,t){this.currentDocumentBodyClone=this.originalDocumentBodyClone.cloneNode(!0),this.structuralChanges(e),this.replacements(e),document.getElementsByTagName("office:text")[0].parentElement.replaceChild(this.currentDocumentBodyClone.cloneNode(!0),document.getElementsByTagName("office:text")[0]),this.getEditorSession().getOdfCanvas().refreshSize(),t&&this.scrollToElementWithClass("focused")},e.prototype.scrollToElementWithClass=function(e,t){void 0===t&&(t=0);var n=document.querySelector("."+e);if(n){var i=document.getElementById("webodfeditor-canvascontainer1"),o=i.clientHeight/2,r=n.getBoundingClientRect().top;i.scrollTo({top:i.scrollTop+r-o,behavior:"smooth"})}},e.prototype.dateToSpanishFormat=function(e){var t=new Date(e),n="";return e&&(n=t.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})),n},e.prototype.showIndicationInsideText=function(e,t){var n=document.querySelector("[data-identifier="+e+"]"),i=document.createElement("div");i.innerHTML='<div class="indicator-content not-selectable">\n                        <button id="close-indication">&#10006;</button>\n                        <span class="not-selectable" style="margin:auto; width:100%">'+t+"\n                        </span>\n                    </div>",i.style.top=n.getBoundingClientRect().top.toString(),i.style.left=n.getBoundingClientRect().left.toString(),i.classList.add("indicator"),i.classList.add("smooth-intro"),i.classList.add("not-selectable"),n.appendChild(i);var o=function(e){window.innerWidth>885?e.target.classList.contains("icon-info-circle-solid")||e.target.classList.contains("indication")?document.querySelectorAll(".indicator").length>=2&&(i.parentNode.removeChild(i),window.removeEventListener("click",o)):(i.parentNode.removeChild(i),window.removeEventListener("click",o)):"scrollToTop"!==e.target.id&&"close-indication"!==e.target.id||(i.parentNode.removeChild(i),window.removeEventListener("click",o))};window.addEventListener("click",o),this.scrollToElementWithClass("indicator",i.offsetHeight)},e.prototype.structuralChanges=function(e){var t=this;e.forEach(function(e){"iRadioC"===e.type?t.buildForRadioC(e):"iCheckbox"===e.type?t.buildForCheckbox(e):"iForEach"===e.type&&t.buildForEach(e)})},e.prototype.buildForEach=function(e){var t=this;e.content.forEach(function(n){var i=t.findword(n.wordToReplace);i.textContent===n.wordToReplace&&(n.modifiedReplacements.slice().reverse().forEach(function(o,r){var a,l=new RegExp(e.wordToReplace,"g");if(r!==n.modifiedReplacements.length-1){var s=i.cloneNode(!0);i.parentNode.insertBefore(s,i.nextSibling),a=s}else a=i;(a=t.findExactContainingElement(e.wordToReplace,a)).innerHTML=a.innerHTML.replace(l,o)}),n.modifiedExtraReplacements.slice().reverse().forEach(function(e,n){e.forEach(function(e){var n=t.findword(e[0].identifier);e.slice().reverse().forEach(function(i,o){var r,a=new RegExp(i.identifier,"g");if(o!==e.length-1){var l=n.cloneNode(!0);n.parentNode.insertBefore(l,n.nextSibling),r=t.findExactContainingElement(i.identifier,l)}else r=t.findExactContainingElement(i.identifier,n);r.innerHTML=r.innerHTML.replace(a,i.replacement)})})}))})},e.prototype.buildForRadioC=function(e){var t,n=this,i=this.findword(e.wordToReplace),o=new RegExp(e.wordToReplace,"g");for(e.radios.forEach(function(i){i.checked&&(t=e.isFocused?'<span class="highlight-disapear focused">'+i.replacement+"</span>":i.replacement,e.extraReplacements.forEach(function(e,t){var o,r=new RegExp(e.wordToReplace,"g"),a=n.findword(e.wordToReplace),l=n.findExactContainingElement(e.wordToReplace,a);i.extraReplacements.forEach(function(t){t.insideId===e.insideId&&(o=t.replacement)}),l.innerHTML=l.innerHTML.replace(r,o)}))}),i=this.findExactContainingElement(e.wordToReplace,i);i.firstElementChild;)i=i.firstElementChild;i.innerHTML=i.innerHTML.replace(o,t)},e.prototype.buildForCheckbox=function(e){var t=this.findword(e.wordToReplace),n=e.replacement;e.checkboxes.forEach(function(t){if(e.replacement.includes(t.wordToReplace))if(t.checked){var i=new RegExp(t.wordToReplace,"g");n=n.replace(i,t.replacement)}else i=new RegExp(t.wordToReplace,"g"),n=n.replace(i,"")}),t.innerHTML===e.wordToReplace&&(t.innerHTML=n)},e.prototype.replacements=function(e){var t=this;e.forEach(function(e){if("iText"===e.type||"iDate"===e.type||"iNumber"===e.type){var n=t.findAllwords(e.wordToReplace),i=new RegExp(e.wordToReplace,"g");n.forEach(function(n){var o=n,r=e.replacement;o.innerHTML!==e.wordToReplace&&(o=t.findExactContainingElement(e.wordToReplace,o)),"iDate"===e.type&&(r=t.dateToSpanishFormat(e.replacement)),e.isEmpty&&""!==e.replacement&&(e.isEmpty.prepend&&(r=e.replacement.replace(e.isEmpty.prepend,""),r=e.isEmpty.prepend+e.replacement),e.isEmpty.append&&(r=e.replacement.replace(e.isEmpty.append,""),r=e.replacement+e.isEmpty.append)),o&&(o.innerHTML=o.innerHTML.replace(i,'<span class="'+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+r+"</span>"))})}else if("iRadioB"===e.type){n=t.findAllwords(e.wordToReplace);var o=new RegExp(e.wordToReplace,"g");n.forEach(function(n){e.radios.forEach(function(i){if(i.checked){var r=n;r.innerHTML!==e.wordToReplace&&(r=t.findExactContainingElement(e.wordToReplace,r)),r&&(r.innerHTML=r.innerHTML.replace(o,'<span class=" '+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+e.replacement+"</span>"))}})})}e.extraReplacements&&e.extraReplacements.length&&e.extraReplacements.forEach(function(e){var n=t.findAllwords(e.wordToReplace),i=new RegExp(e.wordToReplace,"g");n.forEach(function(n){var o=n,r=e.replacement;o.innerHTML!==e.wordToReplace&&(o=t.findExactContainingElement(e.wordToReplace,o)),o&&(o.innerHTML=o.innerHTML.replace(i,'<span class="'+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+r+"</span>"))})})})},e.prototype.findword=function(e,t){void 0===t&&(t=this.currentDocumentBodyClone);for(var n=t.childNodes,i=0;i<n.length;i++)if(!this.elementIsExcluded(n[i])&&(n[i].innerHTML.includes(e)||n[i].textContent.includes(e)))return n[i]},e.prototype.findAllwords=function(e,t){void 0===t&&(t=this.currentDocumentBodyClone);for(var n=[],i=t.childNodes,o=0;o<i.length;o++)this.elementIsExcluded(i[o])||i[o].innerHTML.includes(e)&&n.push(i[o]);return n},e.prototype.findExactContainingElement=function(e,t){for(var n=t;n.childNodes&&n.childNodes.length>0&&n.innerHTML.includes(e);)n.childNodes.forEach(function(t){"#text"!==t.nodeName?t.innerHTML.includes(e)&&(n=t):t.textContent.includes(e)&&(n=t)});return"#text"===n.nodeName&&(n=n.parentNode),n},e.prototype.elementIsExcluded=function(e){return["office:text","text:sequence-decls","text:sequence-decl","draw:frame","draw:image","office:annotation","office:annotation-end","dc:creator","dc:date"].includes(e.nodeName)},e.prototype.downloadWord=function(e,t){var n=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(t){n.convertService.toWord(e,t).subscribe(function(e){for(var t=atob(e.word.split(",")[1]),i=e.word.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),r=new Uint8Array(o),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);var l=new Blob([o],{type:i}),s=URL.createObjectURL(l);console.log(s);var c=document.createElement("a");c.href=s,c.download="word.doc",c.click(),n.commonsService.toggleSpinner()})})},e.prototype.downloadPdf=function(e,t){var n=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(t){n.convertService.toPdf(e,t).subscribe(function(e){for(var t=atob(e.pdf.split(",")[1]),i=e.pdf.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),r=new Uint8Array(o),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);var l=new Blob([o],{type:i}),s=URL.createObjectURL(l);console.log(s);var c=document.createElement("a");c.href=s,c.download="document.pdf",c.click(),n.commonsService.toggleSpinner()})})},e}(),T=function(){function e(e,t){this.documentCreatorService=e,this.commonsService=t}return e.prototype.init=function(e){this.steps=e},e.prototype.setInitialState=function(){var e=this,t=function(){e.steps.forEach(function(t){switch(t.type){case"iText":case"iNumber":case"iDate":e.input(t.replacement,t.wordToReplace,!1);break;case"iForEach":e.buildForEach(t.value,t.wordToReplace,!1);break;case"iRadioC":var n=!0;t.radios.forEach(function(i){i.checked&&(n=!1,e.onInputRadioCSelected(i.radioId,t.wordToReplace,!1))}),n&&e.onInputRadioCSelected(t.defaultRadioId,t.wordToReplace,!1)}})};t(),t(),t(),this.buildDocument(!1)},e.prototype.buildDocument=function(e){void 0===e&&(e=!0),this.documentCreatorService.buildDocument(this.steps,e)},e.prototype.input=function(e,t,n){var i=this;void 0===n&&(n=!0),this.steps.forEach(function(n,o){n.wordToReplace===t?(n.replacement=e,n.isFocused=!0,"iNumber"===n.type&&i.rulesForInumber(n,o)):n.isFocused=!1}),n&&this.buildDocument()},e.prototype.rulesForInumber=function(e,t){var n=this;e.rules.length&&e.rules.forEach(function(t){"extraReplacementToCharacter"===t.rulename&&(e.extraReplacements.forEach(function(n,i){n.wordToReplace===t.wordToReplace&&e.extraReplacements.splice(i,1)}),e.extraReplacements.push({wordToReplace:t.wordToReplace,replacement:n.commonsService.numeroALetras(e.replacement,{plural:"euros",singular:"euro",centPlural:"centavos",centSingular:"centavo"})}))})},e.prototype.buildForEach=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=[];this.steps.forEach(function(n,r){if(n.wordToReplace===t){n.value=e;for(var a=JSON.parse(JSON.stringify(i.steps));i.steps[r+1]&&i.steps[r+1].wordToReplace.includes(n.identifier);)i.steps.splice(r+1,1);n.content.forEach(function(t,l){t.modifiedReplacements=[],t.modifiedExtraReplacements=[];var s=[];t.extraReplacements.forEach(function(){s.push([])});for(var c=function(c){var u=t.replacementOriginal;t.extraReplacements.forEach(function(e,t){s[t].push({identifier:e.identifier,replacement:e.replacementOriginal})}),t.subSteps.forEach(function(d,p){var _=n.identifier+d.identifier+c.toString()+p.toString();u=u.replace(d.identifier,_),t.extraReplacements.forEach(function(e,t){var i=d.extraReplacements[t],o=s[t][c];o.wordToReplace=e.identifier+c.toString()+p.toString();var r=n.identifier+i.identifier+c.toString()+p.toString();o.replacement=o.replacement.replace(i.identifier,r),i.wordToReplace=r});var m=JSON.parse(JSON.stringify(d));a.forEach(function(e){e.wordToReplace==_&&((m=JSON.parse(JSON.stringify(e))).cached=!0)}),m.identifier=_,m.wordToReplace=_,i.steps.splice(r+1+p+c*t.subSteps.length+parseInt(e)*l*t.subSteps.length,0,m),"iRadioC"===m.type&&o.push(m)}),t.modifiedReplacements.push(u)},u=0;u<parseInt(e);u++)c(u);t.modifiedExtraReplacements.push(s)})}}),n&&(o.forEach(function(e){e.cached?e.radios.forEach(function(t){t.checked&&i.onInputRadioCSelected(t.radioId,e.wordToReplace,!1)}):i.onInputRadioCSelected(e.defaultRadioId,e.wordToReplace,!1)}),this.buildDocument())},e.prototype.onInputRadioBSelected=function(e,t,n){void 0===n&&(n=!0),this.steps.forEach(function(n,i){n.wordToReplace===t?(n.isFocused=!0,n.radios.forEach(function(t){t.radioId===e?(n.replacement=t.replacementOriginal,t.checked=!0):t.checked=!1})):n.isFocused=!1}),n&&this.buildDocument()},e.prototype.onInputRadioCSelected=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=function(e,t,n){for(;i.steps[t+1]&&i.steps[t+1].wordToReplace.includes(e.wordToReplace);)i.steps.splice(t+1,1);var o=n.replacementOriginal;n.extraReplacements.forEach(function(e){e.replacement=e.replacementOriginal}),n.subSteps.forEach(function(r,a){r.wordToReplace=e.identifier+r.identifier,o=o.replace(r.identifier,r.wordToReplace),n.extraReplacements.forEach(function(e){e.replacement=e.replacement.replace(r.identifier,r.wordToReplace)}),"iCheckbox"===r.type&&r.checkboxes.forEach(function(e){e.checked=!1}),"iRadioC"===r.type&&(r.inheritFromRadioC=r.wordToReplace,r.radios.forEach(function(e){e.subSteps.forEach(function(t){var n=r.wordToReplace+t.identifier;e.replacementOriginal=e.replacementOriginal.replace(t.identifier,n),t.wordToReplace=n,t.identifier=n,t.inherited=!0})})),i.steps.splice(t+1+a,0,r)}),n.replacement=o,n.checked=!0};this.steps.forEach(function(n,i){if(n.identifier===t)n.radios.forEach(function(t){t.radioId===e?o(n,i,t):t.checked=!1});else if(n.inheritFromRadioC)if(n.inheritFromRadioC===t)n.radios.forEach(function(t){t.radioId===e?o(n,i,t):t.checked=!1});else{var r=!0;n.radios.forEach(function(e){e.checked?(r=!1,o(n,i,e)):e.checked=!1}),r&&n.radios.forEach(function(e){e.radioId===n.defaultRadioId?o(n,i,e):e.checked=!1})}n.isFocused=n.wordToReplace===t}),n&&this.buildDocument()},e.prototype.onInputCheckboxSelected=function(e,t,n,i){var o=this;void 0===i&&(i=!0),this.steps.forEach(function(i,r){if(i.wordToReplace===t){var a=i.replacementOriginal;i.checkboxes.forEach(function(t){if(t.wordToReplace=i.wordToReplace+t.identifier,a=a.replace(t.identifier,t.wordToReplace),t.identifier===e){for(var l=o.steps.length-r,s=0;s<l;s++)o.steps[r+1+s]&&o.steps[r+1+s].wordToReplace.includes(t.identifier)&&o.steps.splice(r+1+s,1);if(n){var c=t.replacementOriginal;t.subSteps.forEach(function(e,n){e.wordToReplace=t.wordToReplace+e.identifier,c=c.replace(e.identifier,e.wordToReplace),o.steps.splice(r+1+n,0,e)}),t.replacement=c}t.checked=n}}),i.replacement=a,i.rules&&i.rules.length&&i.rules.forEach(function(e){if("noneIsChecked"===e.condition){var t=!1;i.checkboxes.forEach(function(e){e.checked&&(t=!0)}),t?e.isFulfilled=!1:(i.replacement=e.replacement,e.isFulfilled=!0)}})}}),i&&this.buildDocument()},e.prototype.getStepsModel=function(){return this.steps},e}(),I=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e.prototype.onInput=function(e,t){this.stepModelService.input(e,t)},e}(),v=i.ob({encapsulation:2,styles:[],data:{}});function N(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,[" Obligatorio * "]))],null,null)}function R(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,[["input",1]],null,2,"input",[["type","text"]],[[8,"value",0],[8,"placeholder",0]],[[null,"keyup"]],function(e,t,n){var o=!0,r=e.component;return"keyup"===t&&(o=!1!==r.onInput(i.Ab(e,10).value,r.step.wordToReplace)&&o),o},null,null)),i.pb(11,278528,null,0,f.n,[i.u,i.k,i.E],{ngStyle:[0,"ngStyle"]},null),i.Db(12,{borderBottom:0}),(e()(),i.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,N)),i.pb(15,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,12,0,n.inputInvalid?"3px solid red":"");e(t,11,0,i),e(t,15,0,n.step.mandatory)},function(e,t){var n=t.component;e(t,9,0,n.step.question),e(t,10,0,n.step.replacement,n.step.placeholder?n.step.placeholder:"")})}var O=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e.prototype.onInput=function(e,t){this.stepModelService.input(e,t)},e}(),S=i.ob({encapsulation:2,styles:[],data:{}});function C(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,[" Obligatorio * "]))],null,null)}function P(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,16,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,15,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,14,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,13,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,6,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle__date-container"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(10,null,["",""])),(e()(),i.qb(11,0,[["input",1]],null,2,"input",[["type","date"]],[[8,"value",0]],[[null,"change"]],function(e,t,n){var o=!0,r=e.component;return"change"===t&&(o=!1!==r.onInput(i.Ab(e,11).value,r.step.wordToReplace)&&o),o},null,null)),i.pb(12,278528,null,0,f.n,[i.u,i.k,i.E],{ngStyle:[0,"ngStyle"]},null),i.Db(13,{borderBottom:0}),(e()(),i.qb(14,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,C)),i.pb(16,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,13,0,n.inputInvalid?"3px solid red":"");e(t,12,0,i),e(t,16,0,n.step.mandatory)},function(e,t){var n=t.component;e(t,10,0,n.step.question),e(t,11,0,n.step.replacement)})}var w=function(){function e(e,t,n){this.stepModelService=e,this.documentCreatorService=t,this.toastr=n,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.onInputNumberChanged=function(e){isNaN(e)?(this.toastr.error("Number not valid","Must be a number",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),this.input.nativeElement.style.borderBottom="3px solid red"):(this.input.nativeElement.style.borderBottom="",e.includes(",")&&(e=e.replace(",","")),e.includes(".")&&(e=e.replace(".","")),this.stepModelService.input(e,this.step.wordToReplace))},e.prototype.showIndication=function(){this.emitIndication.emit()},e}(),D=n("SZbH"),L=i.ob({encapsulation:2,styles:[],data:{}});function M(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,[" Obligatorio * "]))],null,null)}function k(e){return i.Kb(0,[i.Gb(402653184,1,{input:0}),(e()(),i.qb(1,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(7,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(8,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(10,null,["",""])),(e()(),i.qb(11,0,[[1,0],["input",1]],null,2,"input",[["type","text"]],[[8,"value",0],[8,"placeholder",0]],[[null,"keyup"]],function(e,t,n){var o=!0;return"keyup"===t&&(o=!1!==e.component.onInputNumberChanged(i.Ab(e,11).value)&&o),o},null,null)),i.pb(12,278528,null,0,f.n,[i.u,i.k,i.E],{ngStyle:[0,"ngStyle"]},null),i.Db(13,{borderBottom:0}),(e()(),i.qb(14,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,M)),i.pb(16,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,13,0,n.inputInvalid?"3px solid red":"");e(t,12,0,i),e(t,16,0,n.step.mandatory)},function(e,t){var n=t.component;e(t,10,0,n.step.question),e(t,11,0,n.step.replacement,n.step.placeholder?n.step.placeholder:"")})}var U=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e.prototype.onInput=function(e,t){this.stepModelService.buildForEach(e,t)},e}(),x=i.ob({encapsulation:2,styles:[],data:{}});function F(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,7,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,null,null,4,"div",[["class","slider-range-container"]],null,null,null,null,null)),(e()(),i.qb(11,0,[["input",1]],null,0,"input",[["class","range-slider"],["type","range"]],[[8,"min",0],[8,"max",0],[8,"value",0]],[[null,"change"]],function(e,t,n){var o=!0,r=e.component;return"change"===t&&(o=!1!==r.onInput(i.Ab(e,11).value,r.step.wordToReplace)&&o),o},null,null)),(e()(),i.qb(12,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),i.qb(13,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(14,null,["",""])),(e()(),i.qb(15,0,null,null,0,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,9,0,n.step.question),e(t,11,0,i.sb(1,"",n.step.min,""),i.sb(1,"",n.step.max,""),n.step.value),e(t,14,0,i.Ab(t,11).value)})}var q=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e}(),B=i.ob({encapsulation:2,styles:[],data:{}});function H(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==o.stepModelService.onInputRadioBSelected(e.context.$implicit.radioId,o.step.wordToReplace)&&i),i},null,null)),(e()(),i.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(4,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.checked),e(t,4,0,t.context.$implicit.label)})}function V(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,H)),i.pb(12,278528,null,0,f.j,[i.P,i.M,i.t],{ngForOf:[0,"ngForOf"]},null),(e()(),i.qb(13,0,null,null,0,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null))],function(e,t){e(t,12,0,t.component.step.radios)},function(e,t){e(t,9,0,t.component.step.question)})}var z=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e}(),Y=i.ob({encapsulation:2,styles:[],data:{}});function K(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==o.stepModelService.onInputRadioCSelected(e.context.$implicit.radioId,o.step.wordToReplace)&&i),i},null,null)),(e()(),i.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(4,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.checked),e(t,4,0,t.context.$implicit.label)})}function j(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,K)),i.pb(12,278528,null,0,f.j,[i.P,i.M,i.t],{ngForOf:[0,"ngForOf"]},null),(e()(),i.qb(13,0,null,null,0,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null))],function(e,t){e(t,12,0,t.component.step.radios)},function(e,t){e(t,9,0,t.component.step.question)})}var G=n("gIcY"),W=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.onInputSelectChanged=function(e){this.stepModelService.onInputRadioCSelected(e.target.value,this.step.wordToReplace)},e.prototype.showIndication=function(){this.emitIndication.emit()},e}(),Q=i.ob({encapsulation:2,styles:[],data:{}});function Z(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),i.pb(1,147456,null,0,G.r,[i.k,i.E,[8,null]],{value:[0,"value"]},null),i.pb(2,147456,null,0,G.y,[i.k,i.E,[8,null]],{value:[0,"value"]},null),(e()(),i.Ib(3,null,[" "," "]))],function(e,t){e(t,1,0,i.sb(1,"",t.context.$implicit.radioId,"")),e(t,2,0,i.sb(1,"",t.context.$implicit.radioId,""))},function(e,t){e(t,0,0,t.context.$implicit.checked),e(t,3,0,t.context.$implicit.label)})}function J(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,14,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,13,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,12,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,11,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,6,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,null,null,3,"div",[["class","input-select"]],null,null,null,null,null)),(e()(),i.qb(11,0,null,null,2,"select",[["class","browser-default"]],null,[[null,"change"]],function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onInputSelectChanged(n)&&i),i},null,null)),(e()(),i.hb(16777216,null,null,1,null,Z)),i.pb(13,278528,null,0,f.j,[i.P,i.M,i.t],{ngForOf:[0,"ngForOf"]},null),(e()(),i.qb(14,0,null,null,0,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null))],function(e,t){e(t,13,0,t.component.step.radios)},function(e,t){e(t,9,0,t.component.step.question)})}var X=function(){function e(e,t){this.stepModelService=e,this.documentCreatorService=t,this.emitIndication=new i.m}return e.prototype.ngOnInit=function(){},e.prototype.showIndication=function(){this.emitIndication.emit()},e}(),$=i.ob({encapsulation:2,styles:[],data:{}});function ee(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),i.qb(1,0,[["input",1]],null,0,"input",[["class","filled-in"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(e,t,n){var o=!0,r=e.component;return"change"===t&&(o=!1!==r.stepModelService.onInputCheckboxSelected(e.context.$implicit.identifier,r.step.wordToReplace,i.Ab(e,1).checked)&&o),o},null,null)),(e()(),i.qb(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(3,null,["","."]))],null,function(e,t){e(t,1,0,t.context.$implicit.checked),e(t,3,0,t.context.$implicit.label)})}function te(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.showIndication()&&i),i},null,null)),(e()(),i.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),i.Ib(9,null,["",""])),(e()(),i.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__checkbox-input"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,ee)),i.pb(12,278528,null,0,f.j,[i.P,i.M,i.t],{ngForOf:[0,"ngForOf"]},null),(e()(),i.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),i.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,[" Obligatorio * "]))],function(e,t){e(t,12,0,t.component.step.checkboxes)},function(e,t){e(t,9,0,t.component.step.question)})}var ne=n("TYhg"),ie=n("9D3k"),oe=n("gusg"),re=function(){function e(e,t,n,o,r,a,l){this.userService=e,this.checkoutService=t,this.formService=n,this.commonsService=o,this.convertService=r,this.router=a,this.toastr=l,this.formPaid=new i.m,this.exitModal=new i.m,this.downloadPdfOutput=new i.m,this.downloadWordOutput=new i.m,this.currentStep=0,this.loadingPayment=!0,this.idsOfFields=["number","cvv","expirationDate"],this.paymentMethod="card",this.steps=[{type:"cart",stepNum:0},{type:"login",stepNum:1},{type:"payment",stepNum:2},{type:"finish",stepNum:3}]}return e.prototype.ngOnInit=function(){var e=this;this.userService.isAuthenticated.subscribe(function(t){e.email=t?e.userService.getCurrentUser().email:""}),this.form.fields[this.form.fields.length-1]&&(this.currentStep=this.form.fields[this.form.fields.length-1].checkoutProcess.phase,"payment"===this.steps[this.currentStep].type&&(this.currentStep=this.currentStep-1))},e.prototype.moveStep=function(e){"next"===e?this.validateBeforeNextStep()&&(this.currentStep+=1):"previous"===e&&(this.currentStep-=1),this.form.fields[this.form.fields.length-1].checkoutProcess.phase=this.currentStep,this.paymentProcess()},e.prototype.validateBeforeNextStep=function(){if("login"===this.steps[this.currentStep].type){if(""===this.email)return this.emailInput.nativeElement.style.borderBottom="3px solid red",this.toastr.error("Email cannot be empty","Email is empty",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),!1;if(!this.conditions.nativeElement.checked)return this.toastr.error("You must accept buying conditions","Accept",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),!1}return!0},e.prototype.goToAuth=function(){window.sessionStorage[this.form.title]=JSON.stringify(this.form),this.router.navigate(["/auth/login"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf("/")+1)}})},e.prototype.onSubmit=function(){this.tokenizeUserDetails()},e.prototype.onPaymentMethodSelected=function(e){this.paymentMethod=e,this.paymentProcess()},e.prototype.paymentProcess=function(){var e=this;"payment"===this.steps[this.currentStep].type?(this.commonsService.toggleSpinner(),this.checkoutService.getToken(this.paymentMethod).subscribe(function(t){e.loadingPayment=!1,e.clientToken=t,e.createBraintreeUI(t)})):this.loadingPayment=!0},e.prototype.tokenizeUserDetails=function(){var e=this;this.commonsService.toggleSpinner(),this.hostedFieldsInstance.tokenize({cardholderName:this.cardholdersName}).then(function(t){e.checkoutService.pay(JSON.stringify(e.form.fields),e.email,t.nonce,e.form.id,e.paymentMethod).subscribe(function(t){t.transaction?(e.commonsService.toggleSpinner(),e.moveStep("next"),e.onPaymentCompleted(t.transaction.transactionId),e.toastr.success("Payment completed","Payment success",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})):e.commonsService.toggleSpinner()})}).catch(function(t){e.commonsService.toggleSpinner(),e.toastr.error("An error has occured please try again","Payment error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),console.log(t),"HOSTED_FIELDS_FIELDS_INVALID"===t.code?e.idsOfFields.forEach(function(e){var n;t.details.invalidFieldKeys.includes(e)?((n=document.getElementById(e)).classList.add("hosted-fields-invalid"),n.nextElementSibling.hidden=!1):((n=document.getElementById(e)).classList.remove("hosted-fields-invalid"),n.nextElementSibling.hidden=!0)}):"HOSTED_FIELDS_FIELDS_EMPTY"===t.code&&e.idsOfFields.forEach(function(e){var t=document.getElementById(e);t.classList.add("hosted-fields-invalid"),t.nextElementSibling.hidden=!1})})},e.prototype.createBraintreeUI=function(e){var t=this;"card"===this.paymentMethod?oe.client.create({authorization:e}).then(function(e){oe.hostedFields.create({client:e,styles:{input:{"font-size":"16px",padding:"0.5rem 0.25rem 0.5rem","font-family":"Lato","font-weight":"300",color:"rgba(46, 46, 46, 0.8)"},"::placeholder":{transition:"transition: 100ms linear","font-weight":"300","font-family":"Lato",color:"#4ECDC4"},":focus":{"border-color":"#77db77","border-bottom":"3px solid #77db77"},"input:focus":{"border-color":"#77db77","border-bottom":"3px solid #77db77"}},fields:{number:{selector:"#"+t.idsOfFields[0],placeholder:"1111 1111 1111 1111"},cvv:{selector:"#"+t.idsOfFields[1],placeholder:"111"},expirationDate:{selector:"#"+t.idsOfFields[2],placeholder:"MM/YY"}}}).then(function(e){t.hostedFieldsInstance=e;var n=e.getState().fields;Object.keys(n).every(function(e){return n[e].isValid}),t.commonsService.toggleSpinner()})}):"paypal"===this.paymentMethod&&(this.commonsService.toggleSpinner(),paypal.Button.render({braintree:oe,env:"sandbox",client:{sandbox:e},style:{size:"medium"},payment:function(e,n){return t.commonsService.toggleSpinner(),n.payment.create({payment:{transactions:[{amount:{total:t.form.amount,currency:"EUR"}}]}})},onAuthorize:function(e,n){return t.commonsService.toggleSpinner(),n.payment.tokenize().then(function(e){t.commonsService.toggleSpinner(),t.checkoutService.pay(JSON.stringify(t.form.fields),t.email,e.nonce,t.form.id,t.paymentMethod).subscribe(function(e){t.commonsService.toggleSpinner(),t.moveStep("next"),t.onPaymentCompleted(e.transaction.transactionId),t.toastr.success("Payment completed","Payment success",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})})})},onCancel:function(e){console.log("checkout.js payment cancelled",JSON.stringify(e))},onError:function(e){this.commonsService.toggleSpinner(),this.toastr.error("Paypal error",e,{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})}},"#paypal-button"))},e.prototype.onPaymentCompleted=function(e){var t=this;this.transactionId=e,this.formService.getPaidCertifiedForm(e).subscribe(function(n){n.certifiedForm.transactionId=e,t.formPaid.emit(n.certifiedForm)})},e.prototype.downloadWord=function(){this.downloadWordOutput.emit()},e.prototype.downloadPdf=function(){this.downloadPdfOutput.emit()},e}(),ae=n("/ePz"),le=n("qh6j"),se=n("8uRR"),ce=n("wsCw"),ue=i.ob({encapsulation:2,styles:[],data:{}});function de(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,22,"div",[["class","checkout-panel__body__invoice"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,21,"div",[["class","checkout-panel__body__invoice__container"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,1,"div",[["class","checkout-panel__body__invoice__document"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,0,"img",[["alt","checkout-image"]],[[8,"src",4]],null,null,null,null)),(e()(),i.qb(4,0,null,null,18,"div",[["class","checkout-panel__body__invoice__text"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"h2",[["class","checkout-panel__body__invoice__text__title"]],null,null,null,null,null)),(e()(),i.Ib(6,null,["",""])),(e()(),i.qb(7,0,null,null,5,"div",[["class","checkout-panel__body__invoice__text__description"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Descarga inmediata en formatos Word y PDF"])),(e()(),i.qb(11,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["3.060 personas ya han comprado este documento"])),(e()(),i.qb(13,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__total"]],null,null,null,null,null)),(e()(),i.qb(14,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__right"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Total:"])),(e()(),i.qb(16,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__left"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["19.90\u20ac"])),(e()(),i.qb(18,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__more-info"]],null,null,null,null,null)),(e()(),i.qb(19,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.qb(20,0,null,null,0,"img",[["alt","secure payment"],["src","/assets/images/ssl-secure-en.png"]],null,null,null,null,null)),(e()(),i.qb(21,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.qb(22,0,null,null,0,"img",[["src","https://s3.amazonaws.com/braintree-badges/braintree-badge-dark.png"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,3,0,i.sb(1,"",n.form.image,"")),e(t,6,0,n.form.title)})}function pe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"label",[["class","checkout-panel__body__email__container__message"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,[" \xbfTienes cuenta? "])),(e()(),i.qb(2,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.goToAuth()&&i),i},null,null)),(e()(),i.Ib(-1,null,["Logeate"]))],null,null)}function _e(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function me(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,27,"div",[["class","checkout-panel__body__email"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,26,"div",[["class","checkout-panel__body__email__container"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,1,"h1",[["class","checkout-panel__body__email__container__title"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Direcci\xf3n de correo para recibir el documento"])),(e()(),i.qb(4,0,null,null,0,"label",[["for","email"]],null,null,null,null,null)),(e()(),i.qb(5,0,[[1,0],["emailInput",1]],null,5,"input",[["id","name"],["name","email"],["placeholder","E-MAIL"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==i.Ab(e,6)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==i.Ab(e,6).onTouched()&&o),"compositionstart"===t&&(o=!1!==i.Ab(e,6)._compositionStart()&&o),"compositionend"===t&&(o=!1!==i.Ab(e,6)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.email=n)&&o),o},null,null)),i.pb(6,16384,null,0,G.d,[i.E,i.k,[2,G.a]],null,null),i.Fb(1024,null,G.l,function(e){return[e]},[G.d]),i.pb(8,671744,null,0,G.q,[[8,null],[8,null],[8,null],[6,G.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i.Fb(2048,null,G.m,null,[G.q]),i.pb(10,16384,null,0,G.n,[[4,G.m]],null,null),(e()(),i.hb(16777216,null,null,1,null,pe)),i.pb(12,81920,null,0,ne.a,[i.M,ie.a,i.P],{appShowAuthed:[0,"appShowAuthed"]},null),(e()(),i.hb(16777216,null,null,1,null,_e)),i.pb(14,81920,null,0,ne.a,[i.M,ie.a,i.P],{appShowAuthed:[0,"appShowAuthed"]},null),(e()(),i.qb(15,0,null,null,12,"div",[["class","checkout-panel__body__email__container__message"]],null,null,null,null,null)),(e()(),i.qb(16,0,null,null,11,"label",[["for","conditions"]],null,null,null,null,null)),(e()(),i.qb(17,0,[[2,0],["conditions",1]],null,5,"input",[["class","filled-in"],["id","conditions"],["name","conditions"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var o=!0,r=e.component;return"change"===t&&(o=!1!==i.Ab(e,18).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==i.Ab(e,18).onTouched()&&o),"ngModelChange"===t&&(o=!1!==(r.conditionsChecked=n)&&o),o},null,null)),i.pb(18,16384,null,0,G.b,[i.E,i.k],null,null),i.Fb(1024,null,G.l,function(e){return[e]},[G.b]),i.pb(20,671744,null,0,G.q,[[8,null],[8,null],[8,null],[6,G.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i.Fb(2048,null,G.m,null,[G.q]),i.pb(22,16384,null,0,G.n,[[4,G.m]],null,null),(e()(),i.qb(23,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Acepto las condiciones generales de venta "])),(e()(),i.qb(25,0,null,null,2,"a",[["class","trigger"],["routerLink","/static-pages/cgv"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i.Ab(e,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},null,null)),i.pb(26,671744,null,0,m.o,[m.l,m.a,f.h],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(e()(),i.Ib(-1,null,["(leer las CGV)"]))],function(e,t){var n=t.component;e(t,8,0,"email",n.email),e(t,12,0,!1),e(t,14,0,!0),e(t,20,0,"conditions",n.conditionsChecked),e(t,26,0,"_blank","/static-pages/cgv")},function(e,t){e(t,5,0,i.Ab(t,10).ngClassUntouched,i.Ab(t,10).ngClassTouched,i.Ab(t,10).ngClassPristine,i.Ab(t,10).ngClassDirty,i.Ab(t,10).ngClassValid,i.Ab(t,10).ngClassInvalid,i.Ab(t,10).ngClassPending),e(t,17,0,i.Ab(t,22).ngClassUntouched,i.Ab(t,22).ngClassTouched,i.Ab(t,22).ngClassPristine,i.Ab(t,22).ngClassDirty,i.Ab(t,22).ngClassValid,i.Ab(t,22).ngClassInvalid,i.Ab(t,22).ngClassPending),e(t,25,0,i.Ab(t,26).target,i.Ab(t,26).href)})}function fe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,13,"div",[["class","checkout-panel__body__payment-method"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,6,"label",[["class","checkout-panel__body__payment-method__method card"],["for","card"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__card-logos"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/visa_logo.png"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/mastercard_logo.png"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__radio-input"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,0,"input",[["checked",""],["id","card"],["name","payment"],["type","radio"],["value","card"]],null,[[null,"change"]],function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onPaymentMethodSelected("card")&&i),i},null,null)),(e()(),i.Ib(-1,null,[" with credit card "])),(e()(),i.qb(8,0,null,null,5,"label",[["class","checkout-panel__body__payment-method__method paypal"],["for","paypal"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"div",[["class","checkout-panel__body__payment-method__method__card-logos"]],null,null,null,null,null)),(e()(),i.qb(10,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/paypal_logo.png"]],null,null,null,null,null)),(e()(),i.qb(11,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__radio-input"]],null,null,null,null,null)),(e()(),i.qb(12,0,null,null,0,"input",[["id","paypal"],["name","payment"],["type","radio"],["value","paypal"]],null,[[null,"change"]],function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onPaymentMethodSelected("paypal")&&i),i},null,null)),(e()(),i.Ib(-1,null,[" with PayPal "]))],null,null)}function he(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,34,"form",[["class","checkout-panel__body__input-fields"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==i.Ab(e,2).onSubmit(n)&&o),"reset"===t&&(o=!1!==i.Ab(e,2).onReset()&&o),o},null,null)),i.pb(1,16384,null,0,G.v,[],null,null),i.pb(2,4210688,null,0,G.p,[[8,null],[8,null]],null,null),i.Fb(2048,null,G.c,null,[G.p]),i.pb(4,16384,null,0,G.o,[[4,G.c]],null,null),(e()(),i.qb(5,0,null,null,21,"div",[["class","checkout-panel__body__input-fields__column-1"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,1,"label",[["class","hosted-field--label"],["for","cardholder-name"],["name","cardholderName"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Name"])),(e()(),i.qb(8,0,null,null,5,"input",[["class","name-custom-input"],["id","cardholder"],["name","cardholderName"],["placeholder","e.g. JOHN DOE"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==i.Ab(e,9)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==i.Ab(e,9).onTouched()&&o),"compositionstart"===t&&(o=!1!==i.Ab(e,9)._compositionStart()&&o),"compositionend"===t&&(o=!1!==i.Ab(e,9)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==(r.cardholdersName=n)&&o),o},null,null)),i.pb(9,16384,null,0,G.d,[i.E,i.k,[2,G.a]],null,null),i.Fb(1024,null,G.l,function(e){return[e]},[G.d]),i.pb(11,671744,null,0,G.q,[[2,G.c],[8,null],[8,null],[6,G.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i.Fb(2048,null,G.m,null,[G.q]),i.pb(13,16384,null,0,G.n,[[4,G.m]],null,null),(e()(),i.qb(14,0,null,null,12,"div",[["class","checkout-panel__body__input-fields__small-inputs"]],null,null,null,null,null)),(e()(),i.qb(15,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),i.qb(16,0,null,null,1,"label",[["for","expirationDate"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Valid date"])),(e()(),i.qb(18,0,null,null,0,"div",[["class","hosted-fields"],["id","expirationDate"]],null,null,null,null,null)),(e()(),i.qb(19,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Invalid Expiration date"])),(e()(),i.qb(21,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),i.qb(22,0,null,null,1,"label",[["for","cvv"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["CVV / CVC *"])),(e()(),i.qb(24,0,null,null,0,"div",[["class","hosted-fields"],["id","cvv"],["name","cvv"]],null,null,null,null,null)),(e()(),i.qb(25,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Invalid CVV"])),(e()(),i.qb(27,0,null,null,7,"div",[["class","checkout-panel__body__input-fields__column-2"]],null,null,null,null,null)),(e()(),i.qb(28,0,null,null,1,"label",[["for","number"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Card Number"])),(e()(),i.qb(30,0,null,null,0,"div",[["class","hosted-fields"],["id","number"]],null,null,null,null,null)),(e()(),i.qb(31,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Invalid Card Number"])),(e()(),i.qb(33,0,null,null,1,"span",[["class","info"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["* CVV or CVC is the card security code, unique three digits number on the back of your card separate from its number."]))],function(e,t){e(t,11,0,"cardholderName",t.component.cardholdersName)},function(e,t){e(t,0,0,i.Ab(t,4).ngClassUntouched,i.Ab(t,4).ngClassTouched,i.Ab(t,4).ngClassPristine,i.Ab(t,4).ngClassDirty,i.Ab(t,4).ngClassValid,i.Ab(t,4).ngClassInvalid,i.Ab(t,4).ngClassPending),e(t,8,0,i.Ab(t,13).ngClassUntouched,i.Ab(t,13).ngClassTouched,i.Ab(t,13).ngClassPristine,i.Ab(t,13).ngClassDirty,i.Ab(t,13).ngClassValid,i.Ab(t,13).ngClassInvalid,i.Ab(t,13).ngClassPending)})}function Ee(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,0,"div",[["id","paypal-button"],["style","height: 200px; margin-left: auto;margin-right:auto; display: flex;align-items: center;"]],null,null,null,null,null))],null,null)}function be(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,6,"div",[["class","payment-container"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,fe)),i.pb(2,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,he)),i.pb(4,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Ee)),i.pb(6,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,!1===n.loadingPayment),e(t,4,0,!1===n.loadingPayment&&"card"===n.paymentMethod),e(t,6,0,"paypal"===n.paymentMethod)},null)}function ye(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,18,"div",[["class","checkout-panel__body__success"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),i.Ib(3,null,["Transacci\xf3n: ",""])),(e()(),i.qb(4,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__total"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__right total-success"]],null,null,null,null,null)),(e()(),i.Ib(6,null,["",""])),(e()(),i.qb(7,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__left total-success"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["19.90 eur"])),(e()(),i.qb(9,0,null,null,4,"p",[["class","checkout-panel__body__success__message"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Recibir\xe1s un mensaje a "])),(e()(),i.qb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i.Ib(12,null,["",""])),(e()(),i.Ib(-1,null,[" con tu factura as\xed como los documentos. Durante los pr\xf3ximos 15 d\xedas podr\xe1s modificar el formulario de nuevo sin tener que pagar y volver a descargarlo, una vez terminado el plazo caducar\xe1."])),(e()(),i.qb(14,0,null,null,4,"div",[["class","checkout-panel__body__success__download"]],null,null,null,null,null)),(e()(),i.qb(15,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Descarga ahora"])),(e()(),i.qb(17,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.downloadWord()&&i),i},null,null)),(e()(),i.qb(18,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.downloadPdf()&&i),i},null,null))],null,function(e,t){var n=t.component;e(t,3,0,n.transactionId),e(t,6,0,n.form.title),e(t,12,0,n.email)})}function ge(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"button",[["class","btn back-btn"]],[[4,"display",null],[8,"disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.moveStep("previous")&&i),i},null,null)),i.pb(1,278528,null,0,f.n,[i.u,i.k,i.E],{ngStyle:[0,"ngStyle"]},null),i.Db(2,{opacity:0}),(e()(),i.Ib(-1,null,["Back"]))],function(e,t){var n=t.component,i=e(t,2,0,"cart"===n.steps[n.currentStep].type?0:1);e(t,1,0,i)},function(e,t){var n=t.component;e(t,0,0,"cart"===n.steps[n.currentStep].type?"none":"block","cart"===n.steps[n.currentStep].type)})}function Ae(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"button",[["class","btn back-btn"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.exitModal.emit()&&i),i},null,null)),(e()(),i.Ib(-1,null,["Back"]))],null,null)}function Te(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"button",[["class","btn back-btn"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.exitModal.emit()&&i),i},null,null)),(e()(),i.Ib(-1,null,["Back"]))],null,null)}function Ie(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"button",[["class","btn next-btn"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.moveStep("next")&&i),i},null,null)),i.pb(1,278528,null,0,f.n,[i.u,i.k,i.E],{ngStyle:[0,"ngStyle"]},null),i.Db(2,{opacity:0}),(e()(),i.Ib(-1,null,["Next Step"]))],function(e,t){var n=t.component,i=e(t,2,0,"finish"===n.steps[n.currentStep].type?0:1);e(t,1,0,i)},function(e,t){var n=t.component;e(t,0,0,"finish"===n.steps[n.currentStep].type)})}function ve(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,2,"button",[["class","btn next-btn secondaryC-background-color"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSubmit()&&i),i},null,null)),(e()(),i.qb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["PAGAR"]))],null,null)}function Ne(e){return i.Kb(0,[i.Gb(671088640,1,{emailInput:0}),i.Gb(671088640,2,{conditions:0}),(e()(),i.qb(2,0,null,null,11,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,10,"div",[["class","checkout-panel__body__progress-bar"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,0,"div",[["class","checkout-panel__body__progress-bar__step checkout-panel__body__progress-bar__step__active"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),i.pb(6,278528,null,0,f.i,[i.t,i.u,i.k,i.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Db(7,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),i.qb(8,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),i.pb(9,278528,null,0,f.i,[i.t,i.u,i.k,i.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Db(10,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),i.qb(11,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),i.pb(12,278528,null,0,f.i,[i.t,i.u,i.k,i.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Db(13,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),i.qb(14,0,null,null,9,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"],["style","border-bottom: none"]],null,null,null,null,null)),(e()(),i.qb(15,0,null,null,8,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,de)),i.pb(17,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,me)),i.pb(19,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,be)),i.pb(21,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,ye)),i.pb(23,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.qb(24,0,null,null,10,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy checkout-panel__footer"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,ge)),i.pb(26,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Ae)),i.pb(28,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Te)),i.pb(30,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Ie)),i.pb(32,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,ve)),i.pb(34,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,7,0,n.steps[n.currentStep].stepNum>0);e(t,6,0,"checkout-panel__body__progress-bar__step",i);var o=e(t,10,0,n.steps[n.currentStep].stepNum>1);e(t,9,0,"checkout-panel__body__progress-bar__step",o);var r=e(t,13,0,n.steps[n.currentStep].stepNum>2);e(t,12,0,"checkout-panel__body__progress-bar__step",r),e(t,17,0,"cart"===n.steps[n.currentStep].type),e(t,19,0,"login"===n.steps[n.currentStep].type),e(t,21,0,"payment"===n.steps[n.currentStep].type),e(t,23,0,"finish"===n.steps[n.currentStep].type),e(t,26,0,"finish"!==n.steps[n.currentStep].type),e(t,28,0,"cart"===n.steps[n.currentStep].type),e(t,30,0,"finish"===n.steps[n.currentStep].type),e(t,32,0,"payment"!==n.steps[n.currentStep].type),e(t,34,0,"payment"===n.steps[n.currentStep].type&&"card"===n.paymentMethod)},null)}var Re=[{type:"start",title:"Contrato de compraventa de veh\xedculo usado entre particulares",description:"Por medio de este contrato un particular (persona o empresa) \n    propietario de un veh\xedculo autom\xf3vil usado, puede venderlo a otro.",isCurrentStep:!0},{type:"iText",identifier:"id-unid-1",wordToReplace:"id-unid-1",replacement:"",question:"Lugar en el que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique en este apartado el lugar en el que se va a firmar el contrato."},placeholder:"P. ej. Albacete",mandatory:!0,isFocused:!1},{type:"iDate",identifier:"id-unid-2",wordToReplace:"id-unid-2",replacement:"",question:"Fecha en la que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Haga uso del calendario para indicar la fecha en la que se firma este contrato."},mandatory:!0,isFocused:!1},{type:"iForEach",value:1,min:1,max:10,replacement:"",identifier:"id-unid-3",wordToReplace:"id-unid-3",question:"N\xfamero de personas propietarias del veh\xedculo y que desean venderlo:",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el n\xfamero de personas que son propietarias del veh\xedculo"},content:[{identifier:"id-unid-3",wordToReplace:"id-unid-3",replacementOriginal:"id-unid-3_1",replacement:"",extraReplacements:[],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"Este vendedor (propietario del veh\xedculo) es):",identifier:"id-unid-3_1",wordToReplace:"id-unid-3_1",indications:{areIndications:!0,indicationsType:"outsideText",value:"Elija la personalidad jur\xeddica de este vendedor. Se entiende por persona f\xedsica a es una persona natural (un individuo), hablamos de persona jur\xeddica para referirnos a una instituci\xf3n o ente, por ejemplo, una empresa o una asociaci\xf3n, entre otros."},defaultRadioId:"id-unid-3_1_opA",replacement:"",extraReplacements:[],radios:[{label:"Persona f\xedsica",radioId:"id-unid-3_1_opA",identifier:"id-unid-3_1_opA",replacementOriginal:"id-unid-3_1_opA_1",replacement:"id-unid-3_1_opA_1",extraReplacements:[],checked:!0,subSteps:[{type:"iRadioC",question:"Este vendedor, para realizar el contrato, act\xfaa",identifier:"id-unid-3_1_opA_1",wordToReplace:"id-unid-3_1_opA_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'El vendedor puede concluir y firmar el contrato en nombre y representaci\xf3n propios o representado por otra persona. En caso de ser representado por otra persona, estamos hablando de un representante legal (como es el caso de los menores e incapacitados) o un representante voluntario (por ejemplo, apoderado). Un representante voluntario precisa de autorizaci\xf3n mediante documento p\xfablico o privado. Si el contrato se concluye en nombre y representaci\xf3n propios, ser\xe1 persona que firma el contrato quien asuma las obligaciones del vendedor. Por el contrario, si es mediante representante, es esta otra persona quien firma el contrato; sin embargo, es el vendedor quien asumir\xe1 las obligaciones derivadas de este contrato. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'},defaultRadioId:"id-unid-3_1_opA_1_opA",replacement:"",extraReplacements:[],radios:[{label:"en su propio nombre y representaci\xf3n",radioId:"id-unid-3_1_opA_1_opA",identifier:"id-unid-3_1_opA_1_opA",replacementOriginal:"id-unid-3_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-3_1_opA_1_opA_2, con id-unid-3_1_opA_1_opA_3 n\xfamero id-unid-3_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",replacement:"id-unid-3_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-3_1_opA_1_opA_2, con id-unid-3_1_opA_1_opA_3 n\xfamero id-unid-3_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",extraReplacements:[],checked:!0,subSteps:[{question:"Nombre completo de este vendedor, incluyendo los apellidos:",wordToReplace:"id-unid-3_1_opA_1_opA_1",identifier:"id-unid-3_1_opA_1_opA_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opA_2",identifier:"id-unid-3_1_opA_1_opA_2",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia del vendedor."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este vendedor",identifier:"id-unid-3_1_opA_1_opA_3",wordToReplace:"id-unid-3_1_opA_1_opA_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opA",identifier:"id-unid-3_1_opA_1_opA_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opB",identifier:"id-unid-3_1_opA_1_opA_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opC",identifier:"id-unid-3_1_opA_1_opA_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-3_1_opA_1_opA_4",identifier:"id-unid-3_1_opA_1_opA_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}}]},{label:"por medio de un representante (legal o voluntario)",replacementOriginal:"id-unid-3_1_opA_1_opB_5, mayor de edad, con id-unid-3_1_opA_1_opB_6: id-unid-3_1_opA_1_opB_7, en calidad de id-unid-3_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, actuando en nombre y representaci\xf3n de id-unid-3_1_opA_1_opB_1, con domicilio en id-unid-3_1_opA_1_opB_2 y id-unid-3_1_opA_1_opB_3 n\xfamero id-unid-3_1_opA_1_opB_4.",replacement:"id-unid-3_1_opA_1_opB_5, mayor de edad, con id-unid-3_1_opA_1_opB_6: id-unid-3_1_opA_1_opB_7, en calidad de id-unid-3_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, actuando en nombre y representaci\xf3n de id-unid-3_1_opA_1_opB_1, con domicilio en id-unid-3_1_opA_1_opB_2 y id-unid-3_1_opA_1_opB_3 n\xfamero id-unid-3_1_opA_1_opB_4.",extraReplacements:[],radioId:"id-unid-3_1_opA_1_opB",identifier:"id-unid-3_1_opA_1_opB",checked:!1,subSteps:[{question:"Nombre completo de este vendedor, incluyendo los apellidos:",wordToReplace:"id-unid-3_1_opA_1_opB_1",identifier:"id-unid-3_1_opA_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_2",identifier:"id-unid-3_1_opA_1_opB_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este vendedor."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este vendedor",identifier:"id-unid-3_1_opA_1_opB_3",wordToReplace:"3_1_opA_1_opB_3",indications:{areIndications:!0,indicationsType:"insideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opA",identifier:"id-unid-3_1_opA_1_opB_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opB",identifier:"id-unid-3_1_opA_1_opB_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opC",identifier:"id-unid-3_1_opA_1_opB_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-3_1_opA_1_opB_4",identifier:"id-unid-3_1_opA_1_opB_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Nombre completo de la persona que firma este contrato en nombre y representaci\xf3n de este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_5",identifier:"id-unid-3_1_opA_1_opB_5",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"outsideText",value:'Nombre completo, incluyendo los apellidos, de la persona f\xedsica que firma este contrato en nombre y representaci\xf3n de este vendedor. El contrato puede ser firmado por un representante legal o voluntario. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'}},{type:"iRadioB",question:"Documento de identificaci\xf3n de la persona que firma el contrato en nombre y representaci\xf3n de este vendedor:",identifier:"id-unid-3_1_opA_1_opB_6",wordToReplace:"id-unid-3_1_opA_1_opB_6",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de la persona f\xedsica que firma el contrato en nombre y representaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opA",identifier:"id-unid-3_1_opA_1_opB_6_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opB",identifier:"id-unid-3_1_opA_1_opB_6_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opC",identifier:"id-unid-3_1_opA_1_opB_6_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior:",wordToReplace:"id-unid-3_1_opA_1_opB_7",identifier:"id-unid-3_1_opA_1_opB_7",placeholder:"P. ej. 83558071Z",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Calidad o concepto en el que esta persona firma este contrato en nombre y representaci\xf3n de este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_8",placeholder:"P. ej. apoderado",identifier:"id-unid-3_1_opA_1_opB_8",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la calidad o concepto en el que esta persona firma el contrato en nombre y representaci\xf3n de este vendedor."}}]}]}]},{label:"Persona jur\xeddica",replacementOriginal:"id-unid-3_1_opB_5, mayor de edad, con domicilio en id-unid-3_1_opB_6, con id-unid-3_1_opB_7 n\xfamero id-unid-3_1_opB_8, en nombre y representaci\xf3n de: id-unid-3_1_opB_1, con N.I.F n\xfamero id-unid-3_1_opB_2, e inscrita en: id-unid-3_1_opB_3 con la siguiente informaci\xf3n: id-unid-3_1_opB_4.",replacement:"id-unid-3_1_opB_5, mayor de edad, con domicilio en id-unid-3_1_opB_6, con id-unid-3_1_opB_7 n\xfamero id-unid-3_1_opB_8, en nombre y representaci\xf3n de: id-unid-3_1_opB_1, con N.I.F n\xfamero id-unid-3_1_opB_2, e inscrita en: id-unid-3_1_opB_3 con la siguiente informaci\xf3n: id-unid-3_1_opB_4.",extraReplacements:[],radioId:"id-unid-3_1_opB",identifier:"id-unid-3_1_opB",checked:!1,subSteps:[{question:"Nombre de la persona jur\xeddica que va a vender el veh\xedculo:",wordToReplace:"id-unid-3_1_opB_1",identifier:"id-unid-3_1_opB_1",type:"iText",placeholder:"P. ej. Banco Santander, S.A.",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Si no conoce el nombre, mediante el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc), puede soliticar la informaci\xf3n."}},{question:"NIF (N\xfamero de Identificaci\xf3n Fiscal) completo de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_2",identifier:"id-unid-3_1_opB_2",type:"iText",placeholder:"P. ej. B29805314",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Se trata del n\xfamero de identificaci\xf3n fiscal para empresas y sociedades, personas f\xedsicas o cualquier tipo de entidad que desarrolle actividad de naturaleza mercantil y que, adem\xe1s, sea sujeto de obligaciones burocr\xe1ticas, como el hecho de emitir o percibir facturas. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">NIF empresarial</a>.'}},{question:"Tipo de registro y lugar donde est\xe1 inscrita la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_3",identifier:"id-unid-3_1_opB_3",type:"iText",placeholder:"P. ej. Registro Mercantil de Madrid",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n en el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Datos registrales de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_4",identifier:"id-unid-3_1_opB_4",type:"iText",placeholder:"P. ej. Tomo 123, folio 10, hoja SE-1234",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n a trav\xe9s del registro p\xfablico correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_5",identifier:"id-unid-3_1_opB_5",type:"iText",placeholder:"P. ej. Margarita Garc\xeda P\xe9rez",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica"}},{question:"Domicilio completo del representante de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_6",identifier:"id-unid-3_1_opB_6",type:"iText",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Domicilio, incluyendo el tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds del representante de la persona jur\xeddica"}},{type:"iRadioB",question:"Documento de identidad del representante de la persona jur\xeddica:",identifier:"id-unid-3_1_opB_7",wordToReplace:"id-unid-3_1_opB_7",indications:{areIndications:!0,indicationsType:"insideText",value:"Seleccione el tipo de documento de identidad del representante de la persona jur\xeddica."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opB_7_opA",identifier:"id-unid-3_1_opB_7_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opB_7_opB",identifier:"id-unid-3_1_opB_7_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opB_7_opC",identifier:"id-unid-3_1_opB_7_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior de identificaci\xf3n personal seleccionado:",wordToReplace:"id-unid-3_1_opB_8",identifier:"id-unid-3_1_opB_8",type:"iText",placeholder:"P. ej: 42888457N",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero que corresponde con el documento de identificaci\xf3n personal seleccionado en la pregunta anterior"}}]}]}]}]},{type:"iForEach",value:1,replacement:"",identifier:"id-unid-4",wordToReplace:"id-unid-4",question:"N\xfamero de personas que van a comprar el veh\xedculo:",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el n\xfamero de personas que van a comprar el veh\xedculo."},content:[{identifier:"id-unid-4",wordToReplace:"id-unid-4",replacementOriginal:"id-unid-4_1",replacement:"",extraReplacements:[],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"Este comprador es:",identifier:"id-unid-4_1",wordToReplace:"id-unid-4_1",indications:{areIndications:!0,indicationsType:"outsideText",value:"Elija la personalidad jur\xeddica de este comprador. Se entiende por persona f\xedsica a es una persona natural (un individuo), hablamos de persona jur\xeddica para referirnos a una instituci\xf3n o ente, por ejemplo, una empresa o una asociaci\xf3n, entre otros."},defaultRadioId:"id-unid-4_1_opA",replacement:"",extraReplacements:[],radios:[{label:"Persona f\xedsica",radioId:"id-unid-4_1_opA",identifier:"id-unid-4_1_opA",replacementOriginal:"id-unid-4_1_opA_1",replacement:"id-unid-4_1_opA_1",extraReplacements:[],checked:!0,subSteps:[{type:"iRadioC",question:"Este comprador, para realizar el contrato, act\xfaa",identifier:"id-unid-4_1_opA_1",wordToReplace:"id-unid-4_1_opA_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'El vendedor puede concluir y firmar el contrato en nombre y representaci\xf3n propios o representado por otra persona. En caso de ser representado por otra persona, estamos hablando de un representante legal (como es el caso de los menores e incapacitados) o un representante voluntario (por ejemplo, apoderado). Un representante voluntario precisa de autorizaci\xf3n mediante documento p\xfablico o privado. Si el contrato se concluye en nombre y representaci\xf3n propios, ser\xe1 persona que firma el contrato quien asuma las obligaciones del vendedor. Por el contrario, si es mediante representante, es esta otra persona quien firma el contrato; sin embargo, es el vendedor quien asumir\xe1 las obligaciones derivadas de este contrato. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'},defaultRadioId:"id-unid-4_1_opA_1_opA",replacement:"",extraReplacements:[],radios:[{label:"en su propio nombre y representaci\xf3n",radioId:"id-unid-4_1_opA_1_opA",identifier:"id-unid-4_1_opA_1_opA",replacementOriginal:"id-unid-4_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-4_1_opA_1_opA_2, con id-unid-4_1_opA_1_opA_3 n\xfamero id-unid-4_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",replacement:"id-unid-4_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-4_1_opA_1_opA_2, con id-unid-4_1_opA_1_opA_3 n\xfamero id-unid-4_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",extraReplacements:[],checked:!1,subSteps:[{question:"Nombre completo de este comprador, incluyendo los apellidos:",wordToReplace:"id-unid-4_1_opA_1_opA_1",identifier:"id-unid-4_1_opA_1_opA_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este comprador, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este comprador:",wordToReplace:"id-unid-4_1_opA_1_opA_2",identifier:"id-unid-4_1_opA_1_opA_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este comprador."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este comprador",identifier:"id-unid-4_1_opA_1_opA_3",wordToReplace:"id-unid-4_1_opA_1_opA_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opA",identifier:"id-unid-4_1_opA_1_opA_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opB",identifier:"id-unid-4_1_opA_1_opA_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opC",identifier:"id-unid-4_1_opA_1_opA_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-4_1_opA_1_opA_4",identifier:"id-unid-4_1_opA_1_opA_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}}]},{label:"por medio de un representante (legal o voluntario)",replacementOriginal:"id-unid-4_1_opA_1_opB_5, mayor de edad, con id-unid-4_1_opA_1_opB_6: id-unid-4_1_opA_1_opB_7, quien act\xfaa en calidad de id-unid-4_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, por tanto, en nombre y representaci\xf3n de id-unid-4_1_opA_1_opB_1, con domicilio en id-unid-4_1_opA_1_opB_2 y id-unid-4_1_opA_1_opB_3 n\xfamero id-unid-4_1_opA_1_opB_4.",replacement:"id-unid-4_1_opA_1_opB_5, mayor de edad, con id-unid-4_1_opA_1_opB_6: id-unid-4_1_opA_1_opB_7, quien act\xfaa en calidad de id-unid-4_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, por tanto, en nombre y representaci\xf3n de id-unid-4_1_opA_1_opB_1, con domicilio en id-unid-4_1_opA_1_opB_2 y id-unid-4_1_opA_1_opB_3 n\xfamero id-unid-4_1_opA_1_opB_4.",extraReplacements:[],radioId:"id-unid-4_1_opA_1_opB",identifier:"id-unid-4_1_opA_1_opB",checked:!1,subSteps:[{question:"Nombre completo de este comprador, incluyendo los apellidos:",wordToReplace:"id-unid-4_1_opA_1_opB_1",identifier:"id-unid-4_1_opA_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_2",identifier:"id-unid-4_1_opA_1_opB_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este comprador."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este comprador",identifier:"id-unid-4_1_opA_1_opB_3",wordToReplace:"id-unid-4_1_opA_1_opB_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opA",identifier:"id-unid-4_1_opA_1_opB_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opB",identifier:"id-unid-4_1_opA_1_opB_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opC",identifier:"id-unid-4_1_opA_1_opB_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-4_1_opA_1_opB_4",identifier:"id-unid-4_1_opA_1_opB_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Nombre completo de la persona que firma este contrato en nombre y representaci\xf3n de este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_5",identifier:"id-unid-4_1_opA_1_opB_5",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"outsideText",value:'Nombre completo, incluyendo los apellidos, de la persona f\xedsica que firma este contrato en nombre y representaci\xf3n de este comprador. El contrato puede ser firmado por un representante legal o voluntario. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'}},{type:"iRadioB",question:"Documento de identificaci\xf3n personal de la persona que firma este contrato en nombre y representaci\xf3n del comprador:",identifier:"id-unid-4_1_opA_1_opB_6",wordToReplace:"id-unid-4_1_opA_1_opB_6",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de la persona f\xedsica que firma el contrato en nombre y representaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opA",identifier:"id-unid-4_1_opA_1_opB_6_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opB",identifier:"id-unid-4_1_opA_1_opB_6_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opC",identifier:"id-unid-4_1_opA_1_opB_6_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior:",wordToReplace:"id-unid-4_1_opA_1_opB_7",identifier:"id-unid-4_1_opA_1_opB_7",placeholder:"P. ej. 83558071Z",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Calidad o concepto en el que esta persona firma este contrato en nombre y representaci\xf3n de este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_8",identifier:"id-unid-4_1_opA_1_opB_8",placeholder:"P. ej. apoderado",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la calidad o concepto en el que esta persona firma el contrato en nombre y representaci\xf3n de este comprador."}}]}]}]},{label:"Persona jur\xeddica",replacementOriginal:"id-unid-4_1_opB_5, mayor de edad, con domicilio en id-unid-4_1_opB_6, con id-unid-4_1_opB_7 n\xfamero id-unid-4_1_opB_8, en nombre y representaci\xf3n de: id-unid-4_1_opB_1, con N.I.F n\xfamero id-unid-4_1_opB_2, e inscrita en: id-unid-4_1_opB_3 con la siguiente informaci\xf3n: id-unid-4_1_opB_4.",replacement:"id-unid-4_1_opB_5, mayor de edad, con domicilio en id-unid-4_1_opB_6, con id-unid-4_1_opB_7 n\xfamero id-unid-4_1_opB_8, en nombre y representaci\xf3n de: id-unid-4_1_opB_1, con N.I.F n\xfamero id-unid-4_1_opB_2, e inscrita en: id-unid-4_1_opB_3 con la siguiente informaci\xf3n: id-unid-4_1_opB_4.",extraReplacements:[],radioId:"id-unid-4_1_opB",identifier:"id-unid-4_1_opB",checked:!1,subSteps:[{question:"Nombre completo de la persona jur\xeddica que va a comprar el veh\xedculo:",wordToReplace:"id-unid-4_1_opB_1",identifier:"id-unid-4_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Banco Santander, S.A.",indications:{areIndications:!0,indicationsType:"outsideText",value:"Si no conoce el nombre, mediante el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc), puede soliticar la informaci\xf3n."}},{question:"NIF (N\xfamero de Identificaci\xf3n Fiscal) completo de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_2",identifier:"id-unid-4_1_opB_2",type:"iText",placeholder:"P. ej. B29805314",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Se trata del n\xfamero de identificaci\xf3n fiscal para empresas y sociedades, personas f\xedsicas o cualquier tipo de entidad que desarrolle actividad de naturaleza mercantil y que, adem\xe1s, sea sujeto de obligaciones burocr\xe1ticas, como el hecho de emitir o percibir facturas. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">NIF empresarial</a>.'}},{question:"Tipo de registro y lugar donde est\xe1 inscrita esta persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_3",identifier:"id-unid-4_1_opB_3",placeholder:"Registro Mercantil de Sevilla",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n en el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Datos registrales de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_4",identifier:"id-unid-4_1_opB_4",placeholder:"P. ej. Tomo 123, folio 10, hoja SE-1234",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:'Puede solicitar dicha informaci\xf3n a trav\xe9s del registro p\xfablico correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_5",identifier:"id-unid-4_1_opB_5",placeholder:"P. ej. Margarita Garc\xeda P\xe9rez",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica"}},{question:"Domicilio completo del representante de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_6",identifier:"id-unid-4_1_opB_6",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Domicilio, incluyendo el tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds del representante de la persona jur\xeddica"}},{type:"iRadioB",question:"Documento de identidad del representante de la persona jur\xeddica:",identifier:"id-unid-4_1_opB_7",wordToReplace:"id-unid-4_1_opB_7",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo documento de identidad del representante de la persona jur\xeddica."},radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opB_7_opA",identifier:"id-unid-4_1_opB_7_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opB_7_opB",identifier:"id-unid-4_1_opB_7_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opB_7_opC",identifier:"id-unid-4_1_opB_7_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior de identificaci\xf3n personal seleccionado:",wordToReplace:"id-unid-4_1_opB_8",identifier:"id-unid-4_1_opB_8",type:"iText",placeholder:"P. ej: 42888457N",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero que corresponde con el documento de identificaci\xf3n personal seleccionado en la pregunta anterior"}}]}]}]}]},{type:"iRadioC",subType:"select",question:"Tipo de veh\xedculo que se va a vender:",identifier:"id-unid-5",wordToReplace:"id-unid-5",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de veh\xedculo objeto de venta en este contrato, si no encuentro el tipo de veh\xedculo entre las opciones propuestas seleccione "otro veh\xedculo".'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"ciclomotor (veh\xedculo con dos ruedas, pedales y motor menor a 50 cc\u200b)",radioId:"id-unid-5_opA",identifier:"id-unid-5_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: ciclomotor",replacement:"Tipo de Veh\xedculo autom\xf3vil: ciclomotor",extraReplacements:[],checked:!1,subSteps:[]},{label:"motocicleta o moto (dos ruedas y motor mayor a 50 cc\u200b)",replacementOriginal:"id-unid-5_opB_1",replacement:"id-unid-5_opB_1",extraReplacements:[],radioId:"id-unid-5_opB",identifier:"id-unid-5_opB",checked:!1,subSteps:[{type:"iRadioC",subType:"select",question:"Tipo de motocicleta:",identifier:"id-unid-5_opB_1",wordToReplace:"id-unid-5_opB_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de motocicleta objeto de venta en este contrato, si no encuentra el tipo de motocicleta entre las opciones propuestas seleccione "otro tipo de motocicleta"'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"scooter",radioId:"id-unid-5_opA_1_opA",identifier:"id-unid-5_opA_1_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta scooter",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta scooter",extraReplacements:[],checked:!0,subSteps:[]},{label:"motocross",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta de motocross",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta de motocross",extraReplacements:[],radioId:"id-unid-5_opA_1_opB",identifier:"id-unid-5_opA_1_opB",checked:!1,subSteps:[]},{label:"motocicleta el\xe9ctrica",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta el\xe9ctrica",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta el\xe9ctrica",extraReplacements:[],radioId:"id-unid-5_opA_1_opC",identifier:"id-unid-5_opA_1_opC",checked:!1,subSteps:[]},{label:"motocicleta deportiva o superbike",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta deportiva",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta deportiva",extraReplacements:[],radioId:"id-unid-5_opA_1_opD",identifier:"id-unid-5_opA_1_opD",checked:!1,subSteps:[]},{label:"motocicleta naked (motocicleta con motor al descubierto)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta naked",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta naked",extraReplacements:[],radioId:"id-unid-5_opA_1_opE",identifier:"id-unid-5_opA_1_opE",checked:!1,subSteps:[]},{label:"motocicleta gran turismo (motocicleta de carretera)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta gran turismo",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta gran turismo",extraReplacements:[],radioId:"id-unid-5_opA_1_opF",identifier:"id-unid-5_opA_1_opF",checked:!1,subSteps:[]},{label:"otro tipo de motocicleta",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta tipo id-unid-5_opA_1_opG_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta tipo id-unid-5_opA_1_opG_1",extraReplacements:[],radioId:"id-unid-5_opA_1_opG",identifier:"id-unid-5_opA_1_opG",checked:!1,subSteps:[{question:"Tipo de motocicleta que se va a vender:",placeholder:"P. ej: moto tral, enduro, chopper",wordToReplace:"id-unid-5_opA_1_opG_1",identifier:"id-unid-5_opA_1_opG_1",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el tipo de motocicleta que se desea vender mediante este contrato. Por ejemplo: MegaScooter, Moto Enduro, Moto Supermotard, Moto Trial, Moto Cruiser, Moto Chopper, Moto Streetfighter, Moto Sport Turismo, etc"}}]}]}]},{label:"motocarro (de tres ruedas dotado de plataforma para el transporte de mercanc\xedas)",radioId:"id-unid-5_opC",identifier:"id-unid-5_opC",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocarro",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocarro",extraReplacements:[],checked:!1,subSteps:[]},{label:"turismo o coche (para transportar hasta 9 personas)",replacementOriginal:"id-unid-5_opD_1",replacement:"id-unid-5_opD_1",extraReplacements:[],radioId:"id-unid-5_opD",identifier:"id-unid-5_opD",checked:!1,subSteps:[{type:"iRadioC",subType:"select",question:"Tipo de turismo o coche:",identifier:"id-unid-5_opD_1",wordToReplace:"id-unid-5_opD_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de turismo o coche objeto de venta en este contrato, si no encuentra el tipo de turismo o coche entre las opciones propuestas seleccione "otro tipo de turismo"'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"monovolumen (5 plazas o m\xe1s)",radioId:"id-unid-5_opD_1_opA",identifier:"id-unid-5_opD_1_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche monovolumen",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche monovolumen",extraReplacements:[],checked:!0,subSteps:[]},{label:"berlina (4 o m\xe1s plazas con luna trasera fija)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche berlina",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche berlina",extraReplacements:[],radioId:"id-unid-5_opD_1_opB",identifier:"id-unid-5_opD_1_opB",checked:!1,subSteps:[]},{label:"cup\xe9 (coche con forma de berlina pero que cuenta con tres puertas)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche cup\xe9",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche cup\xe9",extraReplacements:[],radioId:"id-unid-5_opD_1_opC",identifier:"id-unid-5_opD_1_opC",checked:!1,subSteps:[]},{label:"descapotable (con techo plegable o capota)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche descapotable",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche descapotable",extraReplacements:[],radioId:"id-unid-5_opD_1_opD",identifier:"id-unid-5_opD_1_opD",checked:!1,subSteps:[]},{label:"todoterreno (adaptado para uso en terrenos agrarios)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche todoterreno",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche todoterreno",extraReplacements:[],radioId:"id-unid-5_opD_1_opE",identifier:"id-unid-5_opD_1_opE",checked:!1,subSteps:[]},{label:"otro tipo de turismo",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche tipo id-unid-5_opD_1_opF_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche tipo id-unid-5_opD_1_opF_1",extraReplacements:[],radioId:"id-unid-5_opD_1_opF",identifier:"id-unid-5_opD_1_opF",checked:!1,subSteps:[{question:"Tipo de turismo o coche:",placeholder:"suv, familiar, de competeci\xf3n",wordToReplace:"id-unid-5_opD_1_opF_1",identifier:"id-unid-5_opD_1_opF_1",type:"iText",replacement:""}]}]}]},{label:"furg\xf3n o furgoneta (para el transporte de mercanc\xedas hasta 3.500 kilos)",radioId:"id-unid-5_opE",identifier:"id-unid-5_opE",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: furgoneta",replacement:"Tipo de Veh\xedculo autom\xf3vil: furgoneta",extraReplacements:[],checked:!1,subSteps:[]},{label:"cami\xf3n (para el transporte de mercanc\xedas de m\xe1s de 3.500 kilos)",radioId:"id-unid-5_opF",identifier:"id-unid-5_opF",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",replacement:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",extraReplacements:[],checked:!1,subSteps:[]},{label:"autob\xfas o autocar (para el transporte de m\xe1s de 9 personas)",radioId:"id-unid-5_opG",identifier:"id-unid-5_opG",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",replacement:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",extraReplacements:[],checked:!1,subSteps:[]},{label:"otro veh\xedculo",radioId:"id-unid-5_opH",identifier:"id-unid-5_opH",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: id-unid-5_opH_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: id-unid-5_opH_1",extraReplacements:[],checked:!0,subSteps:[{question:"Tipo de veh\xedculo que se desea vender mediante este contrato distinto a los indicados en la pregunta anterior:",placeholder:"autocaravana, quad",wordToReplace:"id-unid-5_opH_1",identifier:"id-unid-5_opH_1",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique el tipo de veh\xedculo que desea vender mediante este contrato distinto a los indicados en la pregunta anterior."}}]}]},{type:"iText",identifier:"id-unid-6",wordToReplace:"id-unid-6",replacement:"",placeholder:"P. ej: Seat, Citroen, Suzuki,...",question:"Marca del veh\xedculo :",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la marca fabricante del veh\xedculo que se va a vender."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-7",wordToReplace:"id-unid-7",replacement:"",placeholder:"P. ej: Ibiza, Polo, C4,...",question:"Modelo espec\xedfico del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el modelo espec\xedfico del veh\xedculo que se desea vender."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-8",wordToReplace:"id-unid-8",replacement:"",placeholder:"P. ej: VF1RFD00653635032",question:"N\xfamero de serie y bastidor (mejor conocido como n\xba de bastidor) del veh\xedculo:",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escriba el n\xfamero de serie y bastidor (o simplemente conocido como n\xba de bastidor) del veh\xedculo que se desea vender. Si desea m\xe1s informaci\xf3n sobre el n\xfamero de bastidor y como encontrarlo puede consultar el siguiente enlace: <a href="https://www.autopista.es/noticias-motor/articulo/numero-bastidor-coche-significado" target="_blank">N\xfamero de bastidor</a>'},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-9",wordToReplace:"id-unid-9",replacement:"",placeholder:"P. ej: 500",question:"Kilometraje o n\xfamero de kil\xf3metros recorridos que aparecen en el cuenta kil\xf3metros del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Kilometraje o n\xfamero de kil\xf3metros recorridos que aparecen en el cuenta kil\xf3metros del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-10",wordToReplace:"id-dec-10",replacement:"",placeholder:"P. ej: 2483YBY",question:"Matr\xedcula del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Matr\xedcula del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-11",wordToReplace:"id-dec-11",replacement:"",placeholder:"P. ej: Mayo 2001",question:"Mes y a\xf1o de la primera matriculaci\xf3n del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el mes y a\xf1o de la primera matriculaci\xf3n del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-12",wordToReplace:"id-dec-12",replacement:"",placeholder:"P. ej: rojo, negro,...",question:"Color del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba color del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iRadioC",question:"\xbfDesea a\xf1adir otras caracter\xedsticas especiales del veh\xedculo?",identifier:"new-idunid1",wordToReplace:"new-idunid1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Si desea a\xf1adir otras caracter\xedsticas del veh\xedculo, como, por ejemplo, aire acondicionado, marque "s\xed".'},defaultRadioId:"new-idunid1_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"\u2022 Otras caracter\xedsticas del veh\xedculo: new-idunid1_opA_1",replacement:"\u2022 Otras caracter\xedsticas del veh\xedculo: new-idunid1_opA_1",extraReplacements:[],radioId:"new-idunid1_opA",identifier:"new-idunid1_opA",checked:!1,subSteps:[{question:"Indique otras caracter\xedsticas del veh\xedculo",placeholder:"P. ej: Aire acondicionado",wordToReplace:"new-idunid1_opA_1",identifier:"new-idunid1_opA_1",type:"iText",replacement:""}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"new-idunid1_opB",identifier:"new-idunid1_opB",checked:!0,subSteps:[]}]},{type:"iText",identifier:"id-dec-13",wordToReplace:"id-dec-13",replacement:"",placeholder:"P. ej: sin plomo 95, di\xe9sel",question:"Tipo de combustible del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique en este espacio el tipo espec\xedfico de combustible que utiliza el veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iRadioB",question:"El veh\xedculo, \xbflleva el motor original (el motor de f\xe1brica)?",identifier:"id-dec-14",wordToReplace:"id-dec-14",replacement:"",radios:[{label:"S\xed",replacementOriginal:"S\xed",replacement:"S\xed",radioId:"id14_opA",identifier:"id14_opA",extraReplacements:[],checked:!0},{label:"No",replacementOriginal:"No",replacement:"No",radioId:"id14_opB",identifier:"id14_opB",extraReplacements:[],checked:!1}]},{type:"iText",identifier:"id-dec-15",wordToReplace:"id-dec-15",replacement:"",placeholder:"",question:"N\xfamero de propietarios que ha tenido el veh\xedculo antes que el actual propietario:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero de propietarios que ha tenido el veh\xedculo que se desea vender antes que el actual propietario. Si el propietario que ahora lo vende es el \xfanico propietario que ha tenido el veh\xedculo introduzca 0."},mandatory:!0,isFocused:!1},{type:"iRadioC",subType:"select",question:"Indique el estado de conservaci\xf3n del veh\xedculo",identifier:"id-dec-16",wordToReplace:"id-dec-16",indications:{areIndications:!0,indicationsType:"outsideText",value:'Si tiene dudas sobre c\xf3mo describir el estado del veh\xedculo consulte este <a href="https://www.autocasion.com/actualidad/reportajes/como-describir-el-estado-de-un-coche-usado" target="_blank">enlace</a>'},defaultRadioId:"id-dec-16_opA",replacement:"",extraReplacements:[],radios:[{label:"Muy bueno, poco uso.",replacementOriginal:"Muy bueno, poco uso.",replacement:"Muy bueno, poco uso.",extraReplacements:[],radioId:"id-dec-16_opA",identifier:"id-dec-16_opA",checked:!1,subSteps:[]},{label:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad.",replacementOriginal:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad. id-dec-16_opB_1",replacement:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad. id-dec-16_opB_1",extraReplacements:[],radioId:"id-dec-16_opB",identifier:"id-dec-6_opB",checked:!0,subSteps:[{question:"Desperfectos o golpes visibles que tiene el veh\xedculo que se desea vender",placeholder:"Opcional",wordToReplace:"id-dec-16_opB_1",identifier:"id-dec-16_opB_1",type:"iText",replacement:"",isEmpty:{prepend:"Los desperfectos y/o golpes visibles que tiene el Veh\xedculo son los siguientes: ",append:""}}]},{label:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo.",replacementOriginal:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo. id-dec-16_opC_1",replacement:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo. id-dec-16_opC_1",extraReplacements:[],radioId:"id-dec-16_opC",identifier:"id-dec-16_opC",checked:!0,subSteps:[{question:"Desperfectos o golpes visibles que tiene el veh\xedculo que se desea vender",placeholder:"Opcional",wordToReplace:"id-dec-16_opC_1",identifier:"id-dec-16_opC_1",type:"iText",replacement:"",isEmpty:{prepend:"Los desperfectos y/o golpes visibles que tiene el Veh\xedculo son los siguientes: ",append:""}}]}]},{type:"iRadioC",question:"El veh\xedculo ha pasado la ITV alguna vez:",identifier:"id-dec-17",wordToReplace:"id-dec-17",defaultRadioId:"id-dec-17_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"Que el Veh\xedculo objeto del presente Contrato de compraventa est\xe1 al d\xeda en las inspecciones reglamentarias de la ITV, habi\xe9ndose realizado la \xfaltima inspecci\xf3n en id-dec-17_opA_1 el pasado d\xeda id-dec-17_opA_2.",replacement:"Que el Veh\xedculo objeto del presente Contrato de compraventa est\xe1 al d\xeda en las inspecciones reglamentarias de la ITV, habi\xe9ndose realizado la \xfaltima inspecci\xf3n en id-dec-17_opA_1 el pasado d\xeda id-dec-17_opA_2.",extraReplacements:[],radioId:"id-dec-17_opA",identifier:"id-dec-17_opA",checked:!0,subSteps:[{question:"Municipio y/o nombre del centro de ITV en el que el veh\xedculo pas\xf3 su \xfaltima inspecci\xf3n:",placeholder:"Ej. Vallecas - OCA ITV, S.A.",wordToReplace:"id-dec-17_opA_1",identifier:"id-dec-17_opA_1",type:"iText",replacement:""},{question:"Fecha en la que el veh\xedculo pas\xf3 la \xfaltima ITV:",wordToReplace:"id-dec-17_opA_2",identifier:"id-dec-17_opA_2",type:"iDate",replacement:""}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-17_opB",identifier:"id-dec-17_opB",checked:!1,subSteps:[]}]},{question:"Mes y a\xf1o en el que el veh\xedculo que se desea vender debe pasar la pr\xf3xima ITV:",placeholder:"P. ej: Octubre 2019",wordToReplace:"id-dec-18",identifier:"id-dec-18",type:"iText",replacement:""},{question:"Precio fijado para la venta del veh\xedculo (en euros):",placeholder:"P. ej: 3000",wordToReplace:"id-dec-19",identifier:"id-dec-19",type:"iNumber",replacement:"",extraReplacements:[],rules:[{condition:!1,rulename:"extraReplacementToCharacter",identifier:"iddec19-precioAletras",wordToReplace:"iddec19-precioAletras",replacement:""}]},{type:"iRadioC",question:"Se va a pagar una cantidad en concepto de se\xf1al o reserva:",identifier:"id-dec-20",wordToReplace:"id-dec-20",indications:{areIndications:!0,indicationsType:"outsideText",value:"Se realiza con el fin de reservar el derecho sobre el veh\xedculo que se pretende transmitir, mediante la entrega de una cantidad en concepto de se\xf1al."},defaultRadioId:"id-dec-20_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"En el momento de la firma del presente contrato la parte compradora entrega a la vendedora en concepto de adelanto la cantidad de id-dec-20_opA_1 \u20ac (iddec20-precioAletras). Cantidad que se descontar\xe1 del precio total de compraventa establecido.",replacement:"En el momento de la firma del presente contrato la parte compradora entrega a la vendedora en concepto de adelanto la cantidad de id-dec-20_opA_1 \u20ac (iddec20-precioAletras). Cantidad que se descontar\xe1 del precio total de compraventa establecido.",extraReplacements:[],radioId:"id-dec-20_opA",identifier:"id-dec-20_opA",checked:!1,subSteps:[{question:"Cantidad (en euros) que se desea pagar en concepto de se\xf1al o de reserva del veh\xedculo al momento de firmar el contrato:",placeholder:"P. ej: 300",wordToReplace:"id-dec-20_opA_1",identifier:"id-dec-20_opA_1",type:"iNumber",replacement:"",extraReplacements:[],rules:[{condition:!1,rulename:"extraReplacementToCharacter",identifier:"iddec20-precioAletras",wordToReplace:"iddec20-precioAletras",replacement:""}]}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-20_opB",identifier:"id-dec-20_opB",checked:!0,subSteps:[]}]},{type:"iRadioC",subType:"select",question:"M\xe9todo que se va a utilizar para realizar el pago:",identifier:"id-dec-21",wordToReplace:"id-dec-21",defaultRadioId:"id-dec-21_opA",replacement:"",extraReplacements:[],radios:[{label:"Ingreso o transferencia bancaria",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante ingreso en cuenta o transferencia bancaria. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo en la siguiente cuenta bancaria: <br><br>    - Entidad bancaria:\xa0id-dec-21_opA_1 <br><br>    - IBAN identificador de la cuenta:\xa0id-dec-21_opA_2 <br><br>    - Titular de la cuenta:\xa0id-dec-21_opA_3",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante ingreso en cuenta o transferencia bancaria. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo en la siguiente cuenta bancaria: Entidad bancaria:\xa0id-dec-21_opA_1 IBAN identificador de la cuenta:\xa0id-dec-21_opA_2 Titular de la cuenta:\xa0id-dec-21_opA_3",extraReplacements:[],radioId:"id-dec-21_opA",identifier:"id-dec-21_opA",checked:!1,subSteps:[{question:"Nombre o denominaci\xf3n completa de la entidad bancaria en la que se encuentra abierta la cuenta en la que el comprador deber\xe1 ingresar el precio:",placeholder:"P. ej: BANCO BILBAO VIZCAYA ARGENTARIA, S.A.",wordToReplace:"id-dec-21_opA_1",identifier:"id-dec-21_opA_1",type:"iText",replacement:""},{question:"IBAN o n\xfamero identificador de la cuenta bancaria donde el comprador ingresar\xe1 el precio:",placeholder:"P. ej: ES7900815992191881555999",wordToReplace:"id-dec-21_opA_2",identifier:"id-dec-21_opA_2",type:"iText",replacement:""},{question:"Nombre y apellidos completos del titular de la cuenta bancaria en la que el comprador ingresar\xe1 el precio del veh\xedculo se desea vender:",placeholder:"P. ej. Martino Montano Holgu\xedn",wordToReplace:"id-dec-21_opA_3",identifier:"id-dec-21_opA_3",type:"iText",replacement:""}]},{label:"En efectivo",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante entrega en efectivo. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante entrega en efectivo. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",extraReplacements:[],radioId:"id-dec-21_opB",identifier:"id-dec-21_opB",checked:!0,subSteps:[]},{label:"Cheque",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante cheque. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante cheque. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",extraReplacements:[],radioId:"id-dec-21_opC",identifier:"id-dec-21_opC",checked:!0,subSteps:[]},{label:"Otro",replacementOriginal:"El pago del precio por la Parte Compradora se realizar\xe1 mediante: id-dec-21_opD_1. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo",replacement:"El pago del precio por la Parte Compradora se realizar\xe1 mediante: id-dec-21_opD_1. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo",extraReplacements:[],radioId:"id-dec-21_opD",identifier:"id-dec-21_opD",checked:!0,subSteps:[{question:"Especifique el m\xe9todo de pago mediante el cual el comprador pagar\xe1 al vendedor el precio:",placeholder:"El 40% en cheque y el resto en efectivo",wordToReplace:"id-dec-21_opD_1",identifier:"id-dec-21_opD_1",type:"iText",replacement:""}]}]},{question:"Lugar en el que el vendedor entregar\xe1 el veh\xedculo al comprador:",placeholder:"P. ej: Paseo de las Yeser\xedas 11",wordToReplace:"id-dec-22",identifier:"id-dec-22",type:"iText",replacement:""},{type:"iRadioC",question:"El vendedor debe hacer entrega del veh\xedculo en favor del comprador:",identifier:"id-dec-23",wordToReplace:"id-dec-23",defaultRadioId:"id-dec-23_opA",replacement:"",extraReplacements:[],radios:[{label:"en el momento de firmar este contrato",replacementOriginal:"en el momento de firma de este contrato",replacement:"en el momento de firma de este contrato",extraReplacements:[],radioId:"id-dec-23_opA",identifier:"id-dec-23_opA",checked:!1,subSteps:[]},{label:"en una fecha posterior a la fecha de firma de este contrato",replacementOriginal:"dentro del plazo de id-dec-23_opB_1 desde la fecha recogida en el encabezado de este Contrato.",replacement:"dentro del plazo de id-dec-23_opB_1 desde la fecha recogida en el encabezado de este Contrato.",extraReplacements:[],radioId:"id-dec-23_opB",identifier:"id-dec-23_opB",checked:!1,subSteps:[{question:"Plazo (desde la firma de este contrato) en el que el vendedor debe hacer entrega del veh\xedculo en favor del comprador (en meses, semanas y d\xedas):",placeholder:"Ej. 30 d\xedas",wordToReplace:"id-dec-23_opB_1",identifier:"id-dec-23_opB_1",type:"iText",replacement:"",extraReplacements:[]}]}]},{type:"iRadioC",question:"adem\xe1s del permiso de circulaci\xf3n, la ficha t\xe9cnica, y el recibo del impuesto de circulaci\xf3n del a\xf1o anterior, el comprador recibi\xf3 otro documento/accesorio relativo al veh\xedculo que se desea vender?",identifier:"id-dec-24",wordToReplace:"id-dec-24",defaultRadioId:"id-dec-24_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"9. Otros: id-dec-24_opA_1",replacement:"9. Otros: id-dec-24_opA_1",extraReplacements:[],radioId:"id-dec-24_opA",identifier:"id-dec-24_opA",checked:!1,subSteps:[{question:"Indique qu\xe9 otros documentos o accesorios recibe el comprador:",wordToReplace:"id-dec-24_opA_1",identifier:"id-dec-24_opA_1",type:"iText",replacement:"",extraReplacements:[]}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-24_opB",identifier:"id-dec-24_opB",checked:!1,subSteps:[]}]},{type:"end",identifier:"end",wordToReplace:"end",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n      inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino).",checkoutProcess:{isInited:!1,phase:0}}],Oe=function(){function e(e,t,n,i,o,r,a,l){this.stepModelService=e,this.commonsService=t,this.sharedService=n,this.documentCreatorService=i,this.formsService=o,this.toastr=r,this.checkoutService=a,this.route=l,this.form=new y.b,this.currentStep=0,this.progresBarPercentage="0%",this.steps=Re,this.formAlreadyPaid=!1,this.indications={areIndications:!0,indicationsType:"outsideText",value:""},this.inputInvalid=!1}return e.prototype.ngOnInit=function(){var e=this;this.commonsService.toggleSpinner(),this.route.params.subscribe(function(t){e.route.queryParams.subscribe(function(n){n.transactionId?(e.formAlreadyPaid=!0,e.formsService.getPaidCertifiedForm(n.transactionId).subscribe(function(n){if(n.certifiedForm){var i=n.certifiedForm;e.form.fields=JSON.parse(i.fields),e.form.title=i.title,e.form.uri=i.uri,e.form.id=t.id,e.form.amount=i.amount,e.form.topLabelTitle=i.topLabelTitle,e.form.information=i.information,e.setInitiaState()}else n.transactionNotFound?e.commonsService.toastMessage("error","Transaction Id does not exist","Transaction id not found"):n.formExpired&&e.commonsService.toastMessage("error","The period of 30 days to change the document has expired","Transaction expired")})):window.sessionStorage[t.id]?(e.form=JSON.parse(window.sessionStorage[t.id]),e.steps=e.form.fields,e.formAlreadyPaid=e.form.alreadyPaid,e.setInitiaState()):e.formsService.getCertifiedForm(t.id).subscribe(function(n){e.form.fields=e.steps,e.form.title=n.title,e.form.uri=n.uri,e.form.id=t.id,e.form.amount=n.amount,e.form.image=n.image,e.form.topLabelTitle=n.topLabelTitle,e.form.information=n.information,e.steps=n.steps,e.setInitiaState()})})})},e.prototype.ngAfterViewInit=function(){this.commonsService.resizeEditor(!1)},e.prototype.ngOnDestroy=function(){this.documentCreatorService.destroy(),window.removeEventListener("resize",this.commonsService.resizeEditor.bind(this))},e.prototype.setInitiaState=function(){var e=this;this.stepModelService.init(this.form.fields),this.sharedService.setForm(this.form),this.form.fields.forEach(function(t,n){t.isCurrentStep&&(e.currentStep=n,e.updateProgressBarPercentage(),"end"===e.steps[e.currentStep].type&&e.steps[e.currentStep].checkoutProcess.isInited&&!e.formAlreadyPaid&&e.toogleModal(e.modalEnd.nativeElement))}),this.documentCreatorService.init(this.form.uri).then(function(t){e.commonsService.resizeEditor(!0),window.addEventListener("resize",e.commonsService.resizeEditor.bind(e)),e.documentCreatorService.resizeDocumentContainer(),e.stepModelService.buildDocument(!1),window.sessionStorage["Contrato de Arras Penitenciales"]||e.stepModelService.setInitialState(),e.commonsService.toggleSpinner()})},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.moveStep=function(e){"next"===e?this.validateBeforeNextStep(this.steps[this.currentStep])&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep+1].isCurrentStep=!0,this.currentStep+=1):"previous"===e&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep-1].isCurrentStep=!0,this.currentStep-=1),this.updateProgressBarPercentage(),"end"===this.steps[this.currentStep].type&&this.prepareForCheckout()},e.prototype.validateBeforeNextStep=function(e){if(e.mandatory){if(""===e.replacement)return this.toastr.error("Form cannot be empty","Empty field",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),this.inputInvalid=!0,!1;this.inputInvalid=!1}return!0},e.prototype.updateProgressBarPercentage=function(){var e=this;if(this.progressBar&&this.currentStep)for(var t=Math.round(this.currentStep/(this.steps.length-1)*100),n=parseInt(this.progresBarPercentage,10),i=t>n?t-n:n-t,o=function(i){setTimeout(function(){var o=t>n?n+i:n-i;e.progressBar.nativeElement.style.width=o+"%",e.progresBarPercentage=o+"%"},10*i)},r=0;r<i+1;r++)o(r);else this.progresBarPercentage=Math.round(this.currentStep/(this.steps.length-1)*100)+"%"},e.prototype.showIndication=function(){var e=this.steps[this.currentStep];e.indications.areIndications&&("outsideText"===e.indications.indicationsType||window.innerWidth<885?(this.indications=e.indications,this.toogleModal(this.modalIndication.nativeElement)):this.documentCreatorService.showIndicationInsideText(e.wordToReplace,e.indications.value))},e.prototype.prepareForCheckout=function(){this.form.fields=this.steps,this.sharedService.setForm(this.form)},e.prototype.startCheckout=function(){this.steps[this.currentStep].checkoutProcess.isInited=!0},e.prototype.onFormPaid=function(e){var t=this;this.formAlreadyPaid=!0,this.form.alreadyPaid=!0,this.form.uri=e.uri,this.form.fields=JSON.parse(e.fields),this.stepModelService.init(this.form.fields),this.documentCreatorService.destroy(),this.sharedService.setForm(this.form),this.documentCreatorService.init(this.form.uri).then(function(n){t.commonsService.resizeEditor(!0),window.addEventListener("resize",t.commonsService.resizeEditor.bind(t)),t.stepModelService.buildDocument(),t.documentCreatorService.saveUri().then(function(n){t.checkoutService.sendMail(e.transactionId,n).subscribe(function(e){console.log(e)})})})},e.prototype.previewDocumentButton=function(e){this.commonsService.previewDocumentButton(e),this.documentCreatorService.resizeEvent()},e.prototype.onExitPayment=function(){this.toogleModal(this.modalEnd.nativeElement)},e.prototype.toogleCheckout=function(){this.formAlreadyPaid?this.toogleModal(this.modalDownload.nativeElement):(this.toogleModal(this.modalEnd.nativeElement),this.startCheckout())},e.prototype.downloadWord=function(){this.documentCreatorService.downloadWord(this.form.id,this.form.uri)},e.prototype.downloadPdf=function(){this.documentCreatorService.downloadPdf(this.form.id,this.form.uri)},e}(),Se=i.ob({encapsulation:2,styles:[],data:{}});function Ce(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,14,"div",[["class","form-creator__fields-area__top__container"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,10,"div",[["class","form-creator__fields-area__top__author-date"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,5,"span",[["class","form-creator__fields-area__top__author-date__author"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,1,"div",[["class","form-creator__fields-area__top__author-date__author__image-container"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,0,"img",[["alt","avatar"],["src","/assets/images/avatar.jpg"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,2,"span",[["routerLink","/static-pages/silvia-profile"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==i.Ab(e,6).onClick()&&o),o},null,null)),i.pb(6,16384,null,0,m.m,[m.l,m.a,[8,null],i.E,i.k],{routerLink:[0,"routerLink"]},null),(e()(),i.Ib(-1,null,["Silvia Camejo Alarc\xf3n"])),(e()(),i.qb(8,0,null,null,3,"span",[["class","form-creator__fields-area__top__author-date__date"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Last updated:"])),(e()(),i.Ib(-1,null,[" 20 abril 2019 "])),(e()(),i.qb(12,0,null,null,2,"div",[["class","form-creator__fields-area__top__before-start-button"]],null,null,null,null,null)),(e()(),i.qb(13,0,null,null,1,"div",[["class","form-creator__fields-area__top__before-start-button__information-modal-icon trigger"]],null,null,null,null,null)),(e()(),i.qb(14,0,null,null,0,"span",[["class","icon icon-info-solid"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.toogleModal(i.Ab(e.parent,46))&&o),o},null,null))],function(e,t){e(t,6,0,"/static-pages/silvia-profile")},null)}function Pe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"div",[["class","progress-container"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,2,"div",[["class","progress progress-large"]],null,null,null,null,null)),(e()(),i.qb(2,0,[[6,0],["progressBar",1]],null,1,"span",[],[[4,"width",null]],null,null,null,null)),(e()(),i.Ib(3,null,["",""]))],null,function(e,t){var n=t.component;e(t,2,0,n.progresBarPercentage),e(t,3,0,n.progresBarPercentage)})}function we(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,7,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,6,"div",[["class","form-creator__fields-area__middle__initial-screen"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,1,"h3",[["class","form-creator__fields-area__middle__initial-screen__form-title"]],null,null,null,null,null)),(e()(),i.Ib(3,null,[" "," "])),(e()(),i.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__middle__initial-screen__description"]],null,null,null,null,null)),(e()(),i.Ib(5,null,[" "," "])),(e()(),i.qb(6,0,null,null,1,"button",[["class","button-filled button-filled--start-form"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.toogleModal(i.Ab(e.parent,46))&&o),o},null,null)),(e()(),i.Ib(-1,null,[" Rellenar formulario "]))],null,function(e,t){var n=t.component;e(t,3,0,n.steps[n.currentStep].title),e(t,5,0,n.steps[n.currentStep].description)})}function De(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-text",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},R,v)),i.pb(1,114688,null,0,I,[T,A],{step:[0,"step"],inputInvalid:[1,"inputInvalid"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep],n.inputInvalid)},null)}function Le(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-date",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},P,S)),i.pb(1,114688,null,0,O,[T,A],{step:[0,"step"],inputInvalid:[1,"inputInvalid"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep],n.inputInvalid)},null)}function Me(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-number",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},k,L)),i.pb(1,114688,null,0,w,[T,A,D.j],{step:[0,"step"],inputInvalid:[1,"inputInvalid"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep],n.inputInvalid)},null)}function ke(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-for-each",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},F,x)),i.pb(1,114688,null,0,U,[T,A],{step:[0,"step"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep])},null)}function Ue(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-radio-b",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},V,B)),i.pb(1,114688,null,0,q,[T,A],{step:[0,"step"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep])},null)}function xe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-radio-c",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},j,Y)),i.pb(1,114688,null,0,z,[T,A],{step:[0,"step"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep])},null)}function Fe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-select",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},J,Q)),i.pb(1,114688,null,0,W,[T,A],{step:[0,"step"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep])},null)}function qe(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-i-checkbox",[],null,[[null,"emitIndication"]],function(e,t,n){var i=!0;return"emitIndication"===t&&(i=!1!==e.component.showIndication()&&i),i},te,$)),i.pb(1,114688,null,0,X,[T,A],{step:[0,"step"]},{emitIndication:"emitIndication"})],function(e,t){var n=t.component;e(t,1,0,n.steps[n.currentStep])},null)}function Be(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__end-step"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,8,"div",[["class","form-creator__fields-area__end-step__container"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),i.qb(6,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Finalizado"])),(e()(),i.qb(8,0,null,null,1,"button",[["class","button-filled button-filled--start-form trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.toogleCheckout()&&i),i},null,null)),(e()(),i.Ib(-1,null,["Descargar"])),(e()(),i.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__end-step__icons"]],null,null,null,null,null)),(e()(),i.qb(11,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,null,null,null,null)),(e()(),i.qb(12,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,null,null,null,null))],null,null)}function He(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,18,"div",[["class","form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,0,"span",[["class","icon icon-file-regular"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["1."])),(e()(),i.qb(5,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Elige un documento"])),(e()(),i.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,0,"span",[["class","icon icon-list-alt-regular"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["2."])),(e()(),i.qb(11,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Rellena el formulario"])),(e()(),i.qb(13,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),i.qb(14,0,null,null,0,"span",[["class","icon icon-print-solid"]],null,null,null,null,null)),(e()(),i.qb(15,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["3."])),(e()(),i.qb(17,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Gu\xe1rdalo e impr\xedmelo"]))],null,null)}function Ve(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.moveStep("next")&&i),i},null,null)),(e()(),i.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Siguiente"])),(e()(),i.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-right-solid"]],null,null,null,null,null))],null,null)}function ze(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,11,"div",[["class","form-creator__fields-area__bottom"]],null,null,null,null,null)),(e()(),i.qb(1,0,null,null,10,"div",[["class","form-creator__fields-area__bottom__container"]],null,null,null,null,null)),(e()(),i.qb(2,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.moveStep("previous")&&i),i},null,null)),(e()(),i.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-left-solid"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Anterior"])),(e()(),i.qb(6,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__preview-button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.previewDocumentButton(!0)&&i),i},null,null)),(e()(),i.Ib(-1,null,[" Preview "])),(e()(),i.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["\u2b07"])),(e()(),i.hb(16777216,null,null,1,null,Ve)),i.pb(11,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,11,0,"end"!==n.steps[n.currentStep].type)},null)}function Ye(e){return i.Kb(0,[i.Gb(402653184,1,{modal:0}),i.Gb(402653184,2,{modalEnd:0}),i.Gb(402653184,3,{modalDownload:0}),i.Gb(402653184,4,{modalIndication:0}),i.Gb(402653184,5,{input:0}),i.Gb(671088640,6,{progressBar:0}),(e()(),i.qb(6,0,null,null,39,"div",[["class","form-creator__container"]],null,null,null,null,null)),(e()(),i.qb(7,0,null,null,31,"div",[["class","form-creator__fields-area"],["id","fields-area"]],null,null,null,null,null)),(e()(),i.qb(8,0,null,null,30,"div",[["class","form-creator__fields-area__container"]],null,null,null,null,null)),(e()(),i.qb(9,0,null,null,4,"div",[["class","form-creator__fields-area__top"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,Ce)),i.pb(11,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Pe)),i.pb(13,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.qb(14,0,null,null,20,"div",[["class","form-creator__fields-area__middle"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,we)),i.pb(16,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,De)),i.pb(18,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Le)),i.pb(20,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Me)),i.pb(22,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,ke)),i.pb(24,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Ue)),i.pb(26,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,xe)),i.pb(28,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Fe)),i.pb(30,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,qe)),i.pb(32,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Be)),i.pb(34,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,He)),i.pb(36,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,ze)),i.pb(38,16384,null,0,f.k,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(e()(),i.qb(39,0,null,null,6,"div",[["class","form-creator__text-area"],["id","text-area"]],null,null,null,null,null)),(e()(),i.qb(40,0,null,null,1,"div",[["id","wodoformbaseddocs"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),i.qb(41,0,null,null,0,"div",[["id","editorContainer"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),i.qb(42,0,null,null,3,"button",[["class","button-filled button-filled--preview-document"],["id","scrollToTop"],["style","display: none;"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.previewDocumentButton(!1)&&i),i},null,null)),(e()(),i.Ib(-1,null,["Form "])),(e()(),i.qb(44,0,null,null,1,"span",[["style","font-size:20px;"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["\u2191"])),(e()(),i.qb(46,0,[[1,0],["modal",1]],null,10,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.qb(47,0,null,null,9,"div",[["class","modal__content modal__content--privacy"]],null,null,null,null,null)),(e()(),i.qb(48,0,null,null,2,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),i.qb(49,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Indicaciones antes de comenzar el formulario"])),(e()(),i.qb(51,0,null,null,2,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"]],null,null,null,null,null)),(e()(),i.qb(52,0,null,null,1,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),i.qb(53,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i.qb(54,0,null,null,2,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy"]],null,null,null,null,null)),(e()(),i.qb(55,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,t,n){var o=!0,r=e.component;return"click"===t&&(r.toogleModal(i.Ab(e,46)),o=!1!==r.moveStep("next")&&o),o},null,null)),(e()(),i.Ib(-1,null,["Rellenar"])),(e()(),i.qb(57,0,[[2,0],["modalEnd",1]],null,2,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.qb(58,0,null,null,1,"app-checkout",[["class","modal__content modal__content--privacy"]],null,[[null,"formPaid"],[null,"exitModal"],[null,"downloadWordOutput"],[null,"downloadPdfOutput"]],function(e,t,n){var i=!0,o=e.component;return"formPaid"===t&&(i=!1!==o.onFormPaid(n)&&i),"exitModal"===t&&(i=!1!==o.onExitPayment()&&i),"downloadWordOutput"===t&&(i=!1!==o.downloadWord()&&i),"downloadPdfOutput"===t&&(i=!1!==o.downloadPdf()&&i),i},Ne,ue)),i.pb(59,114688,null,0,re,[ie.a,ae.a,le.a,se.a,ce.a,m.l,D.j],{form:[0,"form"]},{formPaid:"formPaid",exitModal:"exitModal",downloadPdfOutput:"downloadPdfOutput",downloadWordOutput:"downloadWordOutput"}),(e()(),i.qb(60,0,[[3,0],["modalDownload",1]],null,9,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.qb(61,0,null,null,8,"div",[["class","modal__content"],["style","padding: 2rem"]],null,null,null,null,null)),(e()(),i.qb(62,0,null,null,4,"div",[["class","modal__content__modal-middle modal__content__modal-middle--change-password"]],null,null,null,null,null)),(e()(),i.qb(63,0,null,null,3,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),i.qb(64,0,null,null,2,"div",[["class","download-documents-modal"]],null,null,null,null,null)),(e()(),i.qb(65,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.downloadWord()&&i),i},null,null)),(e()(),i.qb(66,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.downloadPdf()&&i),i},null,null)),(e()(),i.qb(67,0,null,null,2,"div",[["class","modal__content__modal-bottom"]],null,null,null,null,null)),(e()(),i.qb(68,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.toogleModal(i.Ab(e,60))&&o),o},null,null)),(e()(),i.Ib(-1,null,["Cancelar"])),(e()(),i.qb(70,0,[[4,0],["modalIndication",1]],null,9,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.qb(71,0,null,null,8,"div",[["class","modal__content modal__content--question-indication"]],null,null,null,null,null)),(e()(),i.qb(72,0,null,null,2,"div",[["class","modal__content__top modal__content__top--indication"]],null,null,null,null,null)),(e()(),i.qb(73,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),i.Ib(-1,null,["Indication"])),(e()(),i.qb(75,0,null,null,1,"div",[["class","modal__content__modal-middle modal__content__modal-middle--question-indication"]],null,null,null,null,null)),(e()(),i.qb(76,0,null,null,0,"div",[["class","modal__content__modal-middle__container"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i.qb(77,0,null,null,2,"div",[["class","new-modal-content__footer new-modal-content__footer--indicactions"]],null,null,null,null,null)),(e()(),i.qb(78,0,null,null,1,"button",[["class","btn next-btn"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.toogleModal(i.Ab(e,70))&&o),o},null,null)),(e()(),i.Ib(-1,null,["Entendido"]))],function(e,t){var n=t.component;e(t,11,0,"start"===n.steps[n.currentStep].type),e(t,13,0,"start"!==n.steps[n.currentStep].type),e(t,16,0,"start"===n.steps[n.currentStep].type),e(t,18,0,"iText"===n.steps[n.currentStep].type),e(t,20,0,"iDate"===n.steps[n.currentStep].type),e(t,22,0,"iNumber"===n.steps[n.currentStep].type),e(t,24,0,"iForEach"===n.steps[n.currentStep].type),e(t,26,0,"iRadioB"===n.steps[n.currentStep].type),e(t,28,0,"iRadioC"===n.steps[n.currentStep].type&&"select"!==n.steps[n.currentStep].subType),e(t,30,0,"iRadioC"===n.steps[n.currentStep].type&&"select"===n.steps[n.currentStep].subType),e(t,32,0,"iCheckbox"===n.steps[n.currentStep].type),e(t,34,0,"end"===n.steps[n.currentStep].type),e(t,36,0,"start"===n.steps[n.currentStep].type),e(t,38,0,"start"!==n.steps[n.currentStep].type),e(t,59,0,n.form)},function(e,t){var n=t.component;e(t,53,0,n.form.information),e(t,76,0,n.indications.value)})}var Ke=function(){function e(e,t,n,i,o,r,a){this.commonsService=e,this.formsService=t,this.userService=n,this.sharedService=i,this.router=o,this.route=r,this.toastr=a,this.form=new y.b,this.originalForm=new y.b,this.currentStep=0,this.updatingForm=!1}return e.prototype.ngOnInit=function(){var e=this;this.sharedService.currentForm.subscribe(function(t){e.commonsService.isObjectEmpty(t)||(e.form=t,e.currentStep=t.currentStep)}),this.userService.isAuthenticated.subscribe(function(t){e.isAuth=!!t}),document.getElementsByTagName("html")[0].style.overflow="hidden",window.addEventListener("unload",this.saveInSessionStorage.bind(this))},e.prototype.ngOnDestroy=function(){document.getElementsByTagName("html")[0].style.overflow="",this.saveInSessionStorage(),window.removeEventListener("unload",this.saveInSessionStorage)},e.prototype.topMenuNav=function(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)},e.prototype.saveForm=function(){var e=this;this.isAuth?(this.form.type="Certified",this.validateForm(),this.formsService.save(this.form).subscribe(function(t){e.toastr.success("Has been saved",t.title,{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})},function(t){console.log(t),e.toastr.error("An error has occured please try again","Error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})})):(window.sessionStorage[this.form.id]=JSON.stringify(this.form),this.router.navigate(["/auth/login"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf("/")+1)}}))},e.prototype.saveInSessionStorage=function(){window.sessionStorage[this.form.id]=JSON.stringify(this.form)},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.validateForm=function(){this.form.description="blabla",this.form.text="blaw"},e}(),je=i.ob({encapsulation:2,styles:[],data:{}});function Ge(e){return i.Kb(0,[i.Gb(402653184,1,{subMenu:0}),i.Gb(402653184,2,{loginModal:0}),(e()(),i.qb(2,0,[[1,0],["subMenu",1]],null,6,"div",[["class","sub-menu"]],null,null,null,null,null)),(e()(),i.qb(3,0,null,null,5,"div",[["class","sub-menu__container sub-menu__container--fill-form"]],null,null,null,null,null)),(e()(),i.qb(4,0,null,null,1,"div",[["class","sub-menu__left-button sub-menu__left-button--fill-form"]],null,null,null,null,null)),(e()(),i.qb(5,0,null,null,0,"button",[["class","button-filled button-filled--sub-menu-fill-form icon icon-save-solid"]],[[8,"hidden",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.saveForm()&&i),i},null,null)),(e()(),i.qb(6,0,null,null,2,"ul",[["class","sub-menu__nav sub-menu__nav--fill-form"],["style","justify-content: center;"]],null,null,null,null,null)),(e()(),i.qb(7,0,null,null,1,"li",[["class","sub-menu__nav__button sub-menu__nav__button--without-hover"]],null,null,null,null,null)),(e()(),i.Ib(8,null,[" "," "])),(e()(),i.qb(9,0,null,null,2,"div",[["class","form-creator"],["id","form-creator"]],null,null,null,null,null)),(e()(),i.qb(10,0,null,null,1,"app-form",[],null,null,null,Ye,Se)),i.pb(11,4440064,null,0,Oe,[T,se.a,b,A,le.a,D.j,ae.a,m.a],null,null)],function(e,t){e(t,11,0)},function(e,t){var n=t.component;e(t,5,0,!n.currentStep),e(t,8,0,n.form.topLabelTitle)})}function We(e){return i.Kb(0,[(e()(),i.qb(0,0,null,null,1,"app-certified-forms",[],null,null,null,Ge,je)),i.pb(1,245760,null,0,Ke,[se.a,le.a,ie.a,b,m.l,m.a,D.j],null,null)],function(e,t){e(t,1,0)},null)}var Qe=i.mb("app-certified-forms",Ke,We,{},{},[]),Ze=n("TO6B"),Je=n("yIEL"),Xe=n("Z+Mw"),$e=n("PCNd"),et=function(){return function(){}}();n.d(t,"CertifiedFormsModuleNgFactory",function(){return tt});var tt=i.nb(o,[],function(e){return i.xb([i.yb(512,i.j,i.cb,[[8,[r.a,a.a,l.a,s.a,c.a,u.a,d.a,p.a,_.a,Qe]],[3,i.j],i.y]),i.yb(4608,f.m,f.l,[i.v,[2,f.t]]),i.yb(4608,G.w,G.w,[]),i.yb(4608,G.e,G.e,[]),i.yb(4608,Ze.a,Ze.a,[se.a]),i.yb(4608,Je.a,Je.a,[]),i.yb(4608,b,b,[]),i.yb(4608,A,A,[se.a,ce.a]),i.yb(4608,T,T,[A,se.a]),i.yb(1073742336,f.b,f.b,[]),i.yb(1073742336,G.u,G.u,[]),i.yb(1073742336,G.j,G.j,[]),i.yb(1073742336,G.s,G.s,[]),i.yb(1073742336,Xe.c,Xe.c,[]),i.yb(1073742336,$e.a,$e.a,[]),i.yb(1073742336,m.p,m.p,[[2,m.v],[2,m.l]]),i.yb(1073742336,et,et,[]),i.yb(1073742336,o,o,[]),i.yb(256,Xe.a,{modules:Xe.d},[]),i.yb(1024,m.j,function(){return[[{path:":id",component:Ke,children:[]}]]},[])])})},gusg:function(e,t,n){var i;e.exports=function e(t,n,o){function r(l,s){if(!n[l]){if(!t[l]){if(!s&&"function"==typeof i&&i)return i(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){return r(t[l][1][e]||e)},u,u.exports,e,t,n,o)}return n[l].exports}for(var a="function"==typeof i&&i,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(e,t,n){(function(n){"use strict";var i=e("promise-polyfill");t.exports=n.Promise||i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":38}],2:[function(e,t,n){"use strict";var i=e("./lib/promise"),o={};function r(e){var t,n,r,a,l=JSON.stringify(e);return!e.forceScriptReload&&(a=o[l])?a:(r=document.createElement("script"),t=e.dataAttributes||{},n=e.container||document.head,r.src=e.src,r.id=e.id,r.async=!0,e.crossorigin&&r.setAttribute("crossorigin",e.crossorigin),Object.keys(t).forEach(function(e){r.setAttribute("data-"+e,t[e])}),a=new i(function(t,i){r.addEventListener("load",function(){t(r)}),r.addEventListener("error",function(){i(new Error(e.src+" failed to load."))}),r.addEventListener("abort",function(){i(new Error(e.src+" has aborted."))}),n.appendChild(r)}),o[l]=a,a)}r.clearCache=function(){o={}},t.exports=r},{"./lib/promise":1}],3:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/Android/.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/CrOS/i.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";var i=e("./is-edge"),o=e("./is-samsung");t.exports=function(e){return!(-1===(e=e||navigator.userAgent).indexOf("Chrome")&&-1===e.indexOf("CriOS")||i(e)||o(e))}},{"./is-edge":6,"./is-samsung":18}],6:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Edge/")}},{}],7:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/Firefox/i.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(n){"use strict";var i=e("./is-ie11");t.exports=function(e){return-1!==(e=e||n.navigator.userAgent).indexOf("MSIE")||i(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":10}],9:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 10")}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Trident/7")}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 9")}},{}],12:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/FxiOS/i.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){"use strict";var i=e("./is-ios"),o=/webkit/i;t.exports=function(e){return e=e||navigator.userAgent,i(e)&&function(e){return e.match(o)}(e)&&-1===e.indexOf("CriOS")}},{"./is-ios":16}],14:[function(e,t,n){(function(n){"use strict";var i=e("./is-ios");t.exports=function(e){return!!i(e=e||n.navigator.userAgent)&&(!!function(e){return/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":16}],15:[function(e,t,n){(function(n){"use strict";var i=e("./is-ios-webview");t.exports=function(e,t){return t=void 0!==t?t:n.statusbar.visible,i(e)&&t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios-webview":14}],16:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/iPhone|iPod|iPad/i.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){(function(n){"use strict";var i=e("./is-ios-firefox"),o=e("./is-firefox");t.exports=function(e){return i(e=e||n.navigator.userAgent)||/iPhone|iPod|iPad|Mobile|Tablet/i.test(e)&&o(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-firefox":7,"./is-ios-firefox":12}],18:[function(e,t,n){(function(e){"use strict";t.exports=function(t){return/SamsungBrowser/i.test(t=t||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(n){"use strict";var i=e("./is-android"),o=e("./is-ios-firefox"),r=e("./is-ios-webview"),a=e("./is-chrome"),l=e("./is-samsung");function s(e){return(e=e||n.navigator.userAgent).indexOf("Opera Mini")>-1}t.exports=function(e){return!(r(e=e||n.navigator.userAgent)||o(e)||function(e){return!!i(e=e||n.navigator.userAgent)&&/Version\/[\d\.]+/.test(e)&&!s(e)}(e)||s(e)||function(e){var t;return!!(t=(e=e||n.navigator.userAgent).match(/CriOS\/(\d+)\./))&&parseInt(t[1],10)<48}(e)||function(e){return!a(e)&&!l(e)&&/samsung/i.test(e)}(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-android":3,"./is-chrome":5,"./is-ios-firefox":12,"./is-ios-webview":14,"./is-samsung":18}],20:[function(e,t,n){"use strict";function i(e){return e.className.trim().split(/\s+/)}function o(e){var t=Array.prototype.slice.call(arguments,1),n=i(e).filter(function(e){return-1===t.indexOf(e)}).concat(t).join(" ");e.className=n}function r(e){var t=Array.prototype.slice.call(arguments,1),n=i(e).filter(function(e){return-1===t.indexOf(e)}).join(" ");e.className=n}t.exports={add:o,remove:r,toggle:function(e,t,n){n?o(e,t):r(e,t)}}},{}],21:[function(e,t,n){"use strict";function i(){this._events={}}i.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},i.prototype.off=function(e,t){var n,i=this._events[e];i&&(n=i.indexOf(t),i.splice(n,1))},i.prototype._emit=function(e){var t,n=this._events[e];n&&(t=Array.prototype.slice.call(arguments,1),n.forEach(function(e){e.apply(null,t)}))},i.prototype.hasListener=function(e){var t=this._events[e];return!!t&&t.length>0},i.createChild=function(e){e.prototype=Object.create(i.prototype,{constructor:e})},t.exports=i},{}],22:[function(e,t,n){"use strict";var i=e("./lib/set-attributes"),o=e("./lib/default-attributes"),r=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe"),n=r({},o,e);return n.style&&"string"!=typeof n.style&&(r(t.style,n.style),delete n.style),i(t,n),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":23,"./lib/default-attributes":24,"./lib/set-attributes":25}],23:[function(e,t,n){"use strict";t.exports=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},{}],24:[function(e,t,n){"use strict";t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],25:[function(e,t,n){"use strict";t.exports=function(e,t){var n;for(var i in t)t.hasOwnProperty(i)&&(null==(n=t[i])?e.removeAttribute(i):e.setAttribute(i,n))}},{}],26:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){try{e.apply(null,t)}catch(n){console.log("Error in callback function"),console.log(n)}},1)}}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},{}],28:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;e.then(function(e){t(null,e)}).catch(function(e){t(e)})}},{}],29:[function(e,t,n){"use strict";var i=e("./lib/deferred"),o=e("./lib/once"),r=e("./lib/promise-or-callback");function a(e){return function(){var t,n=Array.prototype.slice.call(arguments);return"function"==typeof n[n.length-1]&&(t=n.pop(),t=o(i(t))),r(e.apply(this,n),t)}}a.wrapPrototype=function(e,t){var n,i;return n=(t=t||{}).ignoreMethods||[],i=!0===t.transformPrivateMethods,Object.getOwnPropertyNames(e.prototype).filter(function(t){var o,r="constructor"!==t&&"function"==typeof e.prototype[t],a=-1===n.indexOf(t);return o=!!i||"_"!==t.charAt(0),r&&o&&a}).forEach(function(t){e.prototype[t]=a(e.prototype[t])}),e},t.exports=a},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(e,t,n){"use strict";var i,o=e("./lib/card-types"),r=e("./lib/clone"),a=e("./lib/find-best-match"),l=e("./lib/is-valid-input-type"),s=e("./lib/add-matching-cards-to-results"),c={},u={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},d=[u.VISA,u.MASTERCARD,u.AMERICAN_EXPRESS,u.DINERS_CLUB,u.DISCOVER,u.JCB,u.UNIONPAY,u.MAESTRO,u.ELO,u.MIR,u.HIPER,u.HIPERCARD];function p(e){return c[e]||o[e]}function _(e,t){var n=i.indexOf(e);if(!t&&-1===n)throw new Error('"'+e+'" is not a supported card type.');return n}function m(e){var t,n=[];return l(e)?0===e.length?i.map(function(e){return r(p(e))}):(i.forEach(function(t){var i=p(t);s(e,i,n)}),(t=a(n))?[t]:n):[]}i=r(d),m.getTypeInfo=function(e){return r(p(e))},m.removeCard=function(e){var t=_(e);i.splice(t,1)},m.addCard=function(e){var t=_(e.type,!0);c[e.type]=e,-1===t&&i.push(e.type)},m.updateCard=function(e,t){var n,i=c[e]||o[e];if(!i)throw new Error('"'+e+'" is not a recognized type. Use `addCard` instead.');if(t.type&&i.type!==t.type)throw new Error("Cannot overwrite type parameter.");n=r(i,!0),Object.keys(n).forEach(function(e){t[e]&&(n[e]=t[e])}),c[n.type]=n},m.changeOrder=function(e,t){var n=_(e);i.splice(n,1),i.splice(t,0,e)},m.resetModifications=function(){i=r(d),c={}},m.types=u,t.exports=m},{"./lib/add-matching-cards-to-results":31,"./lib/card-types":32,"./lib/clone":33,"./lib/find-best-match":34,"./lib/is-valid-input-type":35}],31:[function(e,t,n){"use strict";var i=e("./clone"),o=e("./matches");t.exports=function(e,t,n){var r,a,l,s;for(r=0;r<t.patterns.length;r++)if(o(e,a=t.patterns[r])){s=i(t),l=Array.isArray(a)?String(a[0]).length:String(a).length,e.length>=l&&(s.matchStrength=l),n.push(s);break}}},{"./clone":33,"./matches":36}],32:[function(e,t,n){"use strict";t.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){return e?JSON.parse(JSON.stringify(e)):null}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){if(function(e){var t=e.filter(function(e){return e.matchStrength}).length;return t>0&&t===e.length}(e))return e.reduce(function(e,t){return e?e.matchStrength<t.matchStrength?t:e:t})}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e||e instanceof String}},{}],36:[function(e,t,n){"use strict";t.exports=function(e,t){return Array.isArray(t)?function(e,t,n){var i=String(t).length,o=e.substr(0,i),r=parseInt(o,10);return t=parseInt(String(t).substr(0,o.length),10),n=parseInt(String(n).substr(0,o.length),10),r>=t&&r<=n}(e,t[0],t[1]):function(e,t){return(t=String(t)).substring(0,e.length)===e.substring(0,t.length)}(e,t)}},{}],37:[function(e,t,n){(function(e){"use strict";var n,i,o=[],r={},a="/*framebus*/";function l(e){var t,i=u(this);return!d(e)&&!d(i)&&!1!==(t=p(e,Array.prototype.slice.call(arguments,1),i))&&(b(n.top||n.self,t,i),!0)}function s(e,t){var n=u(this);return!g(e,t,n)&&(r[n]=r[n]||{},r[n][e]=r[n][e]||[],r[n][e].push(t),!0)}function c(e,t){var n,i,o=u(this);if(g(e,t,o))return!1;if(!(i=r[o]&&r[o][e]))return!1;for(n=0;n<i.length;n++)if(i[n]===t)return i.splice(n,1),!0;return!1}function u(e){return e&&e._origin||"*"}function d(e){return"string"!=typeof e}function p(e,t,n){var i=!1,o={event:e,origin:n},r=t[t.length-1];"function"==typeof r&&(o.reply=y(r,n),t=t.slice(0,-1)),o.args=t;try{i=a+JSON.stringify(o)}catch(l){throw new Error("Could not stringify event: "+l.message)}return i}function _(e){var t,n,i,o;if(e.data.slice(0,a.length)!==a)return!1;try{t=JSON.parse(e.data.slice(a.length))}catch(r){return!1}return null!=t.reply&&(n=e.origin,i=e.source,o=t.reply,t.reply=function(e){var t;return!!i&&!1!==(t=p(o,[e],n))&&void i.postMessage(t,n)},t.args.push(t.reply)),t}function m(t){n||((n=t||e).addEventListener?n.addEventListener("message",h,!1):n.attachEvent?n.attachEvent("onmessage",h):null===n.onmessage?n.onmessage=h:n=null)}function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function h(e){var t;d(e.data)||(t=_(e))&&(E("*",t.event,t.args,e),E(e.origin,t.event,t.args,e),function(e,t,n){var i,r;for(i=o.length-1;i>=0;i--)!0===(r=o[i]).closed?o=o.slice(i,1):n!==r&&b(r.top,e,t)}(e.data,t.origin,e.source))}function E(e,t,n,i){var o;if(r[e]&&r[e][t])for(o=0;o<r[e][t].length;o++)r[e][t][o].apply(i,n)}function b(e,t,n){var i,o=0;try{for(e.postMessage(t,n),function(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}(e)&&b(e.opener.top,t,n);i=e.frames[o];)b(i,t,n),o++}catch(r){}}function y(e,t){var n=f();return i.target(t).subscribe(n,function o(r,a){e(r,a),i.target(t).unsubscribe(n,o)}),n}function g(e,t,n){return!!d(e)||"function"!=typeof t||!!d(n)}m(),t.exports=i={target:function(e){var t,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n._origin=e||"*",n},_packagePayload:p,_unpackPayload:_,_attach:m,_detach:function(){null!=n&&(n.removeEventListener?n.removeEventListener("message",h,!1):n.detachEvent?n.detachEvent("onmessage",h):n.onmessage===h&&(n.onmessage=null),n=null,o=[],r={})},_dispatch:E,_broadcast:b,_subscribeReplier:y,_subscriptionArgsInvalid:g,_onmessage:h,_uuid:f,_getSubscribers:function(){return r},_win:function(){return n},include:function(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(o.push(e),!0)},publish:l,pub:l,trigger:l,emit:l,subscribe:s,sub:s,on:s,unsubscribe:c,unsub:c,off:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){"use strict";var i=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function r(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(o){return void c(t.promise,o)}s(t.promise,i)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void p((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(r){c(e,r)}var i,o}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(i){if(n)return;n=!0,c(t,i)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return l(this,new d(e,t,n)),n},a.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},a.all=function(e){return new a(function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,function(t){a(e,t)},n)}i[e]=o,0==--r&&t(i)}catch(s){n(s)}}for(var l=0;l<i.length;l++)a(l,i[l])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)a.resolve(e[i]).then(t,n)})},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){i(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=a},{}],39:[function(e,t,n){(function(n){"use strict";var i=n.navigator&&n.navigator.userAgent,o=e("@braintree/browser-detection/is-android"),r=e("@braintree/browser-detection/is-chrome-os"),a=e("@braintree/browser-detection/is-chrome"),l=e("@braintree/browser-detection/is-ios"),s=e("@braintree/browser-detection/is-ie9"),c=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;t.exports={isIE9:s,isAndroidChrome:function(e){var t=e||i;return(o(t)||r(t))&&a(t)},isIos:l,isKitKatWebview:function(e){var t=e||i;return o(t)&&c.test(t)},isSamsungBrowser:function(e){return/SamsungBrowser/.test(e=e||i)||function(e){return!a(e)&&e.indexOf("Samsung")>-1}(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16}],40:[function(e,t,n){"use strict";var i=e("./lib/device");t.exports=function(){return!i.isSamsungBrowser()}},{"./lib/device":39}],41:[function(e,t,n){"use strict";var i=e("../lib/braintree-error"),o=e("./errors"),r=e("../lib/assign").assign,a=e("../lib/promise"),l=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client}u.prototype.getRewardsBalance=function(e){var t,n=e.nonce;return n?(delete(t=r({_meta:{source:"american-express"},paymentMethodNonce:n},e)).nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:t}).catch(function(e){return a.reject(new i({type:o.AMEX_NETWORK_ERROR.type,code:o.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:e}}))})):a.reject(new i({type:o.AMEX_NONCE_REQUIRED.type,code:o.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},u.prototype.getExpressCheckoutProfile=function(e){return e.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+e.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:e.nonce}}).catch(function(e){return a.reject(new i({type:o.AMEX_NETWORK_ERROR.type,code:o.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:e}}))}):a.reject(new i({type:o.AMEX_NONCE_REQUIRED.type,code:o.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},u.prototype.teardown=function(){return s(this,l(u.prototype)),a.resolve()},t.exports=c.wrapPrototype(u)},{"../lib/assign":94,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":42,"@braintree/wrap-promise":29}],42:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={AMEX_NONCE_REQUIRED:{type:i.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:i.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":97}],43:[function(e,t,n){"use strict";var i=e("./american-express"),o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("@braintree/wrap-promise");t.exports={create:l(function(e){var t="American Express";return o.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})}).then(function(t){return e.client=t,new i(e)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./american-express":41,"@braintree/wrap-promise":29}],44:[function(e,t,n){(function(n){"use strict";var i=e("../lib/braintree-error"),o=e("../lib/analytics"),r=e("./errors"),a=e("../lib/promise"),l=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client,Object.defineProperty(this,"merchantIdentifier",{value:this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,configurable:!1,writable:!1})}u.prototype.createPaymentRequest=function(e){var t=this._client.getConfiguration().gatewayConfiguration.applePayWeb,n={countryCode:t.countryCode,currencyCode:t.currencyCode,merchantCapabilities:t.merchantCapabilities||["supports3DS"],supportedNetworks:t.supportedNetworks.map(function(e){return"mastercard"===e?"masterCard":e})};return Object.assign({},n,e)},u.prototype.performValidation=function(e){var t,l=this;return e&&e.validationURL?(t={validationUrl:e.validationURL,domainName:e.domainName||n.location.hostname,merchantIdentifier:e.merchantIdentifier||this.merchantIdentifier},null!=e.displayName&&(t.displayName=e.displayName),this._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:t}}).then(function(e){return o.sendEvent(l._client,"applepay.performValidation.succeeded"),a.resolve(e)}).catch(function(e){return o.sendEvent(l._client,"applepay.performValidation.failed"),a.reject(new i("CLIENT_REQUEST_ERROR"===e.code?{type:r.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:r.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:r.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:e.details.originalError}}:{type:r.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:r.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:r.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:e}}))})):a.reject(new i(r.APPLE_PAY_VALIDATION_URL_REQUIRED))},u.prototype.tokenize=function(e){var t=this;return e.token?this._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},e.token,{paymentData:btoa(JSON.stringify(e.token.paymentData))})}}).then(function(e){return o.sendEvent(t._client,"applepay.tokenize.succeeded"),a.resolve(e.applePayCards[0])}).catch(function(e){return o.sendEvent(t._client,"applepay.tokenize.failed"),a.reject(new i({type:r.APPLE_PAY_TOKENIZATION.type,code:r.APPLE_PAY_TOKENIZATION.code,message:r.APPLE_PAY_TOKENIZATION.message,details:{originalError:e}}))}):a.reject(new i(r.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},u.prototype.teardown=function(){return s(this,l(u.prototype)),a.resolve()},t.exports=c.wrapPrototype(u)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":45,"@braintree/wrap-promise":29}],45:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={APPLE_PAY_NOT_ENABLED:{type:i.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:i.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:i.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:i.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:i.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:i.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":97}],46:[function(e,t,n){"use strict";var i=e("../lib/braintree-error"),o=e("./apple-pay"),r=e("../lib/analytics"),a=e("../lib/basic-component-verification"),l=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),c=e("./errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d(function(e){return a.verify({name:"Apple Pay",client:e.client,authorization:e.authorization}).then(function(){return l.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Apple Pay"})}).then(function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.applePayWeb?(r.sendEvent(e.client,"applepay.initialized"),new o(e)):u.reject(new i(c.APPLE_PAY_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./apple-pay":44,"./errors":45,"@braintree/wrap-promise":29}],47:[function(e,t,n){"use strict";var i=e("@braintree/browser-detection/is-ie"),o=e("@braintree/browser-detection/is-ie9");t.exports={isIe:i,isIe9:o}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie9":11}],48:[function(e,t,n){"use strict";var i=e("./constants").BRAINTREE_VERSION,o=e("./request/graphql"),r=e("./request"),a=e("../lib/is-verified-domain"),l=e("../lib/braintree-error"),s=e("../lib/convert-to-braintree-error"),c=e("./get-configuration").getConfiguration,u=e("../lib/add-metadata"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=e("../lib/once"),m=e("../lib/deferred"),f=e("../lib/assign").assign,h=e("../lib/analytics"),E=e("./errors"),b=e("../lib/constants").VERSION,y=e("../lib/constants").GRAPHQL_URLS,g=e("../lib/methods"),A=e("../lib/convert-methods-to-error"),T=e("../lib/assets"),I=e("../lib/constants").FRAUDNET_FNCLS,v=e("../lib/constants").FRAUDNET_SOURCE,N=e("../lib/constants").FRAUDNET_URL,R={};function O(e){var t,n;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new l(E.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in n&&!a(n[e]))throw new l({type:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(t)},this._request=r,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",n.graphQL&&(this._graphQL=new o({graphQL:n.graphQL}))}O.initialize=function(e){var t,n=R[e.authorization];return n?(h.sendEvent(n,"custom.client.load.cached"),n):(n=c(e).then(function(n){return e.debug&&(n.isDebug=!0),t=new O(n)}),R[e.authorization]=n,h.sendEvent(n,"custom.client.load.initialized"),n.then(function(e){return h.sendEvent(t,"custom.client.load.succeeded"),e}).catch(function(t){return delete R[e.authorization],d.reject(t)}))},O.clearCache=function(){R={}},O.prototype._findOrCreateFraudnetJSON=function(e){var t,n,i,o,r=document.querySelector('script[fncls="'+I+'"]');r||((r=document.body.appendChild(document.createElement("script"))).type="application/json",r.setAttribute("fncls",I)),t=this.getConfiguration(),n={rda_tenant:"bt_card",mid:t.gatewayConfiguration.merchantId},(i=t.authorizationFingerprint)&&i.split("&").forEach(function(e){var t=e.split("=");"customer_id"===t[0]&&t.length>1&&(n.cid=t[1])}),o={f:e.substr(0,32),fp:n,bu:!1,s:v},r.text=JSON.stringify(o)},O.prototype.request=function(e,t){var n=this,o=new d(function(t,o){var r,a,c,d,p,_=Boolean("payment_methods/credit_cards"===e.endpoint&&n.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(r="options.endpoint"):r="options.method"),r)throw new l({type:E.CLIENT_OPTION_REQUIRED.type,code:E.CLIENT_OPTION_REQUIRED.code,message:r+" is required when making a request."});if(d={method:e.method,graphQL:n._graphQL,timeout:e.timeout,metadata:n._configuration.analyticsMetadata},"clientApi"===(a="api"in e?e.api:"clientApi"))c=n._clientApiBaseUrl,d.data=u(n._configuration,e.data);else{if("graphQLApi"!==a)throw new l({type:E.CLIENT_OPTION_INVALID.type,code:E.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});c=y[n._configuration.gatewayConfiguration.environment],e.endpoint="",d.method="post",d.data=f({clientSdkMetadata:{source:n._configuration.analyticsMetadata.source,integration:n._configuration.analyticsMetadata.integration,sessionId:n._configuration.analyticsMetadata.sessionId}},e.data),d.headers={Authorization:"Bearer "+((p=n._configuration).authorizationFingerprint||p.authorization),"Braintree-Version":i}}d.url=c+e.endpoint,d.sendAnalyticsEvent=function(e){h.sendEvent(n,e)},n._request(d,function(e,i,r){var c,u;(u=function(e,t){var n;if(-1===e?n=new l(E.CLIENT_REQUEST_TIMEOUT):403===e?n=new l(E.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?n=new l(E.CLIENT_RATE_LIMITED):e>=500?n=new l(E.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(n=s(t,{type:E.CLIENT_REQUEST_ERROR.type,code:E.CLIENT_REQUEST_ERROR.code,message:E.CLIENT_REQUEST_ERROR.message})),n)return n.details=n.details||{},n.details.httpStatus=e,n}(r,e))?o(u):"graphQLApi"===a&&i.errors?o(s(i.errors,{type:E.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:E.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:E.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(c=f({_httpStatus:r},i),_&&c.creditCards&&c.creditCards.length>0&&(n._findOrCreateFraudnetJSON(c.creditCards[0].nonce),T.loadScript({src:N,forceScriptReload:!0})),t(c))})});return"function"==typeof t?(t=_(m(t)),void o.then(function(e){t(null,e,e._httpStatus)}).catch(function(e){t(e,null,e&&e.details&&e.details.httpStatus)})):o},O.prototype.toJSON=function(){return this.getConfiguration()},O.prototype.getVersion=function(){return b},O.prototype.teardown=p(function(){return delete R[this.getConfiguration().authorization],A(this,g(O.prototype)),d.resolve()}),t.exports=O},{"../lib/add-metadata":91,"../lib/analytics":92,"../lib/assets":93,"../lib/assign":94,"../lib/braintree-error":97,"../lib/constants":102,"../lib/convert-methods-to-error":103,"../lib/convert-to-braintree-error":104,"../lib/deferred":108,"../lib/is-verified-domain":127,"../lib/methods":129,"../lib/once":130,"../lib/promise":132,"./constants":49,"./errors":50,"./get-configuration":51,"./request":63,"./request/graphql":61,"@braintree/wrap-promise":29}],49:[function(e,t,n){"use strict";t.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],50:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:i.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:i.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:i.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:i.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:i.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:i.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:i.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:i.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:i.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:i.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":97}],51:[function(e,t,n){(function(n){"use strict";var i=e("../lib/braintree-error"),o=e("../lib/promise"),r=e("@braintree/wrap-promise"),a=e("./request"),l=e("../lib/vendor/uuid"),s=e("../lib/constants"),c=e("../lib/create-authorization-data"),u=e("./errors"),d=e("./request/graphql"),p=e("../lib/constants").GRAPHQL_URLS,_=e("../lib/is-date-string-before-or-on"),m=e("./constants").BRAINTREE_VERSION;t.exports={getConfiguration:r(function(e){return new o(function(t,o){var r,f,h,E,b=l(),y={merchantAppId:n.location.host,platform:s.PLATFORM,sdkVersion:s.VERSION,source:s.SOURCE,integration:s.INTEGRATION,integrationType:s.INTEGRATION,sessionId:b};try{r=c(e.authorization)}catch(g){return void o(new i(u.CLIENT_INVALID_AUTHORIZATION))}h=r.configUrl,(f=r.attrs)._meta=y,f.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,f.configVersion="3",E={url:h,method:"GET",data:f},f.authorizationFingerprint&&r.graphQL?(_(r.graphQL.date,m)&&(E.graphQL=new d({graphQL:{url:r.graphQL.url,features:["configuration"]}})),E.metadata=y):f.tokenizationKey&&(E.graphQL=new d({graphQL:{url:p[r.environment],features:["configuration"]}}),E.metadata=y),a(E,function(n,r,a){var l;n?o(new i({type:(l=403===a?u.CLIENT_AUTHORIZATION_INSUFFICIENT:u.CLIENT_GATEWAY_NETWORK).type,code:l.code,message:l.message,details:{originalError:n}})):t({authorization:e.authorization,authorizationType:f.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:f.authorizationFingerprint,analyticsMetadata:y,gatewayConfiguration:r})})})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":97,"../lib/constants":102,"../lib/create-authorization-data":106,"../lib/is-date-string-before-or-on":125,"../lib/promise":132,"../lib/vendor/uuid":136,"./constants":49,"./errors":50,"./request":63,"./request/graphql":61,"@braintree/wrap-promise":29}],52:[function(e,t,n){"use strict";var i=e("../lib/braintree-error"),o=e("./client"),r=e("../lib/promise"),a=e("@braintree/wrap-promise"),l=e("../lib/errors");t.exports={create:a(function(e){return e.authorization?o.initialize(e):r.reject(new i({type:l.INSTANTIATION_OPTION_REQUIRED.type,code:l.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}),VERSION:"3.54.1"}},{"../lib/braintree-error":97,"../lib/errors":111,"../lib/promise":132,"./client":48,"@braintree/wrap-promise":29}],53:[function(e,t,n){"use strict";var i=e("../../lib/querystring"),o=e("../browser-detection"),r=e("../../lib/assign").assign,a=e("./prep-body"),l=e("./parse-body"),s=e("./xhr"),c=s.isAvailable,u=e("./graphql/request"),d=e("./default-request");t.exports={request:function(e,t){!function e(t,n,p){var _,m,f,h,E,b,y,g=t.url,A=t.graphQL,T=t.timeout,I=s.getRequestObject(),v=p,N=Boolean(A&&A.isGraphQLRequest(g,t.data));t.headers=r({"Content-Type":"application/json"},t.headers),g=(f=N?new u(t):new d(t)).getUrl(),h=f.getBody(),E=f.getMethod(),b=f.getHeaders(),"GET"===E&&(g=i.queryify(g,h),h=null),c?I.onreadystatechange=function(){if(4===I.readyState){if(0===I.status&&N)return delete t.graphQL,void e(t,n,p);if(y=l(I.responseText),m=f.adaptResponseBody(y),(_=f.determineStatus(I.status,y))>=400||_<200){if(N&&("UNKNOWN"===(r=!(i=y).data&&i.errors&&i.errors[0]&&i.errors[0].extensions&&i.errors[0].extensions.errorClass)||"INTERNAL"===r))return delete t.graphQL,void e(t,n,p);if(n<1&&function(e){return(!e||408===e)&&o.isIe()}(_))return void e(t,++n,p);v(m||"error",null,_||500)}else v(null,m,_);var i,r}}:(t.headers&&(g=i.queryify(g,b)),I.onload=function(){v(null,l(I.responseText),I.status)},I.onerror=function(){v("error",null,500)},I.onprogress=function(){},I.ontimeout=function(){v("timeout",null,-1)});try{I.open(E,g,!0)}catch(R){if(!N)throw R;return delete t.graphQL,void e(t,n,p)}I.timeout=T,c&&Object.keys(b).forEach(function(e){I.setRequestHeader(e,b[e])});try{I.send(a(E,h))}catch(O){}}(e,0,t)}}},{"../../lib/assign":94,"../../lib/querystring":133,"../browser-detection":47,"./default-request":54,"./graphql/request":62,"./parse-body":66,"./prep-body":67,"./xhr":68}],54:[function(e,t,n){"use strict";function i(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}i.prototype.getUrl=function(){return this._url},i.prototype.getBody=function(){return this._data},i.prototype.getMethod=function(){return this._method},i.prototype.getHeaders=function(){return this._headers},i.prototype.adaptResponseBody=function(e){return e},i.prototype.determineStatus=function(e){return e},t.exports=i},{}],55:[function(e,t,n){(function(e){"use strict";t.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(e,t,n){"use strict";var i=e("./error"),o=e("../../../../lib/assign").assign,r={AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},a={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},l={VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},s={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},c={VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"};function u(e,t){return e.reduce(function(e,n){return t.hasOwnProperty(n)?e.concat(t[n]):e},[])}t.exports=function(e,t){return e.data&&!e.errors?function(t,n){var i,d=e.data.clientConfiguration;return i={environment:d.environment.toLowerCase(),clientApiUrl:d.clientApiUrl,assetsUrl:d.assetsUrl,analytics:{url:d.analyticsUrl},merchantId:d.merchantId,venmo:"off"},d.supportedFeatures&&(i.graphQL={url:n._graphQL._config.url,features:d.supportedFeatures.map(function(e){return e.toLowerCase()})}),d.braintreeApi&&(i.braintreeApi=d.braintreeApi),d.applePayWeb&&(i.applePayWeb=d.applePayWeb,i.applePayWeb.supportedNetworks=u(d.applePayWeb.supportedCardBrands,a),delete i.applePayWeb.supportedCardBrands),d.ideal&&(i.ideal=d.ideal),d.kount&&(i.kount={kountMerchantId:d.kount.merchantId}),d.creditCard?(i.challenges=d.creditCard.challenges.map(function(e){return e.toLowerCase()}),i.creditCards={supportedCardTypes:u(d.creditCard.supportedCardBrands,r)},i.threeDSecureEnabled=d.creditCard.threeDSecureEnabled,i.threeDSecure=d.creditCard.threeDSecure):(i.challenges=[],i.creditCards={supportedCardTypes:[]},i.threeDSecureEnabled=!1),d.googlePay&&(i.androidPay={displayName:d.googlePay.displayName,enabled:!0,environment:d.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:d.googlePay.googleAuthorization,supportedNetworks:u(d.googlePay.supportedCardBrands,s)}),d.venmo&&(i.payWithVenmo={merchantId:d.venmo.merchantId,accessToken:d.venmo.accessToken,environment:d.venmo.environment.toLowerCase()}),d.paypal?(i.paypalEnabled=!0,i.paypal=o({},d.paypal),i.paypal.currencyIsoCode=i.paypal.currencyCode,i.paypal.environment=i.paypal.environment.toLowerCase(),delete i.paypal.currencyCode):i.paypalEnabled=!1,d.unionPay&&(i.unionPay={enabled:!0,merchantAccountId:d.unionPay.merchantAccountId}),d.visaCheckout&&(i.visaCheckout={apikey:d.visaCheckout.apiKey,externalClientId:d.visaCheckout.externalClientId,supportedCardTypes:u(d.visaCheckout.supportedCardBrands,l)}),d.masterpass&&(i.masterpass={merchantCheckoutId:d.masterpass.merchantCheckoutId,supportedNetworks:u(d.masterpass.supportedCardBrands,c)}),d.usBankAccount&&(i.usBankAccount={routeId:d.usBankAccount.routeId,plaid:{publicKey:d.usBankAccount.plaidPublicKey}}),i}(0,t):i(e)}},{"../../../../lib/assign":94,"./error":58}],57:[function(e,t,n){"use strict";var i=e("./error"),o={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},r={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},a={PSDTWO:"psd2"};t.exports=function(e){var t,n,l,s,c,u;return e.data&&!e.errors?(c=(s=(l=e.data.tokenizeCreditCard).creditCard).last4?s.last4.substr(2,4):"",(u=s.binData)&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(e){u[e]=u[e]?r[u[e]]:"Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(e){u[e]||(u[e]="Unknown")})),t={creditCards:[{binData:u,consumed:!1,description:c?"ending in "+c:"",nonce:l.token,details:{expirationMonth:s.expirationMonth,expirationYear:s.expirationYear,bin:s.bin||"",cardType:o[s.brandCode]||"Unknown",lastFour:s.last4||"",lastTwo:c},type:"CreditCard",threeDSecureInfo:null}]},l.authenticationInsight&&(t.creditCards[0].authenticationInsight={regulationEnvironment:a[n=l.authenticationInsight.customerAuthenticationRegulationEnvironment]||n.toLowerCase()}),t):i(e)}},{"./error":58}],58:[function(e,t,n){"use strict";t.exports=function(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===t?function(e){var t,n,i=function(t){var n=[];return e.errors.forEach(function(e){e.extensions&&e.extensions.inputPath&&function e(t,n,i){var o,r=n.extensions.legacyCode,a=t[0];1!==t.length?(i.forEach(function(e){e.field===a&&(o=e)}),o||i.push(o={field:a,fieldErrors:[]}),e(t.slice(1),n,o.fieldErrors)):i.push({code:r,field:a,message:n.message})}(e.extensions.inputPath.slice(1),e,n)}),n}();return 0===i.length?{error:{message:e.errors[0].message}}:{error:{message:(t=i,n=t[0].field,{creditCard:"Credit card is invalid"}[n])},fieldErrors:i}}(e):t?function(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],59:[function(e,t,n){"use strict";t.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],60:[function(e,t,n){"use strict";var i=e("../../../../lib/assign").assign;function o(e,t){var n=e.creditCard,o=n&&n.billingAddress,r=n&&n.expirationDate,a=n&&(n.expirationMonth||r&&r.split("/")[0].trim()),l=n&&(n.expirationYear||r&&r.split("/")[1].trim()),s={input:{creditCard:{number:n&&n.number,expirationMonth:a,expirationYear:l,cvv:n&&n.cvv,cardholderName:n&&n.cardholderName},options:{}}};return t.hasAuthenticationInsight&&(s.authenticationInsightInput={merchantAccountId:e.merchantAccountId}),o&&(s.input.creditCard.billingAddress=o),s.input=function(e,t){var n;return e.creditCard&&e.creditCard.options&&"boolean"==typeof e.creditCard.options.validate?n=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?n=!0:e.tokenizationKey&&(n=!1),"boolean"==typeof n&&(t.options=i({validate:n},t.options)),t}(e,s.input),s}t.exports=function(e){var t,n,i,r={hasAuthenticationInsight:Boolean(e.authenticationInsight&&e.merchantAccountId)};return{query:(t=r,n=t.hasAuthenticationInsight,i="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",n&&(i+=", $authenticationInsightInput: AuthenticationInsightInput!"),i+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",n&&(i+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),i+="  } }"),variables:o(e,r),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":94}],61:[function(e,t,n){"use strict";var i=e("../../browser-detection"),o={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},r=["creditCard.options.unionPayEnrollment"];function a(e){this._config=e.graphQL}a.prototype.getGraphQLEndpoint=function(){return this._config.url},a.prototype.isGraphQLRequest=function(e,t){var n,a=this.getClientApiPath(e);return!(!this._isGraphQLEnabled()||!a||i.isIe9())&&(n=this._config.features.some(function(e){return o[e]===a}),!function(e){return r.some(function(t){return void 0!==t.split(".").reduce(function(e,t){return e&&e[t]},e)})}(t)&&n)},a.prototype.getClientApiPath=function(e){var t,n=e.split("/client_api/v1/");return n.length>1&&(t=n[1].split("?")[0]),t},a.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},t.exports=a},{"../../browser-detection":47}],62:[function(e,t,n){"use strict";var i=e("../../constants").BRAINTREE_VERSION,o=e("../../../lib/assign").assign,r=e("./generators/credit-card-tokenization"),a=e("./adapters/credit-card-tokenization"),l=e("./generators/configuration"),s=e("./adapters/configuration"),c={"payment_methods/credit_cards":r,configuration:l},u={"payment_methods/credit_cards":a,configuration:s};function d(e){var t=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._clientSdkMetadata={source:e.metadata.source,integration:e.metadata.integration,sessionId:e.metadata.sessionId},this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=c[t],this._adapter=u[t],this._sendAnalyticsEvent("graphql.init")}d.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},d.prototype.getBody=function(){var e=function e(t){var n={};return Object.keys(t).forEach(function(i){var o,r=-1===(o=i).indexOf("_")?o:o.toLowerCase().replace(/(\_\w)/g,function(e){return e[1].toUpperCase()});n[r]="object"==typeof t[i]?e(t[i]):"number"==typeof t[i]?String(t[i]):t[i]}),n}(this._data),t=this._generator(e),n=o({clientSdkMetadata:this._clientSdkMetadata},t);return JSON.stringify(n)},d.prototype.getMethod=function(){return"POST"},d.prototype.getHeaders=function(){var e;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),o({},this._headers,{Authorization:"Bearer "+e,"Braintree-Version":i})},d.prototype.adaptResponseBody=function(e){return this._adapter(e,this)},d.prototype.determineStatus=function(e,t){var n,i;return 200===e?(i=t.errors&&t.errors[0]&&t.errors[0].extensions&&t.errors[0].extensions.errorClass,n=t.data&&!t.errors?200:"VALIDATION"===i?422:"AUTHORIZATION"===i?403:"AUTHENTICATION"===i?401:function(e,t){return!e&&t.errors[0].message}(i,t)?403:500):n=e||500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+n),n},t.exports=d},{"../../../lib/assign":94,"../../constants":49,"./adapters/configuration":56,"./adapters/credit-card-tokenization":57,"./generators/configuration":59,"./generators/credit-card-tokenization":60}],63:[function(e,t,n){"use strict";var i,o=e("../../lib/once"),r=e("./jsonp-driver"),a=e("./ajax-driver"),l=e("./get-user-agent"),s=e("./is-http");t.exports=function(e,t){t=o(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},null==i&&(i=!(s()&&/MSIE\s(8|9)/.test(l()))),i?a.request(e,t):r.request(e,t)}},{"../../lib/once":130,"./ajax-driver":53,"./get-user-agent":55,"./is-http":64,"./jsonp-driver":65}],64:[function(e,t,n){(function(e){"use strict";t.exports=function(){return"http:"===e.location.protocol}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(e,t,n){(function(n){"use strict";var i,o=e("../../lib/vendor/uuid"),r=e("../../lib/querystring"),a={};function l(e){try{delete n[e]}catch(t){n[e]=null}}t.exports={request:function(e,t){var s,c="callback_json_"+o().replace(/-/g,""),u=e.url,d=e.method,p=e.timeout;u=r.queryify(u,e.data),function(e,t,i){n[i]=function(n){var o=n.status||500,r=null,s=null;delete n.status,o>=400||o<200?r=n:s=n,l(i),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(e),clearTimeout(a[i]),t(r,s,o)}}(s=function(e,t){var i=document.createElement("script"),o=!1;return i.src=e,i.async=!0,i.onerror=function(){n[t]({message:"error",status:500})},i.onload=i.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,i.onload=i.onreadystatechange=null)},i}(u=r.queryify(u,{_method:d,callback:c}),c),t,c),function(e,t){a[t]=setTimeout(function(){a[t]=null,n[t]({error:"timeout",status:-1}),n[t]=function(){l(t)}},e)}(p,c),i||(i=document.getElementsByTagName("head")[0]),i.appendChild(s)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":133,"../../lib/vendor/uuid":136}],66:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(t){}return e}},{}],67:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],68:[function(e,t,n){(function(e){"use strict";var n=e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest;t.exports={isAvailable:n,getRequestObject:function(){return n?new e.XMLHttpRequest:new e.XDomainRequest}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:i.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:i.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:i.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":97}],70:[function(e,t,n){"use strict";var i,o=e("../lib/constants").FRAUDNET_FNCLS,r=e("../lib/constants").FRAUDNET_SOURCE,a=e("../lib/constants").FRAUDNET_URL,l=e("../lib/assets").loadScript,s=e("../lib/promise");function c(){}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}c.prototype.initialize=function(){var e=this;return this.sessionId=i=function(){var e,t="";for(e=0;e<32;e++)t+=Math.floor(16*Math.random()).toString(16);return t}(),this._beaconId="https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+this.sessionId+"&t="+(new Date).getTime()/1e3+"&a=14",this._parameterBlock=function(e,t){var n=document.body.appendChild(document.createElement("script"));return n.type="application/json",n.setAttribute("fncls",o),n.text=JSON.stringify({f:e,s:r,b:t}),n}(this.sessionId,this._beaconId),l({src:a}).then(function(t){return e._thirdPartyBlock=t,e}).catch(function(){return null})},c.prototype.teardown=function(){u(document.querySelector('iframe[title="ppfniframe"]')),u(document.querySelector('iframe[title="pbf"]')),u(this._parameterBlock),u(this._thirdPartyBlock)},t.exports={setup:function(){var e=new c;return i?(e.sessionId=i,s.resolve(e)):e.initialize()},clearSessionIdCache:function(){i=null}}},{"../lib/assets":93,"../lib/constants":102,"../lib/promise":132}],71:[function(e,t,n){"use strict";var i=e("./kount"),o=e("./fraudnet"),r=e("../lib/braintree-error"),a=e("../lib/basic-component-verification"),l=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),c=e("../lib/methods"),u=e("../lib/convert-methods-to-error"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=e("./errors");t.exports={create:p(function(e){var t,n="Data Collector",m={},f=[];return a.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return l.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:n})}).then(function(n){var o,a=n.getConfiguration();if(!e.kount&&!e.paypal)return d.reject(new r(_.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS));if(!0===e.kount){if(!a.gatewayConfiguration.kount)return d.reject(new r(_.DATA_COLLECTOR_KOUNT_NOT_ENABLED));try{o=i.setup({environment:a.gatewayConfiguration.environment,merchantId:a.gatewayConfiguration.kount.kountMerchantId})}catch(l){return d.reject(new r({type:_.DATA_COLLECTOR_KOUNT_ERROR.type,code:_.DATA_COLLECTOR_KOUNT_ERROR.code,message:l.message}))}t=o.deviceData,f.push(o)}else t={};return d.resolve()}).then(function(){return!0!==e.paypal?d.resolve():o.setup().then(function(e){e&&(t.correlation_id=e.sessionId,f.push(e))})}).then(function(){return 0===f.length?d.reject(new r(_.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(m.deviceData=JSON.stringify(t),m.rawDeviceData=t,m.teardown=function(e,t){return p(function(){return new d(function(n){t.forEach(function(e){e&&e.teardown()}),u(e,c(e)),n()})})}(m,f),m)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/methods":129,"../lib/promise":132,"./errors":69,"./fraudnet":70,"./kount":72,"@braintree/wrap-promise":29}],72:[function(e,t,n){"use strict";var i=e("./vendor/sjcl"),o=e("../lib/camel-case-to-snake-case"),r="https://assets.qa.braintreepayments.com/data",a={development:r,qa:r,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},l={};function s(e){var t=s.getCachedDeviceData(e.merchantId);if(t)return this.deviceData=t,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(e),i.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),s.setCachedDeviceData(e.merchantId,this.deviceData),this._iframe=this._setupIFrame()}s.getCachedDeviceData=function(e){return l[e]},s.setCachedDeviceData=function(e,t){l[e]=t},s.prototype.teardown=function(){this._isCached||(i.random.stopCollectors(),this._removeIframe())},s.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},s.prototype._getDeviceData=function(){return o({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},s.prototype._generateDeviceSessionId=function(){var e;return e=i.random.randomWords(4,0),i.codec.hex.fromBits(e)},s.prototype._setupIFrame=function(){var e,t,n=this;return e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(t=document.createElement("iframe")).width=1,t.id="braintreeDataFrame-"+this._deviceSessionId,t.height=1,t.frameBorder=0,t.scrolling="no",t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),setTimeout(function(){t.src=n._currentEnvironment.url+"/logo.htm"+e,t.innerHTML='<img src="'+n._currentEnvironment.url+"/logo.gif"+e+'" />'},10),t},s.prototype._initializeEnvironment=function(e){var t=a[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:e.merchantId}},t.exports={setup:function(e){return new s(null!=e?e:{})},Kount:s,environmentUrls:a}},{"../lib/camel-case-to-snake-case":101,"./vendor/sjcl":73}],73:[function(e,t,n){"use strict";var i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function o(e,t,n){if(4!==t.length)throw new i.exception.invalid("invalid aes block size");var o=e.b[n],r=t[0]^o[0],a=t[n?3:1]^o[1],l=t[2]^o[2];t=t[n?1:3]^o[3];var s,c,u,d,p=o.length/4-2,_=4,m=[0,0,0,0];e=(s=e.l[n])[0];var f=s[1],h=s[2],E=s[3],b=s[4];for(d=0;d<p;d++)s=e[r>>>24]^f[a>>16&255]^h[l>>8&255]^E[255&t]^o[_],c=e[a>>>24]^f[l>>16&255]^h[t>>8&255]^E[255&r]^o[_+1],u=e[l>>>24]^f[t>>16&255]^h[r>>8&255]^E[255&a]^o[_+2],t=e[t>>>24]^f[r>>16&255]^h[a>>8&255]^E[255&l]^o[_+3],_+=4,r=s,a=c,l=u;for(d=0;4>d;d++)m[n?3&-d:d]=b[r>>>24]<<24^b[a>>16&255]<<16^b[l>>8&255]<<8^b[255&t]^o[_++],s=r,r=a,a=l,l=t,t=s;return m}function r(e,t){var n,i,o,r=e.u,a=e.b,l=r[0],s=r[1],c=r[2],u=r[3],d=r[4],p=r[5],_=r[6],m=r[7];for(n=0;64>n;n++)i=(i=16>n?t[n]:t[15&n]=((i=t[n+1&15])>>>7^i>>>18^i>>>3^i<<25^i<<14)+((o=t[n+14&15])>>>17^o>>>19^o>>>10^o<<15^o<<13)+t[15&n]+t[n+9&15]|0)+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(_^d&(p^_))+a[n],m=_,_=p,p=d,d=u+i|0,u=c,c=s,l=i+((s=l)&c^u&(s^c))+(s>>>2^s>>>13^s>>>22^s<<30^s<<19^s<<10)|0;r[0]=r[0]+l|0,r[1]=r[1]+s|0,r[2]=r[2]+c|0,r[3]=r[3]+u|0,r[4]=r[4]+d|0,r[5]=r[5]+p|0,r[6]=r[6]+_|0,r[7]=r[7]+m|0}function a(e,t){var n,o=i.random.B[e],r=[];for(n in o)o.hasOwnProperty(n)&&r.push(o[n]);for(n=0;n<r.length;n++)r[n](t)}function l(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function s(e){e.b=c(e).concat(c(e)),e.C=new i.cipher.aes(e.b)}function c(e){for(var t=0;4>t&&(e.g[t]=e.g[t]+1|0,!e.g[t]);t++);return e.C.encrypt(e.g)}function u(e,t){return function(){t.apply(e,arguments)}}i.cipher.aes=function(e){this.l[0][0][0]||this.G();var t,n,o,r,a=this.l[0][4],l=this.l[1],s=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new i.exception.invalid("invalid aes key size");for(this.b=[o=e.slice(0),r=[]],e=t;e<4*t+28;e++)n=o[e-1],(0==e%t||8===t&&4==e%t)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0==e%t&&(n=n<<8^n>>>24^s<<24,s=s<<1^283*(s>>7))),o[e]=o[e-t]^n;for(t=0;e;t++,e--)n=o[3&t?e:e-4],r[t]=4>=e||4>t?n:l[0][a[n>>>24]]^l[1][a[n>>16&255]]^l[2][a[n>>8&255]]^l[3][a[255&n]]},i.cipher.aes.prototype={encrypt:function(e){return o(this,e,0)},decrypt:function(e){return o(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,t,n,i,o,r,a,l=this.l[0],s=this.l[1],c=l[4],u=s[4],d=[],p=[];for(e=0;256>e;e++)p[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!c[t];t^=i||1,n=p[n]||1)for(c[t]=r=(r=n^n<<1^n<<2^n<<3^n<<4)>>8^255&r^99,u[r]=t,a=16843009*(o=d[e=d[i=d[t]]])^65537*e^257*i^16843008*t,o=257*d[r]^16843008*r,e=0;4>e;e++)l[e][t]=o=o<<24^o>>>8,s[e][r]=a=a<<24^a>>>8;for(e=0;5>e;e++)l[e]=l[e].slice(0),s[e]=s[e].slice(0)}},i.bitArray={bitSlice:function(e,t,n){return e=i.bitArray.M(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:i.bitArray.clamp(e,n-t)},extract:function(e,t,n){var i=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-i^e[t/32+1|0]>>>i:e[t/32|0]>>>i)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],o=i.bitArray.getPartial(n);return 32===o?e.concat(t):i.bitArray.M(t,o,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+i.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=i.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(i.bitArray.bitLength(e)!==i.bitArray.bitLength(t))return!1;var n,o=0;for(n=0;n<e.length;n++)o|=e[n]^t[n];return 0===o},M:function(e,t,n,o){var r;for(r=0,void 0===o&&(o=[]);32<=t;t-=32)o.push(n),n=0;if(0===t)return o.concat(e);for(r=0;r<e.length;r++)o.push(n|e[r]>>>t),n=e[r]<<32-t;return e=i.bitArray.getPartial(r=e.length?e[e.length-1]:0),o.push(i.bitArray.partial(t+e&31,32<t+e?n:o.pop(),1)),o},Y:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)e[t]=(n=e[t])>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},i.codec.utf8String={fromBits:function(e){var t,n,o="",r=i.bitArray.bitLength(e);for(t=0;t<r/8;t++)0==(3&t)&&(n=e[t/4]),o+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(o))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],o=0;for(t=0;t<e.length;t++)o=o<<8|e.charCodeAt(t),3==(3&t)&&(n.push(o),o=0);return 3&t&&n.push(i.bitArray.partial(8*(3&t),o)),n}},i.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,o=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)o.push(0^parseInt(e.substr(t,8),16));return i.bitArray.clamp(o,4*n)}},i.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},i.hash.sha256.hash=function(e){return(new i.hash.sha256).update(e).finalize()},i.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=i.codec.utf8String.toBits(e));var t,n=this.o=i.bitArray.concat(this.o,e);if(9007199254740991<(e=this.h=(t=this.h)+i.bitArray.bitLength(e)))throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var o=new Uint32Array(n),a=0;for(t=512+t-(512+t&511);t<=e;t+=512)r(this,o.subarray(16*a,16*(a+1))),a+=1;n.splice(0,16*a)}else for(t=512+t-(512+t&511);t<=e;t+=512)r(this,n.splice(0,16));return this},finalize:function(){var e,t,n=this.u;for(e=(t=i.bitArray.concat(t=this.o,[i.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)r(this,t.splice(0,16));return this.reset(),n},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,i=0,o=2;64>i;o++){for(n=!0,t=2;t*t<=o;t++)if(0==o%t){n=!1;break}n&&(8>i&&(this.K[i]=e(Math.pow(o,.5))),this.b[i]=e(Math.pow(o,1/3)),i++)}}},i.prng=function(e){this.c=[new i.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},i.prng.prototype={randomWords:function(e,t){var n,o,r=[];if((n=this.isReady(t))===this.m)throw new i.exception.notReady("generator isn't seeded");if(n&this.A){n=!(n&this.w);var a,l=0;for(this.L=(o=[])[0]=(new Date).valueOf()+this.P,a=0;16>a;a++)o.push(4294967296*Math.random()|0);for(a=0;a<this.c.length&&(o=o.concat(this.c[a].finalize()),l+=this.i[a],this.i[a]=0,n||!(this.H&1<<a));a++);for(this.H>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.i.push(0)),this.f-=l,l>this.j&&(this.j=l),this.H++,this.b=i.hash.sha256.hash(this.b.concat(o)),this.C=new i.cipher.aes(this.b),n=0;4>n&&(this.g[n]=this.g[n]+1|0,!this.g[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.O&&s(this),o=c(this),r.push(o[0],o[1],o[2],o[3]);return s(this),r.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,t,n){n=n||"user";var o,r,l=(new Date).valueOf(),s=this.v[n],c=this.isReady(),u=0;switch(void 0===(o=this.J[n])&&(o=this.J[n]=this.T++),void 0===s&&(s=this.v[n]=0),this.v[n]=(this.v[n]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[s].update([o,this.F++,1,t,l,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(r=[],n=0;n<e.length;n++)r.push(e[n]);e=r}else for("[object Array]"!==n&&(u=1),n=0;n<e.length&&!u;n++)"number"!=typeof e[n]&&(u=1);if(!u){if(void 0===t)for(n=t=0;n<e.length;n++)for(r=e[n];0<r;)t++,r>>>=1;this.c[s].update([o,this.F++,2,t,l,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[s].update([o,this.F++,3,t,l,e.length]),this.c[s].update(e);break;default:u=1}if(u)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[s]+=t,this.f+=t,c===this.m&&(this.isReady()!==this.m&&a("seeded",Math.max(this.j,this.f)),a("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return this.j>=(e=this.I[e||this.D])?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:u(this,this.V),mouseCollector:u(this,this.W),keyboardCollector:u(this,this.U),accelerometerCollector:u(this,this.R),touchCollector:u(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,t){this.B[e][this.S++]=t},removeEventListener:function(e,t){var n,i,o=this.B[e],r=[];for(i in o)o.hasOwnProperty(i)&&o[i]===t&&r.push(i);for(n=0;n<r.length;n++)delete o[i=r[n]]},U:function(){l(this,1)},W:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(i){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),l(this,0)},X:function(e){this.addEntropy([(e=e.touches[0]||e.changedTouches[0]).pageX||e.clientX,e.pageY||e.clientY],1,"touch"),l(this,0)},V:function(){l(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),l(this,0)}},i.random=new i.prng(6);e:try{var d,p,_,m;if(m=void 0!==t&&t.exports){var f;try{f=e("crypto")}catch(h){f=null}m=p=f}if(m&&p.randomBytes)d=p.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),i.random.addEntropy(d,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(_=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(_);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(_)}i.random.addEntropy(_,1024,"crypto['getRandomValues']")}}catch(h){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(h))}void 0!==t&&t.exports&&(t.exports=i)},{crypto:void 0}],74:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:i.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:i.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:i.types.MERCHANT}}},{"../lib/braintree-error":97}],75:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/assign").assign,r=e("../lib/convert-methods-to-error"),a=e("../lib/find"),l=e("../lib/generate-google-pay-configuration"),s=e("../lib/braintree-error"),c=e("./errors"),u=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function m(e){this._client=e.client,this._googlePayVersion=e.googlePayVersion||1,this._googleMerchantId=e.googleMerchantId}m.prototype._initialize=function(){return this._isUnsupportedGooglePayAPIVersion()?d.reject(new s({code:c.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:c.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})):d.resolve(this)},m.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in _)},m.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=l(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},m.prototype._createV1PaymentDataRequest=function(e){var t=this._getDefaultConfig(),n=e.cardRequirements&&e.cardRequirements.allowedCardNetworks||t.cardRequirements.allowedCardNetworks;return(e=o({},t,e)).cardRequirements.allowedCardNetworks=n,e},m.prototype._createV2PaymentDataRequest=function(e){var t=this._getDefaultConfig();return e.allowedPaymentMethods&&e.allowedPaymentMethods.forEach(function(e){var n=a(t.allowedPaymentMethods,"type",e.type);n&&function(e,t){Object.keys(t).forEach(function(n){e[n]="object"==typeof t[n]?o({},t[n],e[n]):e[n]||t[n]})}(e,n)}),o({},t,e)},m.prototype.createPaymentDataRequest=function(e){var t=o({},e),n=this._googlePayVersion,r=_[n];return i.sendEvent(this._client,"google-payment.v"+n+".createPaymentDataRequest"),this[r](t)},m.prototype.parseResponse=function(e){var t=this._client;return d.resolve().then(function(){var n,o=JSON.parse(2===e.apiVersion?e.paymentMethodData.tokenizationData.token:e.paymentMethodToken.token),r=o.error;return r?d.reject(r):(i.sendEvent(t,"google-payment.parseResponse.succeeded"),o.paypalAccounts?(n=o.paypalAccounts[0],i.sendEvent(t,"google-payment.parseResponse.succeeded.paypal"),d.resolve({nonce:n.nonce,type:n.type,description:n.description})):(n=o.androidPayCards[0],i.sendEvent(t,"google-payment.parseResponse.succeeded.google-payment"),d.resolve({nonce:n.nonce,type:n.type,description:n.description,details:{cardType:n.details.cardType,lastFour:n.details.lastFour,lastTwo:n.details.lastTwo},binData:n.binData})))}).catch(function(e){return i.sendEvent(t,"google-payment.parseResponse.failed"),d.reject(new s({code:c.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:c.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:c.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:e}}))})},m.prototype.teardown=function(){return r(this,u(m.prototype)),d.resolve()},t.exports=p.wrapPrototype(m)},{"../lib/analytics":92,"../lib/assign":94,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/find":112,"../lib/generate-google-pay-configuration":124,"../lib/methods":129,"../lib/promise":132,"./errors":74,"@braintree/wrap-promise":29}],76:[function(e,t,n){"use strict";var i=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),r=e("./errors"),a=e("./google-payment"),l=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),c=e("../lib/promise"),u=e("@braintree/wrap-promise");t.exports={create:u(function(e){return i.verify({name:"Google Pay",client:e.client,authorization:e.authorization}).then(function(){return l.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Google Pay"})}).then(function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.androidPay?new a(e)._initialize():c.reject(new o(r.GOOGLE_PAYMENT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":74,"./google-payment":75,"@braintree/wrap-promise":29}],77:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error"),o=e("../shared/errors"),r=e("../shared/constants").allowedAttributes;t.exports=function(e,t){var n;return r.hasOwnProperty(e)?null==t||function(e,t){return"string"===r[e]?"string"==typeof t||"number"==typeof t:"boolean"===r[e]&&("true"===String(t)||"false"===String(t))}(e,t)||(n=new i({type:o.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:o.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+t+'" is not allowed for "'+e+'" attribute.'})):n=new i({type:o.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:o.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+e+'" attribute is not supported in Hosted Fields.'}),n}},{"../../lib/braintree-error":97,"../shared/constants":85,"../shared/errors":86}],78:[function(e,t,n){"use strict";var i=e("../shared/constants"),o=e("../../lib/use-min");t.exports=function(e,t,n){return e+"/web/"+i.VERSION+"/html/hosted-fields-frame"+o(n)+".html#"+t}},{"../../lib/use-min":134,"../shared/constants":85}],79:[function(e,t,n){"use strict";var i=e("../shared/constants").navigationDirections,o=e("../shared/browser-detection"),r=e("../shared/focus-intercept"),a=e("../shared/find-parent-tags"),l=["INPUT","SELECT","TEXTAREA"],s=["hidden","button","reset","submit","checkbox","radio","file"];function c(e){return o.hasSoftwareKeyboard()?l.indexOf(e.tagName)>-1&&s.indexOf(e.type)<0:"hidden"!==e.type}function u(e){var t,n;for(t=0;t<e.length;t++)if(c(n=e[t]))return n;return null}t.exports={removeExtraFocusElements:function(e,t){var n=Array.prototype.slice.call(e.elements);[u(n),u(n.reverse())].forEach(function(e){e&&r.matchFocusElement(e.getAttribute("id"))&&t(e.getAttribute("id"))})},createFocusChangeHandler:function(e){return function(t,n){var o,l,s,u,d=document.getElementById("bt-"+t+"-"+n);if(d)if(s=a(d,"form")[0],document.forms.length<1||!s)e.onRemoveFocusIntercepts();else{o=(s=[].slice.call(s.elements)).indexOf(d),u=function(e,t){switch(e){case i.BACK:return{checkIndexBounds:function(e){return e<0},indexChange:-1};case i.FORWARD:return{checkIndexBounds:function(e){return e>t-1},indexChange:1}}return{}}(n,s.length);do{if(u.checkIndexBounds(o+=u.indexChange))return;l=s[o]}while(!c(l));r.matchFocusElement(l.getAttribute("id"))?e.onTriggerInputFocus(l.getAttribute("data-braintree-type")):l.focus()}}}}},{"../shared/browser-detection":84,"../shared/constants":85,"../shared/find-parent-tags":87,"../shared/focus-intercept":88}],80:[function(e,t,n){(function(n){"use strict";var i=e("../shared/constants").allowedStyles;t.exports=function(e){var t,o=document.createElement("input"),r={};return"."===e[0]&&(e=e.substring(1)),o.className=e,o.style.display="none !important",o.style.position="fixed !important",o.style.left="-99999px !important",o.style.top="-99999px !important",n.document.body.appendChild(o),t=n.getComputedStyle(o),i.forEach(function(e){var n=t[e];n&&(r[e]=n)}),n.document.body.removeChild(o),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/constants":85}],81:[function(e,t,n){(function(n){"use strict";var i=e("../../lib/assign").assign,o=e("../../lib/create-assets-url"),r=e("../../lib/destructor"),a=e("@braintree/class-list"),l=e("@braintree/iframer"),s=e("../../lib/bus"),c=e("../../lib/create-deferred-client"),u=e("../../lib/braintree-error"),d=e("./compose-url"),p=e("./get-styles-from-class"),_=e("../shared/constants"),m=e("../shared/errors"),f=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,h=e("../../lib/vendor/uuid"),E=e("../shared/find-parent-tags"),b=e("../shared/browser-detection"),y=_.events,g=e("@braintree/event-emitter"),A=e("./inject-frame"),T=e("../../lib/analytics"),I=_.allowedFields,v=e("../../lib/methods"),N=e("../../lib/convert-methods-to-error"),R=e("../../lib/errors"),O=e("../shared/get-card-types"),S=e("./attribute-validation-error"),C=e("../../lib/promise"),P=e("@braintree/wrap-promise"),w=e("./focus-change"),D=e("../shared/focus-intercept").destroy,L=5;function M(e){var t,E,I,S,P,k=this,U={},x={},F=[],q=h();if(this._merchantConfigurationOptions=i({},e),e.client?(I=(E=e.client.getConfiguration()).gatewayConfiguration.assetsUrl,S=E.isDebug):(I=o.create(e.authorization),S=Boolean(e.isDebug)),this._clientPromise=c.create({client:e.client,authorization:e.authorization,debug:S,assetsUrl:I,name:"Hosted Fields"}),P=d(I,q,S),!e.fields||0===Object.keys(e.fields).length)throw new u({type:R.INSTANTIATION_OPTION_REQUIRED.type,code:R.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});g.call(this),this._injectedNodes=[],this._destructor=new r,this._fields=U,this._state={fields:{},cards:O("")},this._bus=new s({channel:q,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown(function(){k._bus.teardown()}),T.sendEvent(this._clientPromise,e.client?"custom.hosted-fields.initialized":"custom.hosted-fields.initialized.deferred-client"),Object.keys(e.fields).forEach((function(t){var n,i,o,r;if(!_.allowedFields.hasOwnProperty(t))throw new u({type:m.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:m.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+t+'" is not a valid field.'});if("string"==typeof(i=(n=e.fields[t]).container||n.selector)&&(i=document.querySelector(i)),!i||1!==i.nodeType)throw new u({type:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:n.selector,fieldContainer:n.container,fieldKey:t}});if(i.querySelector('iframe[name^="braintree-"]'))throw new u({type:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:n.selector,fieldContainer:n.container,fieldKey:t}});if(n.maxlength&&"number"!=typeof n.maxlength)throw new u({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:t}});if(n.minlength&&"number"!=typeof n.minlength)throw new u({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:t}});o=l({type:t,name:"braintree-hosted-field-"+t,style:_.defaultIFrameStyle,title:"Secure Credit Card Frame - "+_.allowedFields[t].label}),this._injectedNodes.push.apply(this._injectedNodes,A(o,i,function(){k._bus.emit(y.TRIGGER_INPUT_FOCUS,t)})),this._setupLabelFocus(t,i),U[t]={frameElement:o,containerElement:i},r=new C(function(e){x[t]=e}),F.push(r),this._state.fields[t]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:i},setTimeout(function(){b.isIE()||b.isEdge()?(o.src="about:blank",setTimeout(function(){o.src=P},0)):o.src=P},0)}).bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach(function(e){var t=k._merchantConfigurationOptions.styles[e];"string"==typeof t&&(k._merchantConfigurationOptions.styles[e]=p(t))}),this._bus.on(y.REMOVE_FOCUS_INTERCEPTS,D),this._bus.on(y.TRIGGER_FOCUS_CHANGE,w.createFocusChangeHandler({onRemoveFocusIntercepts:function(e){k._bus.emit(y.REMOVE_FOCUS_INTERCEPTS,e)},onTriggerInputFocus:function(e){k._bus.emit(y.TRIGGER_INPUT_FOCUS,e)}})),this._bus.on(y.READY_FOR_CLIENT,function(e){k._clientPromise.then(function(t){e(t)})}),this._bus.on(y.CARD_FORM_ENTRY_HAS_BEGUN,function(){T.sendEvent(k._clientPromise,"hosted-fields.input.started")}),this._bus.on(y.BIN_AVAILABLE,function(e){k._emit("binAvailable",{bin:e})}),t=setTimeout(function(){T.sendEvent(k._clientPromise,"custom.hosted-fields.load.timed-out"),k._emit("timeout")},f),C.all(F).then(function(e){var n=e[0];clearTimeout(t),n(k._merchantConfigurationOptions),k._cleanUpFocusIntercepts(),k._emit("ready")}),this._bus.on(y.FRAME_READY,function(e,t){x[e.field](t)}),this._bus.on(y.INPUT_EVENT,function(e){return function(t){var n,i=t.merchantPayload,o=i.emittedBy,r=e[o].containerElement;Object.keys(i.fields).forEach(function(t){i.fields[t].container=e[t].containerElement}),n=i.fields[o],"blur"===t.type&&function(e){var t;b.isIos()&&document.activeElement===document.body&&((t=e.querySelector("input"))||((t=document.createElement("input")).type="button",t.style.height="0px",t.style.width="0px",t.style.opacity="0",t.style.padding="0",t.style.position="absolute",t.style.left="-200%",t.style.top="0px",e.insertBefore(t,e.firstChild)),t.focus(),t.blur())}(r),a.toggle(r,_.externalClasses.FOCUSED,n.isFocused),a.toggle(r,_.externalClasses.VALID,n.isValid),a.toggle(r,_.externalClasses.INVALID,!n.isPotentiallyValid),this._state={cards:i.cards,fields:i.fields},this._emit(t.type,i)}}(U).bind(this)),b.isIos()&&this._bus.on(y.TRIGGER_INPUT_FOCUS,function(e){var t=U[e].containerElement;setTimeout(function(){var e,i,o;e=t.getBoundingClientRect(),i=Math.floor(e.height/2),o=Math.floor(e.width/2),e.top<(n.innerHeight-i||document.documentElement.clientHeight-i)&&e.right>o&&e.bottom>i&&e.left<(n.innerWidth-o||document.documentElement.clientWidth-o)||t.scrollIntoView()},L)}),this._destructor.registerFunctionForTeardown(function(){var e,t,n;for(e=0;e<k._injectedNodes.length;e++)(n=(t=k._injectedNodes[e]).parentNode).removeChild(t),a.remove(n,_.externalClasses.FOCUSED,_.externalClasses.INVALID,_.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){D()}),this._destructor.registerFunctionForTeardown(function(){var e=v(M.prototype).concat(v(g.prototype));N(k,e)})}g.createChild(M),M.prototype._setupLabelFocus=function(e,t){var n,i,o=b.isIos(),r=this._bus;if(!o&&null!=t.id){for(n=(n=Array.prototype.slice.call(document.querySelectorAll('label[for="'+t.id+'"]'))).concat(E(t,"label")),i=0;i<n.length;i++)n[i].addEventListener("click",a,!1);this._destructor.registerFunctionForTeardown(function(){for(i=0;i<n.length;i++)n[i].removeEventListener("click",a,!1)})}function a(){r.emit(y.TRIGGER_INPUT_FOCUS,e)}},M.prototype._getAnyFieldContainer=function(){var e=this;return Object.keys(this._fields).reduce(function(t,n){return t||e._fields[n].containerElement},null)},M.prototype._cleanUpFocusIntercepts=function(){var e,t;document.forms.length<1?this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS):(e=this._getAnyFieldContainer(),(t=E(e,"form")[0])?w.removeExtraFocusElements(t,(function(e){this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS,e)}).bind(this)):this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS))},M.prototype._attachInvalidFieldContainersToError=function(e){e.details&&e.details.invalidFieldKeys&&e.details.invalidFieldKeys.length>0&&(e.details.invalidFields={},e.details.invalidFieldKeys.forEach((function(t){e.details.invalidFields[t]=this._fields[t].containerElement}).bind(this)))},M.prototype.teardown=function(){var e=this;return new C(function(t,n){e._destructor.teardown(function(i){T.sendEvent(e._clientPromise,"custom.hosted-fields.teardown-completed"),i?n(i):t()})})},M.prototype.tokenize=function(e){var t=this;return e||(e={}),new C(function(n,i){t._bus.emit(y.TOKENIZATION_REQUEST,e,function(e){var o=e[0],r=e[1];o?(t._attachInvalidFieldContainersToError(o),i(new u(o))):n(r)})})},M.prototype.addClass=function(e,t){var n;return I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.ADD_CLASS,e,t):n=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when adding a class.'}),n?C.reject(n):C.resolve()},M.prototype.removeClass=function(e,t){var n;return I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.REMOVE_CLASS,e,t):n=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when removing a class.'}),n?C.reject(n):C.resolve()},M.prototype.setAttribute=function(e){var t,n;return I.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(t=S(e.attribute,e.value))?n=t:this._bus.emit(y.SET_ATTRIBUTE,e.field,e.attribute,e.value):n=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),n?C.reject(n):C.resolve()},M.prototype.setMonthOptions=function(e){var t,n=this,i=this._merchantConfigurationOptions.fields;return i.expirationMonth?i.expirationMonth.select||(t="Expiration month field must be a select element."):t="Expiration month field must exist to use setMonthOptions.",t?C.reject(new u({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:t})):new C(function(t){n._bus.emit(y.SET_MONTH_OPTIONS,e,t)})},M.prototype.setMessage=function(e){this._bus.emit(y.SET_MESSAGE,e.field,e.message)},M.prototype.removeAttribute=function(e){var t,n;return I.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(t=S(e.attribute))?n=t:this._bus.emit(y.REMOVE_ATTRIBUTE,e.field,e.attribute):n=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),n?C.reject(n):C.resolve()},M.prototype.setPlaceholder=function(e,t){return this.setAttribute({field:e,attribute:"placeholder",value:t})},M.prototype.clear=function(e){var t;return I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.CLEAR_FIELD,e):t=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when clearing a field.'}),t?C.reject(t):C.resolve()},M.prototype.focus=function(e){var t;return I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.TRIGGER_INPUT_FOCUS,e):t=new u({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new u({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when focusing a field.'}),t?C.reject(t):C.resolve()},M.prototype.getState=function(){return this._state},t.exports=P.wrapPrototype(M)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/assign":94,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/create-assets-url":105,"../../lib/create-deferred-client":107,"../../lib/destructor":109,"../../lib/errors":111,"../../lib/methods":129,"../../lib/promise":132,"../../lib/vendor/uuid":136,"../shared/browser-detection":84,"../shared/constants":85,"../shared/errors":86,"../shared/find-parent-tags":87,"../shared/focus-intercept":88,"../shared/get-card-types":89,"./attribute-validation-error":77,"./compose-url":78,"./focus-change":79,"./get-styles-from-class":80,"./inject-frame":82,"@braintree/class-list":20,"@braintree/event-emitter":21,"@braintree/iframer":22,"@braintree/wrap-promise":29}],82:[function(e,t,n){"use strict";var i=e("../shared/focus-intercept"),o=e("../shared/constants").navigationDirections;t.exports=function(e,t,n){var r=e.getAttribute("type"),a=document.createElement("div"),l=document.createDocumentFragment(),s=i.generate(r,o.BACK,n),c=i.generate(r,o.FORWARD,n);return a.style.clear="both",l.appendChild(s),l.appendChild(e),l.appendChild(c),l.appendChild(a),t.appendChild(l),[e,a]}},{"../shared/constants":85,"../shared/focus-intercept":88}],83:[function(e,t,n){"use strict";var i=e("./external/hosted-fields"),o=e("../lib/basic-component-verification"),r=e("./shared/errors"),a=e("restricted-input/supports-input-formatting"),l=e("@braintree/wrap-promise"),s=e("../lib/braintree-error"),c=e("../lib/promise");t.exports={supportsInputFormatting:a,create:l(function(e){return o.verify({name:"Hosted Fields",authorization:e.authorization,client:e.client}).then(function(){var t=new i(e);return new c(function(e,n){t.on("ready",function(){e(t)}),t.on("timeout",function(){n(new s(r.HOSTED_FIELDS_TIMEOUT))})})})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/promise":132,"./external/hosted-fields":81,"./shared/errors":86,"@braintree/wrap-promise":29,"restricted-input/supports-input-formatting":40}],84:[function(e,t,n){"use strict";var i=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome-os"),r=e("@braintree/browser-detection/is-ios");t.exports={isIE:e("@braintree/browser-detection/is-ie"),isEdge:e("@braintree/browser-detection/is-edge"),isIe9:e("@braintree/browser-detection/is-ie9"),isIe10:e("@braintree/browser-detection/is-ie10"),isAndroid:i,isChromeOS:o,isFirefox:e("@braintree/browser-detection/is-firefox"),isIos:r,isIosWebview:e("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:function(){return i()||o()||r()}}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-edge":6,"@braintree/browser-detection/is-firefox":7,"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie10":9,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-webview":14}],85:[function(e,t,n){"use strict";var i=e("../../lib/enumerate"),o=e("./errors"),r={VERSION:"3.54.1",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:o.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:o.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","opacity","outline","padding","text-shadow","transition"],allowedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};r.events=i(["ADD_CLASS","AUTOFILL_EXPIRATION_DATE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),t.exports=r},{"../../lib/enumerate":110,"./errors":86}],86:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={HOSTED_FIELDS_TIMEOUT:{type:i.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:i.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:i.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:i.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:i.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:i.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:i.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:i.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":97}],87:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=e.parentNode,i=[];null!=n;)null!=n.tagName&&n.tagName.toLowerCase()===t&&i.push(n),n=n.parentNode;return i}},{}],88:[function(e,t,n){"use strict";var i=e("./browser-detection"),o=e("@braintree/class-list"),r=e("./constants"),a=Object.keys(r.allowedFields),l=r.navigationDirections,s={generate:function(e,t,n){var r=document.createElement("input");return i.hasSoftwareKeyboard()||i.isFirefox()||i.isIE()?(r.setAttribute("aria-hidden","true"),r.setAttribute("autocomplete","off"),r.setAttribute("data-braintree-direction",t),r.setAttribute("data-braintree-type",e),r.setAttribute("id","bt-"+e+"-"+t),r.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),o.add(r,"focus-intercept"),r.addEventListener("focus",function(e){n(e),i.hasSoftwareKeyboard()||r.blur()}),r):document.createDocumentFragment()},destroy:function(e){var t;e?t=[document.getElementById(e)]:(t=document.querySelectorAll("[data-braintree-direction]"),t=[].slice.call(t)),t.forEach(function(e){e&&1===e.nodeType&&s.matchFocusElement(e.getAttribute("id"))&&e.parentNode.removeChild(e)})},matchFocusElement:function(e){var t,n,i;return!!e&&3===(t=e.split("-")).length&&(n="bt"===t[0],i=a.indexOf(t[1])>-1,Boolean(n&&i&&(t[2]===l.BACK||t[2]===l.FORWARD)))}};t.exports=s},{"./browser-detection":84,"./constants":85,"@braintree/class-list":20}],89:[function(e,t,n){"use strict";var i=e("credit-card-type");t.exports=function(e){var t=i(e);return t.forEach(function(e){"mastercard"===e.type&&(e.type="master-card")}),t}},{"credit-card-type":30}],90:[function(e,t,n){"use strict";var i=e("./american-express"),o=e("./apple-pay"),r=e("./client"),a=e("./data-collector"),l=e("./hosted-fields"),s=e("./local-payment"),c=e("./masterpass"),u=e("./payment-request"),d=e("./paypal"),p=e("./paypal-checkout"),_=e("./google-payment"),m=e("./three-d-secure"),f=e("./unionpay"),h=e("./us-bank-account"),E=e("./vault-manager"),b=e("./venmo"),y=e("./visa-checkout");t.exports={americanExpress:i,applePay:o,client:r,dataCollector:a,hostedFields:l,localPayment:s,masterpass:c,googlePayment:_,paymentRequest:u,paypal:d,paypalCheckout:p,threeDSecure:m,unionpay:f,usBankAccount:h,vaultManager:E,venmo:b,visaCheckout:y,VERSION:"3.54.1"}},{"./american-express":43,"./apple-pay":46,"./client":52,"./data-collector":71,"./google-payment":76,"./hosted-fields":83,"./local-payment":139,"./masterpass":142,"./payment-request":147,"./paypal":154,"./paypal-checkout":151,"./three-d-secure":165,"./unionpay":169,"./us-bank-account":175,"./vault-manager":178,"./venmo":180,"./visa-checkout":187}],91:[function(e,t,n){"use strict";var i=e("./create-authorization-data"),o=e("./json-clone"),r=e("./constants");t.exports=function(e,t){var n,a=t?o(t):{},l=i(e.authorization).attrs,s=o(e.analyticsMetadata);for(n in a.braintreeLibraryVersion=r.BRAINTREE_LIBRARY_VERSION,a._meta)a._meta.hasOwnProperty(n)&&(s[n]=a._meta[n]);return a._meta=s,l.tokenizationKey?a.tokenizationKey=l.tokenizationKey:a.authorizationFingerprint=l.authorizationFingerprint,a}},{"./constants":102,"./create-authorization-data":106,"./json-clone":128}],92:[function(e,t,n){"use strict";var i=e("./promise"),o=e("./constants"),r=e("./add-metadata");t.exports={sendEvent:function(e,t,n){var a=Date.now();return i.resolve(e).then(function(e){var i=Date.now(),l=e.getConfiguration(),s=e._request,c=l.gatewayConfiguration.analytics.url,u={analytics:[{kind:o.ANALYTICS_PREFIX+t,isAsync:Math.floor(i/1e3)!==Math.floor(a/1e3),timestamp:a}]};s({url:c,method:"post",data:r(l,u),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},n)})}}},{"./add-metadata":91,"./constants":102,"./promise":132}],93:[function(e,t,n){"use strict";var i=e("@braintree/asset-loader/load-script");t.exports={loadScript:i}},{"@braintree/asset-loader/load-script":2}],94:[function(e,t,n){"use strict";var i="function"==typeof Object.assign?Object.assign:o;function o(e){var t,n,i;for(t=1;t<arguments.length;t++)for(i in n=arguments[t])n.hasOwnProperty(i)&&(e[i]=n[i]);return e}t.exports={assign:i,_assign:o}},{}],95:[function(e,t,n){"use strict";var i=e("./braintree-error"),o=e("./promise"),r=e("./errors");t.exports={verify:function(e){var t,n,a;return e?(a=e.name,n=e.authorization,null==(t=e.client)&&null==n?o.reject(new i({type:r.INSTANTIATION_OPTION_REQUIRED.type,code:r.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+a+"."})):n||"3.54.1"===t.getVersion()?o.resolve():o.reject(new i({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+a+" (version 3.54.1) components must be from the same SDK version."}))):o.reject(new i({type:r.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:r.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":97,"./errors":111,"./promise":132}],96:[function(e,t,n){"use strict";var i=e("./once");function o(e,t){0===e.length?(e(),t(null)):e(t)}t.exports=function(e,t){var n,r=e.length,a=r,l=i(t);if(0!==r)for(n=0;n<r;n++)o(e[n],s);else l(null);function s(e){e?l(e):0==(a-=1)&&l(null)}}},{"./once":130}],97:[function(e,t,n){"use strict";var i=e("./enumerate");function o(e){if(!o.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}(o.prototype=Object.create(Error.prototype)).constructor=o,o.types=i(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),o.findRootError=function(e){return e instanceof o&&e.details&&e.details.originalError?o.findRootError(e.details.originalError):e},t.exports=o},{"./enumerate":110}],98:[function(e,t,n){"use strict";var i=e("../is-verified-domain");t.exports={checkOrigin:function(e,t){var n,o=document.createElement("a");return o.href=t,n="https:"===o.protocol?o.host.replace(/:443$/,""):"http:"===o.protocol?o.host.replace(/:80$/,""):o.host,o.protocol+"//"+n===e||(o.href=e,i(e))}}},{"../is-verified-domain":127}],99:[function(e,t,n){"use strict";var i=e("../enumerate");t.exports=i(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":110}],100:[function(e,t,n){"use strict";var i=e("framebus"),o=e("./events"),r=e("./check-origin").checkOrigin,a=e("../braintree-error");function l(e){if(this.channel=(e=e||{}).channel,!this.channel)throw new a({type:a.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}l.prototype.on=function(e,t){var n,o,a=t,l=this;this._isDestroyed||(this.merchantUrl&&(a=function(){r(this.origin,l.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),(o=Array.prototype.slice.call(arguments))[0]=n,o[1]=a,this._log("on",o),i.on.apply(i,o),this._listeners.push({eventName:e,handler:a,originalHandler:t}))},l.prototype.emit=function(e){var t;this._isDestroyed||((t=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",t),i.emit.apply(i,t))},l.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),i.off.apply(i,t))},l.prototype.off=function(e,t){var n,i,o=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;n<this._listeners.length;n++)(i=this._listeners[n]).originalHandler===t&&(o=i.handler);this._offDirect(e,o)}},l.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},l.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)this._offDirect((e=this._listeners[t]).eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},l.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},l.events=o,t.exports=l},{"../braintree-error":97,"./check-origin":98,"./events":99,framebus:37}],101:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).reduce(function(t,n){return t[function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(n)]=e[n],t},{})}},{}],102:[function(e,t,n){"use strict";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.54.1",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.54.1"}},{}],103:[function(e,t,n){"use strict";var i=e("./braintree-error"),o=e("./errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new i({type:o.METHOD_CALLED_AFTER_TEARDOWN.type,code:o.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":97,"./errors":111}],104:[function(e,t,n){"use strict";var i=e("./braintree-error");t.exports=function(e,t){return e instanceof i?e:new i({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},{"./braintree-error":97}],105:[function(e,t,n){"use strict";var i=e("./constants").ASSETS_URLS;t.exports={create:function(e){return i.production}}},{"./constants":102}],106:[function(e,t,n){"use strict";var i=e("../lib/vendor/polyfill").atob,o=e("../lib/constants").CLIENT_API_URLS;t.exports=function(e){var t,n,r,a,l={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(a=(r=e.split("_"))[0],n={merchantId:r.slice(2).join("_"),environment:a},l.environment=n.environment,l.attrs.tokenizationKey=e,l.configUrl=o[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(i(e)),l.environment=t.environment,l.attrs.authorizationFingerprint=t.authorizationFingerprint,l.configUrl=t.configUrl,l.graphQL=t.graphQL),l}},{"../lib/constants":102,"../lib/vendor/polyfill":135}],107:[function(e,t,n){(function(n){"use strict";var i=e("./braintree-error"),o=e("./promise"),r=e("./assets"),a=e("./errors");t.exports={create:function(e){var t=o.resolve();return e.client?o.resolve(e.client):(n.braintree&&n.braintree.client||(t=r.loadScript({src:e.assetsUrl+"/web/3.54.1/js/client.min.js"}).catch(function(e){return o.reject(new i({type:a.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:a.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:a.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))})),t.then(function(){return"3.54.1"!==n.braintree.client.VERSION?o.reject(new i({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n.braintree.client.VERSION+") and "+e.name+" (version 3.54.1) components must be from the same SDK version."})):n.braintree.client.create({authorization:e.authorization,debug:e.debug})}))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":93,"./braintree-error":97,"./errors":111,"./promise":132}],108:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],109:[function(e,t,n){"use strict";var i=e("./batch-execute-functions");function o(){this._teardownRegistry=[],this._isTearingDown=!1}o.prototype.registerFunctionForTeardown=function(e){"function"==typeof e&&this._teardownRegistry.push(e)},o.prototype.teardown=function(e){this._isTearingDown?e(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,i(this._teardownRegistry,(function(t){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof e&&e(t)}).bind(this)))},t.exports=o},{"./batch-execute-functions":96}],110:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}},{}],111:[function(e,t,n){"use strict";var i=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:i.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:i.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:i.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:i.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":97}],112:[function(e,t,n){"use strict";t.exports=function(e,t,n){var i;for(i=0;i<e.length;i++)if(e[i].hasOwnProperty(t)&&e[i][t]===n)return e[i];return null}},{}],113:[function(e,t,n){(function(n){"use strict";var i=e("./strategies/popup"),o=e("./strategies/popup-bridge"),r=e("./strategies/modal"),a=e("../../bus"),l=e("../shared/events"),s=e("../shared/errors"),c=e("../shared/constants"),u=e("../../vendor/uuid"),d=e("@braintree/iframer"),p=e("../../braintree-error"),_=e("../shared/browser-detection"),m=e("../../is-https"),f=e("./../../assign").assign,h=["name","dispatchFrameUrl","openFrameUrl"];function E(){}function b(e){!function(e){if(!e)throw new Error("Valid configuration is required");if(h.forEach(function(t){if(!e.hasOwnProperty(t))throw new Error("A valid frame "+t+" must be provided")}),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")}(e),this._serviceId=u().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl,height:e.height,width:e.width,top:e.top,left:e.left},this.state=e.state||{},this._bus=new a({channel:this._serviceId}),this._setBusEvents()}b.prototype.initialize=function(e){var t=(function(){e(),this._bus.off(l.DISPATCH_FRAME_READY,t)}).bind(this);this._bus.on(l.DISPATCH_FRAME_READY,t),this._writeDispatchFrame()},b.prototype._writeDispatchFrame=function(){var e=c.DISPATCH_FRAME_NAME+"_"+this._serviceId;this._dispatchFrame=d({"aria-hidden":!0,name:e,title:e,src:this._options.dispatchFrameUrl,class:c.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},b.prototype._setBusEvents=function(){this._bus.on(l.DISPATCH_FRAME_REPORT,(function(e,t){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._frame.close(),this._onCompleteCallback=null,t&&t()}).bind(this)),this._bus.on(a.events.CONFIGURATION_REQUEST,(function(e){e(this.state)}).bind(this))},b.prototype.open=function(e,t){var n;if(this._frame=this._getFrameForEnvironment(e=e||{}),this._frame.initialize(t),!(this._frame instanceof o)){if(f(this.state,e.state),this._onCompleteCallback=t,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(t&&(n=_.isIE()&&!m.isHTTPS()?new p(s.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new p(s.FRAME_SERVICE_FRAME_OPEN_FAILED),t(n)));this._pollForPopupClose()}},b.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&this._frame.redirect(e)},b.prototype.close=function(){this.isFrameClosed()||this._frame.close()},b.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},b.prototype.createHandler=function(e){return e=e||{},{close:(function(){e.beforeClose&&e.beforeClose(),this.close()}).bind(this),focus:(function(){e.beforeFocus&&e.beforeFocus(),this.focus()}).bind(this)}},b.prototype.createNoopHandler=function(){return{close:E,focus:E}},b.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},b.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},b.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},b.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval((function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new p(s.FRAME_SERVICE_FRAME_CLOSED)))}).bind(this),c.POPUP_POLL_INTERVAL),this._popupInterval},b.prototype._getFrameForEnvironment=function(e){var t=_.supportsPopups(),a=Boolean(n.popupBridge),l=f({},this._options,e);return a?new o(l):t?new i(l):new r(l)},t.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../braintree-error":97,"../../bus":100,"../../is-https":126,"../../vendor/uuid":136,"../shared/browser-detection":120,"../shared/constants":121,"../shared/errors":122,"../shared/events":123,"./../../assign":94,"./strategies/modal":115,"./strategies/popup":118,"./strategies/popup-bridge":116,"@braintree/iframer":22}],114:[function(e,t,n){"use strict";var i=e("./frame-service");t.exports={create:function(e,t){var n=new i(e);n.initialize(function(){t(n)})}}},{"./frame-service":113}],115:[function(e,t,n){(function(n){"use strict";var i=e("@braintree/iframer"),o=e("../../../assign").assign,r=e("../../shared/browser-detection"),a={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function l(){}function s(e){this._closed=null,this._frame=null,this._options=e||{},this._container=this._options.container||document.body}s.prototype.initialize=l,s.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:o({},a),title:"Lightbox Frame"};r.isIos()?(r.isIosWKWebview()&&(this._lockScrolling(),e.style={}),this._el=document.createElement("div"),o(this._el.style,a,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=i(e),this._el.appendChild(this._frame)):this._el=this._frame=i(e),this._closed=!1,this._container.appendChild(this._el)},s.prototype.focus=l,s.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,r.isIosWKWebview()&&this._unlockScrolling()},s.prototype.isClosed=function(){return Boolean(this._closed)},s.prototype.redirect=function(e){this._frame.src=e},s.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,n.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},s.prototype._lockScrolling=function(){var e=document.documentElement;this._savedBodyProperties={left:(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(n.pageYOffset||e.scrollTop)-(e.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",n.scrollTo(0,0)},t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../assign":94,"../../shared/browser-detection":120,"@braintree/iframer":22}],116:[function(e,t,n){(function(n){"use strict";var i=e("../../../braintree-error"),o=e("../../shared/errors");function r(){}function a(e){this._closed=null,this._options=e}a.prototype.initialize=function(e){var t=this;n.popupBridge.onComplete=function(n,r){var a=!r&&!n;t._closed=!0,n||a?e(new i(o.FRAME_SERVICE_FRAME_CLOSED)):e(null,r)}},a.prototype.open=function(e){var t;t=(e=e||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,n.popupBridge.open(t)},a.prototype.focus=r,a.prototype.close=r,a.prototype.isClosed=function(){return Boolean(this._closed)},a.prototype.redirect=function(e){this.open({openFrameUrl:e})},t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../braintree-error":97,"../../shared/errors":122}],117:[function(e,t,n){"use strict";var i=e("../../../shared/constants"),o=e("./position");function r(e,t,n){return void 0!==t?t:o[e](n)}t.exports=function(e){var t=e.height||i.DEFAULT_POPUP_HEIGHT,n=e.width||i.DEFAULT_POPUP_WIDTH,o=r("top",e.top,t),a=r("left",e.left,n);return[i.POPUP_BASE_OPTIONS,"height="+t,"width="+n,"top="+o,"left="+a].join(",")}},{"../../../shared/constants":121,"./position":119}],118:[function(e,t,n){(function(n){"use strict";var i=e("./compose-options");function o(e){this._frame=null,this._options=e||{},this.open()}o.prototype.initialize=function(){},o.prototype.open=function(){this._frame=n.open(this._options.openFrameUrl,this._options.name,i(this._options))},o.prototype.focus=function(){this._frame.focus()},o.prototype.close=function(){this._frame.close()},o.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},o.prototype.redirect=function(e){this._frame.location.href=e},t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":117}],119:[function(e,t,n){(function(e){"use strict";function n(e,t,n){return(e-t)/2+n}t.exports={top:function(t){return n(e.outerHeight||document.documentElement.clientHeight,t,null==e.screenY?e.screenTop:e.screenY)},left:function(t){return n(e.outerWidth||document.documentElement.clientWidth,t,null==e.screenX?e.screenLeft:e.screenX)},center:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],120:[function(e,t,n){"use strict";t.exports={isIos:e("@braintree/browser-detection/is-ios"),isIosWKWebview:e("@braintree/browser-detection/is-ios-wkwebview"),isIE:e("@braintree/browser-detection/is-ie"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-wkwebview":15,"@braintree/browser-detection/supports-popups":19}],121:[function(e,t,n){"use strict";t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],122:[function(e,t,n){"use strict";var i=e("../../braintree-error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:i.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":97}],123:[function(e,t,n){"use strict";var i=e("../../enumerate");t.exports=i(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":110}],124:[function(e,t,n){"use strict";var i="3.54.1",o=e("./assign").assign;function r(e,t){var n=e.analyticsMetadata,r={gateway:"braintree","braintree:merchantId":e.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":i,"braintree:metadata":JSON.stringify({source:n.source,integration:n.integration,sessionId:n.sessionId,version:i,platform:n.platform})};return o({},r,t)}t.exports=function(e,t,n){var i,o,a=e.gatewayConfiguration.androidPay,l="production"===e.gatewayConfiguration.environment?"PRODUCTION":"TEST";return 2===t?(i={apiVersion:2,apiVersionMinor:0,environment:l,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:a.supportedNetworks.map(function(e){return e.toUpperCase()})},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:r(e,{"braintree:authorizationFingerprint":a.googleAuthorizationFingerprint})}}]},n&&(i.merchantInfo={merchantId:n}),a.paypalClientId&&(o={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:a.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:r(e,{"braintree:paypalClientId":a.paypalClientId})}},i.allowedPaymentMethods.push(o))):(i={environment:l,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:r(e,{"braintree:authorizationFingerprint":a.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:a.supportedNetworks.map(function(e){return e.toUpperCase()})}},"TOKENIZATION_KEY"===e.authorizationType&&(i.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=e.authorization),n&&(i.merchantId=n),t&&(i.apiVersion=t)),i}},{"./assign":94}],125:[function(e,t,n){"use strict";function i(e){var t=e.split("-");return new Date(t[0],t[1],t[2])}t.exports=function(e,t){return i(e)<=i(t)}},{}],126:[function(e,t,n){(function(e){"use strict";t.exports={isHTTPS:function(t){return"https:"===(t||e.location.protocol)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,n){"use strict";var i,o={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=function(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((i=i||document.createElement("a")).href=e,t=i.hostname.split(".").slice(-2).join("."),o.hasOwnProperty(t))}},{}],128:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],129:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],130:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],131:[function(e,t,n){"use strict";var i=e("./promise");t.exports=function(){var e,t,n=new i(function(n,i){e=n,t=i});return n.isFulfilled=!1,n.isResolved=!1,n.isRejected=!1,n.resolve=function(t){n.isFulfilled||(n.isFulfilled=!0,n.isResolved=!0,e(t))},n.reject=function(e){n.isFulfilled||(n.isFulfilled=!0,n.isRejected=!0,t(e))},n}},{"./promise":132}],132:[function(e,t,n){(function(n){"use strict";var i=n.Promise||e("promise-polyfill");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":38}],133:[function(e,t,n){(function(e){"use strict";function n(e,t){var i,o,r,a,l=[];for(r in e)e.hasOwnProperty(r)&&(o=e[r],i=t?(a=e)&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)?t+"[]":t+"["+r+"]":r,l.push("object"==typeof o?n(o,i):encodeURIComponent(i)+"="+encodeURIComponent(o)));return l.join("&")}t.exports={parse:function(t){return/\?/.test(t=t||e.location.href)?t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce(function(e,t){var n=t.split("="),i=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);return e[i]=o,e},{}):{}},stringify:n,queryify:function(e,t){return e=e||"",null!=t&&"object"==typeof t&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=n(t)),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(e,t,n){"use strict";t.exports=function(e){return e?"":".min"}},{}],135:[function(e,t,n){(function(e){"use strict";var n="function"==typeof e.atob?e.atob:i;function i(e){var t,n,i,o,r,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");a=0;do{i=l.indexOf(e.charAt(a++)),t=(15&(o=l.indexOf(e.charAt(a++))))<<4|(r=l.indexOf(e.charAt(a++)))>>2&15,n=(3&r)<<6|63&l.indexOf(e.charAt(a++)),s+=String.fromCharCode((63&i)<<2|o>>4&3)+(t?String.fromCharCode(t):"")+(n?String.fromCharCode(n):"")}while(a<e.length);return s}t.exports={atob:function(t){return n.call(e,t)},_atob:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(e,t,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{}],137:[function(e,t,n){"use strict";t.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["onPaymentStart","paymentType","amount","fallback"]}},{}],138:[function(e,t,n){(function(n){"use strict";var i=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),r=e("../../lib/use-min"),a="3.54.1",l=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,s=e("../../lib/analytics"),c=e("../../lib/methods"),u=e("../../lib/convert-methods-to-error"),d=e("../../lib/convert-to-braintree-error"),p=e("../../lib/promise"),_=e("../../lib/querystring"),m=e("@braintree/wrap-promise"),f=e("./constants"),h=e("../shared/errors");function E(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+a,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+r(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=e.merchantAccountId}E.prototype._initialize=function(){var e=this,t=this._client,n=setTimeout(function(){s.sendEvent(t,"local-payment.load.timed-out")},l);return new p(function(o){i.create({name:"localpaymentlandingpage",dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+r(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},function(i){e._frameService=i,clearTimeout(n),s.sendEvent(t,"local-payment.load.succeeded"),o(e)})})},E.prototype.startPayment=m(function(e){var t,n,i=this,a=this._frameService._serviceId;return function(e){var t;if(!e)return!0;for(t=0;t<f.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;t++)if(!e.hasOwnProperty(f.REQUIRED_OPTIONS_FOR_START_PAYMENT[t]))return!0;return!e.fallback.url||!e.fallback.buttonText}(e)?p.reject(new o(h.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION)):(t=e.address||{},n={intent:"sale",returnUrl:_.queryify(i._assetsUrl+"/html/local-payment-redirect-frame"+r(i._isDebug)+".html",{channel:a,r:e.fallback.url,t:e.fallback.buttonText}),cancelUrl:_.queryify(i._assetsUrl+"/html/local-payment-cancel-frame"+r(i._isDebug)+".html",{channel:a}),experienceProfile:{noShipping:!e.shippingAddressRequired},fundingSource:e.paymentType,amount:e.amount,currencyIsoCode:e.currencyCode,firstName:e.givenName,lastName:e.surname,payerEmail:e.email,phone:e.phone,line1:t.streetAddress,line2:t.extendedAddress,city:t.locality,state:t.region,postalCode:t.postalCode,countryCode:t.countryCode,merchantAccountId:i._merchantAccountId},i._paymentType=e.paymentType.toLowerCase(),i._authorizationInProgress?(s.sendEvent(i._client,i._paymentType+".local-payment.start-payment.error.already-opened"),p.reject(new o(h.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(i._authorizationInProgress=!0,new p(function(t,r){i._startPaymentCallback=i._createStartPaymentCallback(t,r),i._frameService.open({},i._startPaymentCallback),i._client.request({method:"post",endpoint:"local_payments/create",data:n}).then(function(t){s.sendEvent(i._client,i._paymentType+".local-payment.start-payment.opened"),i._startPaymentOptions=e,e.onPaymentStart({paymentId:t.paymentResource.paymentToken},function(){i._frameService.redirect(t.paymentResource.redirectUrl)})}).catch(function(e){var t=e.details&&e.details.httpStatus;i._frameService.close(),i._authorizationInProgress=!1,r(422!==t?d(e,{type:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.message}):new o({type:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}))})})))}),E.prototype.tokenize=function(e){var t=this,i=this._client;return e=e||_.parse(),i.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e)}).then(function(e){var o=t._formatTokenizePayload(e);return s.sendEvent(i,n.popupBridge?t._paymentType+".local-payment.tokenization.success-popupbridge":t._paymentType+".local-payment.tokenization.success"),o}).catch(function(e){return s.sendEvent(i,t._paymentType+".local-payment.tokenization.failed"),p.reject(d(e,{type:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))})},E.prototype.closeWindow=function(){this._authoriztionInProgress&&s.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},E.prototype.focusWindow=function(){this._frameService.focus()},E.prototype._createStartPaymentCallback=function(e,t){var i=this,r=this._client;return function(a,l){i._authorizationInProgress=!1,a?"FRAME_SERVICE_FRAME_CLOSED"===a.code?(s.sendEvent(r,i._paymentType+".local-payment.tokenization.closed.by-user"),t(new o(h.LOCAL_PAYMENT_WINDOW_CLOSED))):a.code&&a.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&t(new o({code:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:a}})):l&&(n.popupBridge||i._frameService.redirect(i._loadingFrameUrl),i.tokenize(l).then(e).catch(t).then(function(){i._frameService.close()}))}},E.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&(n.details.payerInfo&&(t.details=n.details.payerInfo),n.details.correlationId&&(t.correlationId=n.details.correlationId)),t},E.prototype.hasTokenizationParams=function(){var e=_.parse();return Boolean(e.btLpToken&&e.btLpPaymentId&&e.btLpPayerId)},E.prototype._formatTokenizeData=function(e){var t=this._client.getConfiguration();return{merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:e.btLpToken||e.token,paymentToken:e.btLpPaymentId||e.paymentId,payerId:e.btLpPayerId||e.PayerID,unilateral:t.gatewayConfiguration.paypal.unvettedMerchant,intent:"sale"}}},E.prototype.teardown=m(function(){return this._frameService.teardown(),u(this,c(E.prototype)),s.sendEvent(this._client,"local-payment.teardown-completed"),p.resolve()}),t.exports=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/errors":140,"./constants":137,"@braintree/wrap-promise":29}],139:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("./external/local-payment"),s=e("../lib/promise"),c=e("@braintree/wrap-promise"),u=e("../lib/braintree-error"),d=e("./shared/errors");t.exports={create:c(function(e){var t="Local Payment";return o.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})}).then(function(t){var n=t.getConfiguration();return e.client=t,!0!==n.gatewayConfiguration.paypalEnabled?s.reject(new u(d.LOCAL_PAYMENT_NOT_ENABLED)):(i.sendEvent(t,"local-payment.initialized"),new l(e)._initialize())})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/local-payment":138,"./shared/errors":140,"@braintree/wrap-promise":29}],140:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:i.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:i.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:i.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:i.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:i.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:i.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:i.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:i.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":97}],141:[function(e,t,n){(function(n){"use strict";var i=e("../../lib/promise"),o=e("../../lib/frame-service/external"),r=e("../../lib/braintree-error"),a=e("../shared/errors"),l="3.54.1",s=e("../../lib/methods"),c=e("@braintree/wrap-promise"),u=e("../../lib/analytics"),d=e("../../lib/convert-methods-to-error"),p=e("../../lib/convert-to-braintree-error"),_=e("../shared/constants"),m=e("../../lib/constants").INTEGRATION_TIMEOUT_MS;function f(e){var t=e.client.getConfiguration();this._client=e.client,this._assetsUrl=t.gatewayConfiguration.assetsUrl+"/web/"+l,this._isDebug=t.isDebug,this._authInProgress=!1,this._callbackUrl=n.popupBridge&&"function"==typeof n.popupBridge.getReturnUrlPrefix?n.popupBridge.getReturnUrlPrefix()+"return":this._assetsUrl+"/html/masterpass-redirect-frame"+(this._isDebug?"":".min")+".html"}f.prototype._initialize=function(){var e=this;return new i(function(t){var n=setTimeout(function(){u.sendEvent(e._client,"masterpass.load.timed-out")},m);o.create({name:_.LANDING_FRAME_NAME,height:_.POPUP_HEIGHT,width:_.POPUP_WIDTH,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+(e._isDebug?"":".min")+".html",openFrameUrl:e._assetsUrl+"/html/masterpass-landing-frame"+(e._isDebug?"":".min")+".html"},function(i){e._frameService=i,clearTimeout(n),u.sendEvent(e._client,"masterpass.load.succeeded"),t(e)})})},f.prototype.tokenize=function(e){var t=this;return!e||function(e){var t;for(t=0;t<_.REQUIRED_OPTIONS_FOR_TOKENIZE.length;t++)if(!e.hasOwnProperty(_.REQUIRED_OPTIONS_FOR_TOKENIZE[t]))return!0;return!1}(e)?i.reject(new r(a.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):t._authInProgress?i.reject(new r(a.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new i(function(n,i){t._navigateFrameToLoadingPage(e).catch(i),t._frameService.open(e.frameOptions,t._createFrameOpenHandler(n,i))})},f.prototype._navigateFrameToLoadingPage=function(e){var t=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:n.location.protocol+"//"+n.location.hostname,subtotal:e.subtotal,currencyCode:e.currencyCode,callbackUrl:this._callbackUrl}}}).then(function(n){var i,o=t._assetsUrl+"/html/masterpass-loading-frame"+(t._isDebug?"":".min")+".html?",r=t._client.getConfiguration().gatewayConfiguration,a=e.config||{};i={environment:r.environment,requestToken:n.requestToken,callbackUrl:t._callbackUrl,merchantCheckoutId:r.masterpass.merchantCheckoutId,allowedCardTypes:r.masterpass.supportedNetworks,version:_.MASTERPASS_VERSION},Object.keys(a).forEach(function(e){"function"!=typeof a[e]&&(i[e]=a[e])}),o+=Object.keys(i).map(function(e){return e+"="+i[e]}).join("&"),t._frameService.redirect(o)}).catch(function(e){var n=e.details&&e.details.httpStatus;return t._closeWindow(),i.reject(p(e,422===n?a.MASTERPASS_INVALID_PAYMENT_OPTION:a.MASTERPASS_FLOW_FAILED))})},f.prototype._createFrameOpenHandler=function(e,t){var i=this;return n.popupBridge?function(n,o){return i._authInProgress=!1,n?(u.sendEvent(i._client,"masterpass.tokenization.closed-popupbridge.by-user"),void t(p(n,a.MASTERPASS_POPUP_CLOSED))):o.queryItems?void i._tokenizeMasterpass(o.queryItems).then(e).catch(t):(u.sendEvent(i._client,"masterpass.tokenization.failed-popupbridge"),void t(new r(a.MASTERPASS_FLOW_FAILED)))}:function(n,o){if(n)return i._authInProgress=!1,"FRAME_SERVICE_FRAME_CLOSED"===n.code?(u.sendEvent(i._client,"masterpass.tokenization.closed.by-user"),void t(new r(a.MASTERPASS_POPUP_CLOSED))):n.code&&n.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(u.sendEvent(i._client,"masterpass.tokenization.failed.to-open"),void t(new r({code:a.MASTERPASS_POPUP_OPEN_FAILED.code,type:a.MASTERPASS_POPUP_OPEN_FAILED.type,message:a.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:n}}))):(u.sendEvent(i._client,"masterpass.tokenization.failed"),i._closeWindow(),void t(p(n,a.MASTERPASS_FLOW_FAILED)));i._tokenizeMasterpass(o).then(e).catch(t)}},f.prototype._tokenizeMasterpass=function(e){var t=this;return"success"!==e.mpstatus?(u.sendEvent(t._client,"masterpass.tokenization.closed.by-user"),t._closeWindow(),i.reject(new r(a.MASTERPASS_POPUP_CLOSED))):function(e){return[e.oauth_verifier,e.oauth_token,e.checkout_resource_url].some(function(e){return null==e||"null"===e})}(e)?(u.sendEvent(t._client,"masterpass.tokenization.closed.missing-payload"),t._closeWindow(),i.reject(new r(a.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):t._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:e.checkout_resource_url,requestToken:e.oauth_token,verifierToken:e.oauth_verifier}}}).then(function(e){return t._closeWindow(),u.sendEvent(t._client,n.popupBridge?"masterpass.tokenization.success-popupbridge":"masterpass.tokenization.success"),e.masterpassCards[0]}).catch(function(e){return t._closeWindow(),u.sendEvent(t._client,n.popupBridge?"masterpass.tokenization.failed-popupbridge":"masterpass.tokenization.failed"),i.reject(p(e,a.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))})},f.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},f.prototype.teardown=function(){var e=this;return new i(function(t){e._frameService.teardown(),d(e,s(f.prototype)),u.sendEvent(e._client,"masterpass.teardown-completed"),t()})},t.exports=c.wrapPrototype(f)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/promise":132,"../shared/constants":144,"../shared/errors":145,"@braintree/wrap-promise":29}],142:[function(e,t,n){(function(n){"use strict";var i=e("../lib/braintree-error"),o=e("../lib/basic-component-verification"),r=e("./shared/browser-detection"),a=e("./external/masterpass"),l=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),c=e("./shared/errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");function p(){return Boolean(n.popupBridge||r.supportsPopups())}t.exports={create:d(function(e){return o.verify({name:"Masterpass",client:e.client,authorization:e.authorization}).then(function(){return p()?u.resolve():u.reject(new i(c.MASTERPASS_BROWSER_NOT_SUPPORTED))}).then(function(){return l.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Masterpass"})}).then(function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.masterpass?new a(e)._initialize():u.reject(new i(c.MASTERPASS_NOT_ENABLED))})}),isSupported:p,VERSION:"3.54.1"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/masterpass":141,"./shared/browser-detection":143,"./shared/errors":145,"@braintree/wrap-promise":29}],143:[function(e,t,n){"use strict";t.exports={supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":19}],144:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],145:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:i.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:i.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:i.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:i.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:i.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:i.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:i.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:i.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:i.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:i.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":97}],146:[function(e,t,n){(function(n){"use strict";var i=e("../../lib/analytics"),o=e("../../lib/assign").assign,r=e("../../lib/bus"),a=e("../../lib/convert-methods-to-error"),l=e("../../lib/generate-google-pay-configuration"),s=e("@braintree/iframer"),c=e("../../lib/vendor/uuid"),u=e("../../lib/use-min"),d=e("../../lib/methods"),p=e("../../lib/promise"),_=e("@braintree/event-emitter"),m=e("../../lib/braintree-error"),f=e("../shared/constants"),h=f.events,E=f.errors,b=e("@braintree/wrap-promise"),y={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"},g="18278000977346790994";function A(e){var t=e.enabledPaymentMethods||{};_.call(this),this._componentId=c(),this._client=e.client,this._enabledPaymentMethods={basicCard:!1!==t.basicCard,googlePay:!1!==t.googlePay},this._googlePayVersion=2===e.googlePayVersion?2:1,this._googleMerchantId=g,this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map((function(e){return this._supportedPaymentMethods[e]}).bind(this)),this._bus=new r({channel:this._componentId})}_.createChild(A),A.prototype._constructDefaultSupportedPaymentMethods=function(){var e=this._client.getConfiguration(),t=e.gatewayConfiguration.androidPay,n=e.gatewayConfiguration.creditCards,i={};return this._enabledPaymentMethods.basicCard&&n&&n.supportedCardTypes.length>0&&(i.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:n.supportedCardTypes.reduce(function(e,t){return t in y&&e.push(y[t]),e},[])}}),this._enabledPaymentMethods.googlePay&&t&&t.enabled&&(i.googlePay={supportedMethods:"https://google.com/pay",data:l(e,this._googlePayVersion,this._googleMerchantId)}),i},A.prototype.initialize=function(){var e=this._client.getConfiguration(),t=this;return this._frame=s({allowPaymentRequest:!0,name:"braintree-payment-request-frame",class:"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),0===this._defaultSupportedPaymentMethods.length?p.reject(new m(E.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new p(function(n){var o;t._bus.on(h.FRAME_READY,function(e){e(t._client)}),t._bus.on(h.FRAME_CAN_MAKE_REQUESTS,function(){i.sendEvent(t._client,"payment-request.initialized"),t._bus.on(h.SHIPPING_ADDRESS_CHANGE,function(e){var n={target:{shippingAddress:e},updateWith:function(e){t._bus.emit(h.UPDATE_SHIPPING_ADDRESS,e)}};t._emit("shippingAddressChange",n),t._emit("shippingaddresschange",n)}),t._bus.on(h.SHIPPING_OPTION_CHANGE,function(e){var n={target:{shippingOption:e},updateWith:function(e){t._bus.emit(h.UPDATE_SHIPPING_OPTION,e)}};t._emit("shippingOptionChange",n),t._emit("shippingoptionchange",n)}),n(t)}),t._frame.src=(o=t._componentId,e.gatewayConfiguration.assetsUrl+"/web/3.54.1/html/payment-request-frame"+u(e.isDebug)+".html#"+o),document.body.appendChild(t._frame)})},A.prototype.createSupportedPaymentMethodsConfiguration=function(e,t){var n;if(!e)throw new m(E.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[e])throw new m(E.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return(n=o({},this._supportedPaymentMethods[e])).data=o({},n.data,t),n},A.prototype.tokenize=function(e){var t=this;return new p(function(n,o){t._bus.emit(h.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:e.supportedPaymentMethods||t._defaultSupportedPaymentMethods,details:e.details,options:e.options},function(e){var r=e[0],a=e[1];r?o(t._formatTokenizationError(r)):(i.sendEvent(t._client,"payment-request.tokenize.succeeded"),n({nonce:a.nonce,type:a.type,description:a.description,details:{rawPaymentResponse:a.details.rawPaymentResponse,cardType:a.details.cardType,lastFour:a.details.lastFour,lastTwo:a.details.lastTwo},binData:a.binData}))})})},A.prototype.canMakePayment=function(e){var t,o=this;return n.PaymentRequest?e.supportedPaymentMethods&&(e.supportedPaymentMethods.forEach(function(e){var n=e.supportedMethods;n in f.SUPPORTED_METHODS||(t=n)}),t)?p.reject(new m({type:E.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:E.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:t+" is not a supported payment method."})):new p(function(t,n){o._bus.emit(h.CAN_MAKE_PAYMENT,{supportedPaymentMethods:e.supportedPaymentMethods||o._defaultSupportedPaymentMethods,details:e.details,options:e.options},function(e){var r=e[0],a=e[1];r?n(o._formatCanMakePaymentError(r)):(i.sendEvent(o._client,"payment-request.can-make-payment."+a),t(a))})}):(i.sendEvent(o._client,"payment-request.can-make-payment.not-available"),p.resolve(!1))},A.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),a(this,d(A.prototype)),i.sendEvent(this._client,"payment-request.teardown-completed"),p.resolve()},A.prototype._formatTokenizationError=function(e){var t;switch(e.name){case"AbortError":return t=new m({type:E.PAYMENT_REQUEST_CANCELED.type,code:E.PAYMENT_REQUEST_CANCELED.code,message:E.PAYMENT_REQUEST_CANCELED.message,details:{originalError:e}}),i.sendEvent(this._client,"payment-request.tokenize.canceled"),t;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":t=new m({type:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":t=new m({type:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":t=new m({type:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:E.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:e}});break;default:t=new m({code:E.PAYMENT_REQUEST_NOT_COMPLETED.code,type:e.type||m.types.CUSTOMER,message:E.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:e}})}return i.sendEvent(this._client,"payment-request.tokenize.failed"),t},A.prototype._formatCanMakePaymentError=function(e){var t;switch(e.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":t=new m({type:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:E.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"NotAllowedError":t=new m({type:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:e}});break;default:t=new m({code:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:E.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:e}})}return i.sendEvent(this._client,"payment-request.can-make-payment.failed"),t},t.exports=b.wrapPrototype(A)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/assign":94,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/convert-methods-to-error":103,"../../lib/generate-google-pay-configuration":124,"../../lib/methods":129,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"../shared/constants":148,"@braintree/event-emitter":21,"@braintree/iframer":22,"@braintree/wrap-promise":29}],147:[function(e,t,n){"use strict";var i=e("./external/payment-request"),o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("@braintree/wrap-promise");t.exports={create:l(function(e){var t="Payment Request";return o.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})}).then(function(t){return e.client=t,new i(e).initialize()})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./external/payment-request":146,"@braintree/wrap-promise":29}],148:[function(e,t,n){"use strict";var i=e("../../lib/enumerate"),o=e("./errors"),r={};r.events=i(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),r.errors=o,r.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},t.exports=r},{"../../lib/enumerate":110,"./errors":149}],149:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:i.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:i.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:i.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:i.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":97}],150:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:i.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:i.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:i.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:i.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:i.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":97}],151:[function(e,t,n){"use strict";var i=e("../lib/basic-component-verification"),o=e("@braintree/wrap-promise"),r=e("./paypal-checkout");t.exports={create:o(function(e){return i.verify({name:"PayPal Checkout",client:e.client,authorization:e.authorization}).then(function(){return new r(e)._initialize(e)})}),isSupported:function(){return!0},VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"./paypal-checkout":152,"@braintree/wrap-promise":29}],152:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("../lib/promise"),l=e("@braintree/wrap-promise"),s=e("../lib/braintree-error"),c=e("../lib/convert-to-braintree-error"),u=e("./errors"),d=e("../paypal/shared/constants"),p=e("../lib/methods"),_=e("../lib/convert-methods-to-error");function m(e){this._merchantAccountId=e.merchantAccountId}m.prototype._initialize=function(e){return this._clientPromise=o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:"PayPal Checkout"}).then((function(e){return this._configuration=e.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new s(u.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new s(u.PAYPAL_NOT_ENABLED)),this._setupError?a.reject(this._setupError):(i.sendEvent(e,"paypal-checkout.initialized"),e)}).bind(this)),e.client?this._clientPromise.then((function(){return this}).bind(this)):a.resolve(this)},m.prototype.createPayment=function(e){var t,n=this;return e&&d.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(t="paypal_hermes/"+d.FLOW_ENDPOINTS[e.flow],i.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),!0===e.offerCredit&&i.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(i){return i.request({endpoint:t,method:"post",data:n._formatPaymentResourceData(e)})}).then(function(t){return"checkout"===e.flow?t.paymentResource.redirectUrl.match(/EC-\w+/)[0]:t.agreementSetup.tokenId}).catch(function(e){return a.reject(n._setupError?n._setupError:422===(e.details&&e.details.httpStatus)?new s({type:u.PAYPAL_INVALID_PAYMENT_OPTION.type,code:u.PAYPAL_INVALID_PAYMENT_OPTION.code,message:u.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}):c(e,{type:u.PAYPAL_FLOW_FAILED.type,code:u.PAYPAL_FLOW_FAILED.code,message:u.PAYPAL_FLOW_FAILED.message}))})):a.reject(new s(u.PAYPAL_FLOW_OPTION_REQUIRED))},m.prototype.tokenizePayment=function(e){var t,n=this,o={flow:e.billingToken?"vault":"checkout",intent:e.intent},r={ecToken:e.paymentToken,billingToken:e.billingToken,payerId:e.payerID,paymentId:e.paymentID};return i.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(e){return e.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:n._formatTokenizeData(o,r)})}).then(function(e){return t=n._formatTokenizePayload(e),i.sendEvent(n._clientPromise,"paypal-checkout.tokenization.success"),t.creditFinancingOffered&&i.sendEvent(n._clientPromise,"paypal-checkout.credit.accepted"),t}).catch(function(e){return n._setupError?a.reject(n._setupError):(i.sendEvent(n._clientPromise,"paypal-checkout.tokenization.failed"),a.reject(c(e,{type:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},m.prototype._formatPaymentResourceData=function(e){var t,n=e.intent,i={returnUrl:"https://www.paypal.com/checkoutnow/error",cancelUrl:"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===e.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:e.displayName||this._configuration.gatewayConfiguration.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if("checkout"===e.flow)for(t in i.amount=e.amount,i.currencyIsoCode=e.currency,n&&("capture"===n&&(n="sale"),i.intent=n),e.hasOwnProperty("lineItems")&&(i.lineItems=e.lineItems),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(i[t]=e.shippingAddressOverride[t]);else i.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(i.description=e.billingAgreementDescription);return i},m.prototype._formatTokenizeData=function(e,t){var n=this._configuration,i=n.gatewayConfiguration,o={paypalAccount:{correlationId:t.billingToken||t.ecToken,options:{validate:"vault"===e.flow&&!("TOKENIZATION_KEY"===n.authorizationType)}}};return t.billingToken?o.paypalAccount.billingAgreementToken=t.billingToken:(o.paypalAccount.paymentToken=t.paymentId,o.paypalAccount.payerId=t.payerId,o.paypalAccount.unilateral=i.paypal.unvettedMerchant,e.intent&&(o.paypalAccount.intent=e.intent)),this._merchantAccountId&&(o.merchantAccountId=this._merchantAccountId),o},m.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),t},m.prototype.teardown=function(){return _(this,p(m.prototype)),a.resolve()},t.exports=l.wrapPrototype(m)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/convert-to-braintree-error":104,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/methods":129,"../lib/promise":132,"../paypal/shared/constants":155,"./errors":150,"@braintree/wrap-promise":29}],153:[function(e,t,n){(function(n){"use strict";var i=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),r=e("../../lib/convert-to-braintree-error"),a=e("../../lib/use-min"),l=e("../../lib/once"),s="3.54.1",c=e("../shared/constants"),u=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,d=e("../../lib/analytics"),p=e("../../lib/methods"),_=e("../../lib/deferred"),m=e("../shared/errors"),f=e("../../lib/convert-methods-to-error"),h=e("../../lib/querystring"),E=e("../../lib/promise"),b=e("@braintree/wrap-promise");function y(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+s,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+a(this._isDebug)+".html",this._authorizationInProgress=!1}y.prototype._initialize=function(){var e=this,t=this._client,n=setTimeout(function(){d.sendEvent(t,"paypal.load.timed-out")},u);return new E(function(o){i.create({name:c.LANDING_FRAME_NAME,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+a(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},function(i){e._frameService=i,clearTimeout(n),d.sendEvent(t,"paypal.load.succeeded"),o(e)})})},y.prototype.tokenize=function(e,t){var i,r,a=this,s=this._client;return t&&(t=l(_(t))),e&&c.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(i=new E(function(t,i){a._authorizationInProgress?(d.sendEvent(s,"paypal.tokenization.error.already-opened"),i(new o(m.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(a._authorizationInProgress=!0,n.popupBridge||d.sendEvent(s,"paypal.tokenization.opened"),!0===e.offerCredit&&d.sendEvent(s,"paypal.credit.offered"),a._navigateFrameToAuth(e).catch(i),a._frameService.open({},a._createFrameServiceCallback(e,t,i)))}),t?(i.then(function(e){t(null,e)}).catch(t),this._frameService.createHandler({beforeClose:function(){d.sendEvent(s,"paypal.tokenization.closed.by-merchant")}})):i):(r=new o(m.PAYPAL_FLOW_OPTION_REQUIRED),t?(t(r),this._frameService.createNoopHandler()):E.reject(r))},y.prototype._createFrameServiceCallback=function(e,t,i){var r=this,a=this._client;return n.popupBridge?function(n,l){var s=l&&l.path&&"/cancel"===l.path.substring(0,7);r._authorizationInProgress=!1,n||s?(d.sendEvent(a,"paypal.tokenization.closed-popupbridge.by-user"),i(new o(m.PAYPAL_POPUP_CLOSED))):l&&r._tokenizePayPal(e,l.queryItems).then(t).catch(i)}:function(n,l){r._authorizationInProgress=!1,n?"FRAME_SERVICE_FRAME_CLOSED"===n.code?(d.sendEvent(a,"paypal.tokenization.closed.by-user"),i(new o(m.PAYPAL_POPUP_CLOSED))):n.code&&n.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&i(new o({code:m.PAYPAL_POPUP_OPEN_FAILED.code,type:m.PAYPAL_POPUP_OPEN_FAILED.type,message:m.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:n}})):l&&r._tokenizePayPal(e,l).then(t).catch(i)}},y.prototype._tokenizePayPal=function(e,t){var i=this,o=this._client;return n.popupBridge||this._frameService.redirect(this._loadingFrameUrl),o.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,t)}).then(function(e){var t=i._formatTokenizePayload(e);return d.sendEvent(o,n.popupBridge?"paypal.tokenization.success-popupbridge":"paypal.tokenization.success"),t.creditFinancingOffered&&d.sendEvent(o,"paypal.credit.accepted"),i._frameService.close(),t}).catch(function(e){return d.sendEvent(o,n.popupBridge?"paypal.tokenization.failed-popupbridge":"paypal.tokenization.failed"),i._frameService.close(),E.reject(r(e,{type:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))})},y.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),t},y.prototype._formatTokenizeData=function(e,t){var n=this._client.getConfiguration(),i=n.gatewayConfiguration,o={paypalAccount:{correlationId:t.ba_token||t.token,options:{validate:"vault"===e.flow&&!("TOKENIZATION_KEY"===n.authorizationType)}}};return t.ba_token?o.paypalAccount.billingAgreementToken=t.ba_token:(o.paypalAccount.paymentToken=t.paymentId,o.paypalAccount.payerId=t.PayerID,o.paypalAccount.unilateral=i.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(o.paypalAccount.intent=e.intent)),o},y.prototype._navigateFrameToAuth=function(e){var t=this,i=this._client;return i.request({endpoint:"paypal_hermes/"+c.FLOW_ENDPOINTS[e.flow],method:"post",data:this._formatPaymentResourceData(e)}).then(function(o){var r;r="checkout"===e.flow?o.paymentResource.redirectUrl:o.agreementSetup.approvalUrl,"commit"===e.useraction&&(r=h.queryify(r,{useraction:"commit"})),n.popupBridge&&d.sendEvent(i,"paypal.tokenization.opened-popupbridge"),t._frameService.redirect(r)}).catch(function(e){var n=e.details&&e.details.httpStatus;return t._frameService.close(),t._authorizationInProgress=!1,E.reject(422===n?new o({type:m.PAYPAL_INVALID_PAYMENT_OPTION.type,code:m.PAYPAL_INVALID_PAYMENT_OPTION.code,message:m.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}):r(e,{type:m.PAYPAL_FLOW_FAILED.type,code:m.PAYPAL_FLOW_FAILED.code,message:m.PAYPAL_FLOW_FAILED.message}))})},y.prototype._formatPaymentResourceData=function(e){var t,i=this._client.getConfiguration().gatewayConfiguration,o=this._frameService._serviceId,r={returnUrl:i.paypal.assetsUrl+"/web/"+s+"/html/paypal-redirect-frame"+a(this._isDebug)+".html?channel="+o,cancelUrl:i.paypal.assetsUrl+"/web/"+s+"/html/paypal-cancel-frame"+a(this._isDebug)+".html?channel="+o,offerPaypalCredit:!0===e.offerCredit,experienceProfile:{brandName:e.displayName||i.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if(n.popupBridge&&"function"==typeof n.popupBridge.getReturnUrlPrefix&&(r.returnUrl=n.popupBridge.getReturnUrlPrefix()+"return",r.cancelUrl=n.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===e.flow)for(t in r.amount=e.amount,r.currencyIsoCode=e.currency,e.hasOwnProperty("intent")&&(r.intent=e.intent),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(r[t]=e.shippingAddressOverride[t]);else r.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(r.description=e.billingAgreementDescription);return r},y.prototype.closeWindow=function(){this._authorizationInProgress&&d.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},y.prototype.focusWindow=function(){this._frameService.focus()},y.prototype.teardown=b(function(){return this._frameService.teardown(),f(this,p(y.prototype)),d.sendEvent(this._client,"paypal.teardown-completed"),E.resolve()}),t.exports=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/deferred":108,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/once":130,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/constants":155,"../shared/errors":156,"@braintree/wrap-promise":29}],154:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("../lib/braintree-error"),s=e("./shared/errors"),c=e("./external/paypal"),u=e("@braintree/wrap-promise"),d=e("../lib/promise");t.exports={create:u(function(e){return o.verify({name:"PayPal",client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"PayPal"})}).then(function(t){var n=t.getConfiguration();return e.client=t,!0!==n.gatewayConfiguration.paypalEnabled?d.reject(new l(s.PAYPAL_NOT_ENABLED)):(i.sendEvent(e.client,"paypal.initialized"),new c(e)._initialize())})}),isSupported:function(){return!0},VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/paypal":153,"./shared/errors":156,"@braintree/wrap-promise":29}],155:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],156:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:i.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:i.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:i.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:i.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:i.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:i.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:i.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":97}],157:[function(e,t,n){"use strict";var i=e("../../../lib/assign").assign,o=e("../../../lib/analytics"),r=e("../../../lib/braintree-error"),a=e("../../../lib/promise"),l=e("../../../lib/promise-plus"),s=e("@braintree/event-emitter"),c=e("../../shared/errors"),u="3.54.1";function d(e){s.call(this),this._client=e.client,this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+u}s.createChild(d),d.prototype.setUpEventListeners=function(){throw new r(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype.verifyCard=function(e,t){var n,i,r=this;return(i=this._checkForVerifyCardError(e,t=t||{}))?a.reject(i):(this._verifyCardInProgress=!0,n=this._formatVerifyCardOptions(e),this._formatLookupData(n).then(function(e){return o.sendEvent(r._client,"three-d-secure.verification-flow.started"),r._performLookup(n.nonce,e)}).then(function(e){return o.sendEvent(r._client,"three-d-secure.verification-flow.3ds-version."+e.lookup.threeDSecureVersion),r._onLookupComplete(e,n)}).then(function(e){return r.initializeChallengeWithLookupResponse(e,n)}).then(function(e){return r._resetVerificationState(),o.sendEvent(r._client,"three-d-secure.verification-flow.completed"),e}).catch(function(e){return r._resetVerificationState(),o.sendEvent(r._client,"three-d-secure.verification-flow.failed"),a.reject(e)}))},d.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new r(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype._presentChallenge=function(){throw new r(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype.prepareLookup=function(){throw new r(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},d.prototype._performLookup=function(e,t){var n=this;return this._client.request({endpoint:"payment_methods/"+e+"/three_d_secure/lookup",method:"post",data:t}).catch(function(e){var t,i=e&&e.details&&e.details.httpStatus,l="three-d-secure.verification-flow.lookup-failed";return 404===i?(t=c.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,l+=".404"):422===i?(t=c.THREEDS_LOOKUP_VALIDATION_ERROR,l+=".422"):t=c.THREEDS_LOOKUP_ERROR,o.sendEvent(n._client,l),a.reject(new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}}))})},d.prototype._checkForVerifyCardError=function(e,t){var n;return!0===this._verifyCardInProgress?new r(c.THREEDS_AUTHENTICATION_IN_PROGRESS):(e.nonce?e.amount||(n="an amount"):n="a nonce",n||(n=this._checkForFrameworkSpecificVerifyCardErrors(e,t)),n?new r({type:c.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:c.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+n+"."}):null)},d.prototype.initializeChallengeWithLookupResponse=function(e,t){var n=this;return t=t||{},this._lookupPaymentMethod=e.paymentMethod,n._verifyCardPromisePlus=n._verifyCardPromisePlus||l(),n._handleLookupResponse(e,t),n._verifyCardPromisePlus.then(function(e){return o.sendEvent(n._client,"three-d-secure.verification-flow.liability-shifted."+String(e.liabilityShifted)),o.sendEvent(n._client,"three-d-secure.verification-flow.liability-shift-possible."+String(e.liabilityShiftPossible)),e})},d.prototype._handleLookupResponse=function(e,t){var n,i=Boolean(e.lookup&&e.lookup.acsUrl);o.sendEvent(this._client,"three-d-secure.verification-flow.challenge-presented."+String(i)),i?this._presentChallenge(e,t):((n=this._formatAuthResponse(e.paymentMethod,e.threeDSecureInfo)).verificationDetails=e.threeDSecureInfo,this._verifyCardPromisePlus.resolve(n))},d.prototype._onLookupComplete=function(e){return this._lookupPaymentMethod=e.paymentMethod,this._verifyCardPromisePlus=l(),a.resolve(e)},d.prototype._formatAuthResponse=function(e,t){return{nonce:e.nonce,binData:e.binData,details:e.details,description:e.description&&e.description.replace(/\+/g," "),liabilityShifted:t&&t.liabilityShifted,liabilityShiftPossible:t&&t.liabilityShiftPossible,threeDSecureInfo:e.threeDSecureInfo}},d.prototype._formatVerifyCardOptions=function(e){return i({},e)},d.prototype._formatLookupData=function(e){return a.resolve({amount:e.amount})},d.prototype.cancelVerifyCard=function(){var e,t;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(e=i({},this._lookupPaymentMethod,{liabilityShiftPossible:(t=this._lookupPaymentMethod.threeDSecureInfo)&&t.liabilityShiftPossible,liabilityShifted:t&&t.liabilityShifted,verificationDetails:t&&t.verificationDetails}),a.resolve(e)):a.reject(new r(c.THREEDS_NO_VERIFICATION_PAYLOAD))},d.prototype.teardown=function(){return o.sendEvent(this._client,"three-d-secure.teardown-completed"),a.resolve()},t.exports=d},{"../../../lib/analytics":92,"../../../lib/assign":94,"../../../lib/braintree-error":97,"../../../lib/promise":132,"../../../lib/promise-plus":131,"../../shared/errors":167,"@braintree/event-emitter":21}],158:[function(e,t,n){"use strict";var i=e("./songbird");function o(e){i.call(this,e)}(o.prototype=Object.create(i.prototype,{constructor:i}))._createCardinalConfigurationOptions=function(e){var t=i.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment={framework:"bootstrap3"},t},t.exports=o},{"./songbird":163}],159:[function(e,t,n){"use strict";var i=e("./songbird");function o(e){i.call(this,e)}o.prototype=Object.create(i.prototype,{constructor:i}),t.exports=o},{"./songbird":163}],160:[function(e,t,n){"use strict";var i=e("./legacy"),o=e("./cardinal-modal"),r=e("./bootstrap3-modal"),a=e("./inline-iframe");t.exports={legacy:i,"cardinal-modal":o,"bootstrap3-modal":r,"inline-iframe":a}},{"./bootstrap3-modal":158,"./cardinal-modal":159,"./inline-iframe":161,"./legacy":162}],161:[function(e,t,n){"use strict";var i=e("./songbird"),o=e("../../../lib/braintree-error"),r=e("../../shared/errors"),a=e("../../../lib/enumerate");function l(e){i.call(this,e)}l.prototype=Object.create(i.prototype,{constructor:i}),l.events=a(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),l.prototype.setUpEventListeners=function(e){i.prototype.setUpEventListeners.call(this,e),this.on(l.events.AUTHENTICATION_IFRAME_AVAILABLE,function(t,n){e("authentication-iframe-available",t,n)})},l.prototype._createCardinalConfigurationOptions=function(e){var t=i.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment={framework:"inline"},t},l.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},l.prototype._onInlineSetup=function(e,t,n,i){var a,s;e&&t?"CCA"!==t.paymentType?s=!0:"suppress"!==t.data.mode&&"static"!==t.data.mode&&(s=!0):s=!0,s?i(new o(r.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT)):((a=document.createElement("div")).innerHTML=e,"suppress"===t.data.mode?(a.style.display="none",document.body.appendChild(a),n()):"static"===t.data.mode&&this._emit(l.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:a},function(){n()}))},t.exports=l},{"../../../lib/braintree-error":97,"../../../lib/enumerate":110,"../../shared/errors":167,"./songbird":163}],162:[function(e,t,n){(function(n){"use strict";var i=e("./base"),o=e("../../../lib/braintree-error"),r=e("@braintree/iframer"),a=e("../../../lib/deferred"),l=e("../../../lib/bus"),s=e("../../../lib/vendor/uuid"),c=e("../../shared/constants"),u=e("../../../lib/use-min"),d=e("../../shared/events");function p(e){i.call(this,e)}(p.prototype=Object.create(i.prototype,{constructor:p})).setUpEventListeners=function(){},p.prototype.teardown=function(){return this._bus&&this._bus.teardown(),this._bankIframe&&this._bankIframe.parentNode&&this._bankIframe.parentNode.removeChild(this._bankIframe),i.prototype.teardown.call(this)},p.prototype.transformV1CustomerBillingAddress=function(e){return e.billingAddress.line1=e.billingAddress.streetAddress,e.billingAddress.line2=e.billingAddress.extendedAddress,e.billingAddress.city=e.billingAddress.locality,e.billingAddress.state=e.billingAddress.region,e.billingAddress.countryCode=e.billingAddress.countryCodeAlpha2,delete e.billingAddress.streetAddress,delete e.billingAddress.extendedAddress,delete e.billingAddress.locality,delete e.billingAddress.region,delete e.billingAddress.countryCodeAlpha2,e},p.prototype._createIframe=function(e){var t,i=n.location.href,o=e.response;return i.indexOf("#")>-1&&(i=i.split("#")[0]),this._setupBusForIframe(i,o,e),t=this._assetsUrl+"/html/three-d-secure-bank-frame"+u(this._isDebug)+".html?showLoader="+e.showLoader,this._bankIframe=r({src:t,height:400,width:400,name:c.LANDING_FRAME_NAME+"_"+this._bus.channel,title:"3D Secure Authorization Frame"}),this._bankIframe},p.prototype._setupBusForIframe=function(e,t,i){var o;this._bus=new l({channel:s(),merchantUrl:n.location.href}),o=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(this._bus.channel)+"&",this._bus.on(l.events.CONFIGURATION_REQUEST,function(n){n({acsUrl:t.acsUrl,pareq:t.pareq,termUrl:t.termUrl+"&three_d_secure_version=3.54.1&authentication_complete_base_url="+encodeURIComponent(o),md:t.md,parentUrl:e})}),this._bus.on(d.AUTHENTICATION_COMPLETE,(function(e){this._handleAuthResponse(e,i)}).bind(this))},p.prototype._handleAuthResponse=function(e,t){var n=JSON.parse(e.auth_response);this._bus.teardown(),t.removeFrame(),a((function(){n.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(n.paymentMethod,n.threeDSecureInfo)):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,n.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new o({type:o.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:n.error.message}))}).bind(this))()},p.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e){var t;return"function"!=typeof e.addFrame?t="an addFrame function":"function"!=typeof e.removeFrame&&(t="a removeFrame function"),t},p.prototype._formatVerifyCardOptions=function(e){var t=i.prototype._formatVerifyCardOptions.call(this,e);return t.addFrame=a(e.addFrame),t.removeFrame=a(e.removeFrame),t.showLoader=!1!==e.showLoader,t},p.prototype._formatLookupData=function(e){var t=this;return i.prototype._formatLookupData.call(this,e).then(function(n){return e.customer&&e.customer.billingAddress&&(n.customer=t.transformV1CustomerBillingAddress(e.customer)),n})},p.prototype._presentChallenge=function(e,t){t.addFrame(null,this._createIframe({showLoader:t.showLoader,response:e.lookup,removeFrame:t.removeFrame}))},t.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/braintree-error":97,"../../../lib/bus":100,"../../../lib/deferred":108,"../../../lib/use-min":134,"../../../lib/vendor/uuid":136,"../../shared/constants":166,"../../shared/events":168,"./base":157,"@braintree/iframer":22}],163:[function(e,t,n){(function(n){"use strict";var i=e("./base"),o=e("../../../lib/assign").assign,r=e("../../../lib/deferred"),a=e("../../../lib/braintree-error"),l=e("../../../lib/convert-to-braintree-error"),s=e("../../../lib/analytics"),c=e("../../../lib/assets"),u=e("../../shared/errors"),d=e("../../../lib/enumerate"),p=e("../../shared/constants"),_=e("../../../lib/promise"),m=e("../../../lib/promise-plus"),f=e("../../../lib/constants").INTEGRATION_TIMEOUT_MS,h=e("../../../lib/constants").PLATFORM,E="3.54.1";function b(e){i.call(this,e),this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:h+"/"+E},this._getDfReferenceIdPromisePlus=m(),this.setupSongbird({loggingEnabled:e.loggingEnabled}),this._cardinalEvents=[]}function y(e,t,n){t[n+"Line1"]=e.streetAddress,t[n+"Line2"]=e.extendedAddress,t[n+"Line3"]=e.line3,t[n+"City"]=e.locality,t[n+"State"]=e.region,t[n+"PostalCode"]=e.postalCode,t[n+"CountryCode"]=e.countryCodeAlpha2}b.prototype=Object.create(i.prototype,{constructor:b}),b.events=d(["ON_LOOKUP_COMPLETE"],"songbird-framework:"),b.prototype.setUpEventListeners=function(e){this.on(b.events.ON_LOOKUP_COMPLETE,function(t,n){e("lookup-complete",t,n)})},b.prototype.prepareLookup=function(e){var t=o({},e),n=this;return this.getDfReferenceId().then(function(e){t.dfReferenceId=e}).then(function(){return n._triggerCardinalBinProcess(e.bin)}).catch(function(){}).then(function(){return t.clientMetadata=n._clientMetadata,t.authorizationFingerprint=n._client.getConfiguration().authorizationFingerprint,t.braintreeLibraryVersion="braintree/web/"+E,t})},b.prototype.initializeChallengeWithLookupResponse=function(e,t){return this.setupSongbird().then((function(){return i.prototype.initializeChallengeWithLookupResponse.call(this,e,t)}).bind(this))},b.prototype._triggerCardinalBinProcess=function(e){var t=this,i=Date.now();return e?n.Cardinal.trigger("bin.process",e).then(function(e){t._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-i,t._clientMetadata.issuerDeviceDataCollectionResult=e&&e.Status}):_.resolve()},b.prototype.transformBillingAddress=function(e,t){return t&&(y(t,e,"billing"),e.billingPhoneNumber=t.phoneNumber,e.billingGivenName=t.givenName,e.billingSurname=t.surname),e},b.prototype.transformShippingAddress=function(e){var t=e.shippingAddress;return t&&(y(t,e,"shipping"),delete e.shippingAddress),e},b.prototype.setupSongbird=function(e){var t=this,i=Date.now();return this._songbirdPromise?this._songbirdPromise:(e=e||{},this._songbirdPromise=new _(function(o,r){t._loadCardinalScript(r,e).then(function(){return t._configureCardinalSdk({resolveSongbird:o,setupOptions:e,setupStartTime:i})}).catch(function(e){var i=l(e,{type:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});t._getDfReferenceIdPromisePlus.reject(i),n.clearTimeout(t._songbirdSetupTimeoutReference),s.sendEvent(t._client,"three-d-secure.cardinal-sdk.init.setup-failed"),r(i)})}),this._songbirdPromise)},b.prototype._configureCardinalSdk=function(e){var t=this._client.getConfiguration().gatewayConfiguration.threeDSecure.cardinalAuthenticationJWT,i=e.resolveSongbird,o=e.setupStartTime,r=this._createCardinalConfigurationOptions(e.setupOptions);this.setCardinalListener("payments.setupComplete",this._createPaymentsSetupCompleteCallback(i)),this._setupFrameworkSpecificListeners(),n.Cardinal.configure(r),n.Cardinal.setup("init",{jwt:t}),this._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-o,this.setCardinalListener("payments.validated",this._createPaymentsValidatedCallback())},b.prototype.setCardinalListener=function(e,t){this._cardinalEvents.push(e),n.Cardinal.on(e,t)},b.prototype._setupFrameworkSpecificListeners=function(){},b.prototype._createCardinalConfigurationOptions=function(e){var t={};return e.loggingEnabled&&(t.logging={level:"verbose"}),t},b.prototype._loadCardinalScript=function(e,t){var i=this,o=p.CARDINAL_SCRIPT_SOURCE.sandbox,r="production"===this._client.getConfiguration().gatewayConfiguration.environment;return this._songbirdSetupTimeoutReference=n.setTimeout(function(){s.sendEvent(i._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),e(new a(u.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT))},t.timeout||f),r&&(o=p.CARDINAL_SCRIPT_SOURCE.production),c.loadScript({src:o}).catch(function(e){return _.reject(l(e,u.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},b.prototype._createPaymentsSetupCompleteCallback=function(e){var t=this;return function(i){t._getDfReferenceIdPromisePlus.resolve(i.sessionId),n.clearTimeout(t._songbirdSetupTimeoutReference),s.sendEvent(t._client,"three-d-secure.cardinal-sdk.init.setup-completed"),e()}},b.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},b.prototype._performJWTValidation=function(e){var t=this._lookupPaymentMethod.nonce,n="payment_methods/"+t+"/three_d_secure/authenticate_from_jwt",i=this;return s.sendEvent(i._client,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._client.request({method:"post",endpoint:n,data:{jwt:e,paymentMethodNonce:t}}).then(function(e){var t=i._formatAuthResponse(e.paymentMethod||i._lookupPaymentMethod,e.threeDSecureInfo);return s.sendEvent(i._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),_.resolve(t)}).catch(function(e){var t=new a({type:u.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:u.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:u.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:e}});return s.sendEvent(i._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),_.reject(t)})},b.prototype._createPaymentsValidatedCallback=function(){var e=this;return function(t,n){var i;switch(s.sendEvent(e._client,"three-d-secure.verification-flow.cardinal-sdk.action-code."+t.ActionCode.toLowerCase()),t.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":e._performJWTValidation(n).then(e._verifyCardPromisePlus.resolve).catch(e._verifyCardPromisePlus.reject);break;case"ERROR":switch(t.ErrorNumber){case 10001:case 10002:i=new a(u.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:i=new a(u.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:i=new a(u.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:i=new a(u.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:s.sendEvent(e._client,"three-d-secure.verification-flow.canceled"),i=new a(u.THREEDS_CARDINAL_SDK_CANCELED);break;default:i=new a(u.THREEDS_CARDINAL_SDK_ERROR)}i.details={originalError:{code:t.ErrorNumber,description:t.ErrorDescription}},e._verifyCardPromisePlus?e._verifyCardPromisePlus.reject(i):e._verifyCardBlockingError=i}}},b.prototype._checkForVerifyCardError=function(e,t){return this._verifyCardBlockingError?this._verifyCardBlockingError:i.prototype._checkForVerifyCardError.call(this,e,t)},b.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e,t){var n;return"function"==typeof e.onLookupComplete||t.ignoreOnLookupCompleteRequirement||(n="an onLookupComplete function"),n},b.prototype._formatVerifyCardOptions=function(e){var t=i.prototype._formatVerifyCardOptions.call(this,e),n=t.additionalInformation||{};return n=this.transformBillingAddress(n,e.billingAddress),n=this.transformShippingAddress(n),e.onLookupComplete&&(t.onLookupComplete=r(e.onLookupComplete)),e.email&&(n.email=e.email),e.mobilePhoneNumber&&(n.mobilePhoneNumber=e.mobilePhoneNumber),t.additionalInformation=n,t},b.prototype._onLookupComplete=function(e,t){var n=this;return i.prototype._onLookupComplete.call(this,e).then(function(e){return new _(function(i,o){function r(){i(e)}e.requiresUserAuthentication=Boolean(e.lookup&&e.lookup.acsUrl),n._verifyCardPromisePlus.catch(o),t.onLookupComplete?t.onLookupComplete(e,r):n._emit(b.events.ON_LOOKUP_COMPLETE,e,r)})})},b.prototype._presentChallenge=function(e){n.Cardinal.continue("cca",{AcsUrl:e.lookup.acsUrl,Payload:e.lookup.pareq},{OrderDetails:{TransactionId:e.lookup.transactionId}})},b.prototype._formatLookupData=function(e){var t=this;return i.prototype._formatLookupData.call(this,e).then(function(n){return n.additionalInfo=e.additionalInformation,e.challengeRequested&&(n.challengeRequested=e.challengeRequested),e.exemptionRequested&&(n.exemptionRequested=e.exemptionRequested),e.bin&&(n.bin=e.bin),t.prepareLookup(n)})},b.prototype.cancelVerifyCard=function(){var e=this;return i.prototype.cancelVerifyCard.call(this).then(function(t){return e._verifyCardPromisePlus&&e._verifyCardPromisePlus.reject(new a(u.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT)),t})},b.prototype.teardown=function(){return n.Cardinal&&this._cardinalEvents.forEach(function(e){n.Cardinal.off(e)}),i.prototype.teardown.call(this)},t.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":92,"../../../lib/assets":93,"../../../lib/assign":94,"../../../lib/braintree-error":97,"../../../lib/constants":102,"../../../lib/convert-to-braintree-error":104,"../../../lib/deferred":108,"../../../lib/enumerate":110,"../../../lib/promise":132,"../../../lib/promise-plus":131,"../../shared/constants":166,"../../shared/errors":167,"./base":157}],164:[function(e,t,n){"use strict";var i=e("@braintree/wrap-promise"),o=e("../../lib/methods"),r=e("../../lib/convert-methods-to-error"),a=e("@braintree/event-emitter"),l=e("./frameworks");function s(e){var t=this,n=l[e.framework];a.call(this),this._framework=new n(e),this._framework.setUpEventListeners(function(){t._emit.apply(t,arguments)})}a.createChild(s),s.prototype.verifyCard=function(e){var t;return this.hasListener("lookup-complete")&&(t={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(e,t)},s.prototype.initializeChallengeWithLookupResponse=function(e){return"string"==typeof e&&(e=JSON.parse(e)),this._framework.initializeChallengeWithLookupResponse(e)},s.prototype.prepareLookup=function(e){return this._framework.prepareLookup(e).then(function(e){return JSON.stringify(e)})},s.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},s.prototype.teardown=function(){var e=o(s.prototype).concat(o(a.prototype));return r(this,e),this._framework.teardown()},t.exports=i.wrapPrototype(s)},{"../../lib/convert-methods-to-error":103,"../../lib/methods":129,"./frameworks":160,"@braintree/event-emitter":21,"@braintree/wrap-promise":29}],165:[function(e,t,n){"use strict";var i=e("./external/three-d-secure"),o=e("../lib/is-https").isHTTPS,r=e("../lib/basic-component-verification"),a=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),s=e("../lib/braintree-error"),c=e("../lib/analytics"),u=e("./shared/errors"),d=e("../lib/promise"),p=e("@braintree/wrap-promise");t.exports={create:p(function(e){return r.verify({name:"3D Secure",client:e.client,authorization:e.authorization}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:"3D Secure"})}).then(function(t){var n,r=t.getConfiguration(),a=r.gatewayConfiguration,l=function(e){var t=String(e.version||"");if(!t||"1"===t)return"legacy";switch(t){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new s({code:u.THREEDS_UNRECOGNIZED_VERSION.code,type:u.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+e.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}(e);return e.client=t,a.threeDSecureEnabled||(n=u.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===r.authorizationType&&(n=u.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"===a.environment&&!o()&&(n=u.THREEDS_HTTPS_REQUIRED),"legacy"===l||a.threeDSecure&&a.threeDSecure.cardinalAuthenticationJWT||(c.sendEvent(e.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),n=u.THREEDS_NOT_ENABLED_FOR_V2),n?d.reject(new s(n)):(c.sendEvent(e.client,"three-d-secure.initialized"),new i({client:e.client,framework:l}))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/is-https":126,"../lib/promise":132,"./external/three-d-secure":164,"./shared/errors":167,"@braintree/wrap-promise":29}],166:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],167:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={THREEDS_NOT_ENABLED:{type:i.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:i.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:i.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:i.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:i.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:i.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:i.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:i.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:i.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:i.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:i.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:i.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:i.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:i.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:i.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:i.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:i.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:i.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:i.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:i.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."}}},{"../../lib/braintree-error":97}],168:[function(e,t,n){"use strict";var i=e("../../lib/enumerate");t.exports=i(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":110}],169:[function(e,t,n){"use strict";var i=e("./shared/unionpay"),o=e("../lib/basic-component-verification"),r=e("../lib/braintree-error"),a=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),s=e("../lib/analytics"),c=e("./shared/errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d(function(e){return o.verify({name:"UnionPay",client:e.client,authorization:e.authorization}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:"UnionPay"})}).then(function(t){var n=t.getConfiguration();return e.client=t,n.gatewayConfiguration.unionPay&&!0===n.gatewayConfiguration.unionPay.enabled?(s.sendEvent(e.client,"unionpay.initialized"),new i(e)):u.reject(new r(c.UNIONPAY_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./shared/errors":171,"./shared/unionpay":172,"@braintree/wrap-promise":29}],170:[function(e,t,n){"use strict";var i=e("../../lib/enumerate");t.exports={events:i(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":110}],171:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={UNIONPAY_NOT_ENABLED:{type:i.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:i.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:i.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:i.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:i.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:i.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:i.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:i.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:i.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:i.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:i.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:i.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":97}],172:[function(e,t,n){"use strict";var i=e("../../lib/analytics"),o=e("../../lib/braintree-error"),r=e("../../lib/bus"),a=e("./constants"),l=e("../../lib/use-min"),s=e("../../lib/convert-methods-to-error"),c=e("./errors"),u=a.events,d=e("@braintree/iframer"),p=e("../../lib/methods"),_=e("../../lib/vendor/uuid"),m=e("../../lib/promise"),f=e("@braintree/wrap-promise");function h(e){this._options=e}h.prototype.fetchCapabilities=function(e){var t=this,n=this._options.client,r=e.card?e.card.number:null,a=e.hostedFields;return r&&a?m.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):r?n.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:r}}}).then(function(e){return i.sendEvent(n,"unionpay.capabilities-received"),e}).catch(function(e){var t=e.details&&e.details.httpStatus;return i.sendEvent(n,"unionpay.capabilities-failed"),m.reject(403===t?e:new o({type:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:e}}))}):a?a._bus?t._initializeHostedFields().then(function(){return new m(function(e,n){t._bus.emit(u.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:a},function(t){t.err?n(new o(t.err)):e(t.payload)})})}):m.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):m.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.enroll=function(e){var t,n=this,r=this._options.client,a=e.card,l=e.mobile,s=e.hostedFields;if(!l)return m.reject(new o(c.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(s)return s._bus?a?m.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):new m(function(e,t){n._initializeHostedFields().then(function(){n._bus.emit(u.HOSTED_FIELDS_ENROLL,{hostedFields:s,mobile:l},function(n){n.err?t(new o(n.err)):e(n.payload)})})}):m.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(a&&a.number){if(t={_meta:{source:"unionpay"},unionPayEnrollment:{number:a.number,mobileCountryCode:l.countryCode,mobileNumber:l.number}},a.expirationDate)t.unionPayEnrollment.expirationDate=a.expirationDate;else if(a.expirationMonth||a.expirationYear){if(!a.expirationMonth||!a.expirationYear)return m.reject(new o(c.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));t.unionPayEnrollment.expirationYear=a.expirationYear,t.unionPayEnrollment.expirationMonth=a.expirationMonth}return r.request({method:"post",endpoint:"union_pay_enrollments",data:t}).then(function(e){return i.sendEvent(r,"unionpay.enrollment-succeeded"),{enrollmentId:e.unionPayEnrollmentId,smsCodeRequired:e.smsCodeRequired}}).catch(function(e){var t,n=e.details&&e.details.httpStatus;return 403===n?t=e:n<500?(t=new o(c.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:e}:(t=new o(c.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:e},i.sendEvent(r,"unionpay.enrollment-failed"),m.reject(t)})}return m.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.tokenize=function(e){var t,n=this,r=this._options.client,a=e.card,l=e.hostedFields;return a&&l?m.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):a?(t={_meta:{source:"unionpay"},creditCard:{number:e.card.number,options:{unionPayEnrollment:{id:e.enrollmentId}}}},e.smsCode&&(t.creditCard.options.unionPayEnrollment.smsCode=e.smsCode),a.expirationDate?t.creditCard.expirationDate=a.expirationDate:a.expirationMonth&&a.expirationYear&&(t.creditCard.expirationYear=a.expirationYear,t.creditCard.expirationMonth=a.expirationMonth),e.card.cvv&&(t.creditCard.cvv=e.card.cvv),r.request({method:"post",endpoint:"payment_methods/credit_cards",data:t}).then(function(e){var t=e.creditCards[0];return delete t.consumed,delete t.threeDSecureInfo,i.sendEvent(r,"unionpay.nonce-received"),t}).catch(function(e){var t,n=e.details&&e.details.httpStatus;return i.sendEvent(r,"unionpay.nonce-failed"),403===n?t=e:n<500?(t=new o(c.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:e}:(t=new o(c.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},m.reject(t)})):l?l._bus?new m(function(t,i){n._initializeHostedFields().then(function(){n._bus.emit(u.HOSTED_FIELDS_TOKENIZE,e,function(e){e.err?i(new o(e.err)):t(e.payload)})})}):m.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):m.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),s(this,p(h.prototype)),m.resolve()},h.prototype._initializeHostedFields=function(){var e,t,n=_(),i=this;return this._hostedFieldsInitializePromise?this._hostedFieldsInitializePromise:(this._hostedFieldsInitializePromise=new m(function(o){e=i._options.client.getConfiguration().gatewayConfiguration.assetsUrl,t=i._options.client.getConfiguration().isDebug,i._bus=new r({channel:n,merchantUrl:location.href}),i._hostedFieldsFrame=d({name:a.HOSTED_FIELDS_FRAME_NAME+"_"+n,src:e+"/web/3.54.1/html/unionpay-hosted-fields-frame"+l(t)+".html",height:0,width:0}),i._bus.on(r.events.CONFIGURATION_REQUEST,function(e){e(i._options.client),o()}),document.body.appendChild(i._hostedFieldsFrame)}),this._hostedFieldsInitializePromise)},t.exports=f.wrapPrototype(h)},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/convert-methods-to-error":103,"../../lib/methods":129,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"./constants":170,"./errors":171,"@braintree/iframer":22,"@braintree/wrap-promise":29}],173:[function(e,t,n){"use strict";t.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],174:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:i.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:i.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:i.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:i.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:i.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:i.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:i.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:i.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":97}],175:[function(e,t,n){"use strict";var i=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("./errors"),s=e("./us-bank-account"),c=e("../lib/promise"),u=e("@braintree/wrap-promise");t.exports={create:u(function(e){var t="US Bank Account";return i.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})}).then(function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.usBankAccount?new s(e):c.reject(new o(l.US_BANK_ACCOUNT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":174,"./us-bank-account":176,"@braintree/wrap-promise":29}],176:[function(e,t,n){(function(n){"use strict";var i=e("../lib/braintree-error"),o=e("./constants"),r=e("./errors"),a=e("../lib/errors"),l=e("../lib/analytics"),s=e("../lib/once"),c=e("../lib/convert-methods-to-error"),u=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=A("UsBankAccount"),m=A("UsBankLogin");function f(e){this._client=e.client,this._isTokenizingBankLogin=!1,l.sendEvent(this._client,"usbankaccount.initialized")}function h(e){var t,n=e.details&&e.details.httpStatus;return(t=new i(401===n?a.BRAINTREE_API_ACCESS_RESTRICTED:n<500?r.US_BANK_ACCOUNT_FAILED_TOKENIZATION:r.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},t}function E(e,t){var n=e.data[t].paymentMethod;return{nonce:n.id,details:{},description:"US bank account ending in - "+n.details.last4,type:"us_bank_account"}}function b(e,t){function o(){var i=this.readyState;i&&"loaded"!==i&&"complete"!==i||(e.removeEventListener("error",a),e.removeEventListener("load",o),e.removeEventListener("readystatechange",o),t(null,n.Plaid))}function a(){e.parentNode.removeChild(e),t(new i(r.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}e.addEventListener("error",a),e.addEventListener("load",o),e.addEventListener("readystatechange",o)}function y(e){return{streetAddress:e.streetAddress,extendedAddress:e.extendedAddress,city:e.locality,state:e.region,zipCode:e.postalCode}}function g(e,t){"personal"===t.ownershipType?e.individualOwner={firstName:t.firstName,lastName:t.lastName}:"business"===t.ownershipType&&(e.businessOwner={businessName:t.businessName})}function A(e){return"mutation Tokenize"+e+"($input: Tokenize"+e+"Input!) {  tokenize"+e+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}f.prototype.tokenize=function(e){return(e=e||{}).mandateText?e.bankDetails&&e.bankLogin?d.reject(new i({type:r.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:r.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):e.bankDetails?this._tokenizeBankDetails(e):e.bankLogin?this._tokenizeBankLogin(e):d.reject(new i({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):d.reject(new i({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},f.prototype._tokenizeBankDetails=function(e){var t=this._client,n=e.bankDetails,i={achMandate:e.mandateText,routingNumber:n.routingNumber,accountNumber:n.accountNumber,accountType:n.accountType.toUpperCase(),billingAddress:y(n.billingAddress||{})};return g(i,n),t.request({api:"graphQLApi",data:{query:_,variables:{input:{usBankAccount:i}}}}).then(function(e){return l.sendEvent(t,"usbankaccount.bankdetails.tokenization.succeeded"),d.resolve(E(e,"tokenizeUsBankAccount"))}).catch(function(e){var n=h(e);return l.sendEvent(t,"usbankaccount.bankdetails.tokenization.failed"),d.reject(n)})},f.prototype._tokenizeBankLogin=function(e){var t=this,n=this._client,o=n.getConfiguration().gatewayConfiguration,a="production"===o.environment,s=o.usBankAccount.plaid;return e.bankLogin.displayName?s?this._isTokenizingBankLogin?d.reject(new i(r.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new d(function(o,c){t._loadPlaid(function(u,d){u?c(u):(d.create({clientName:e.bankLogin.displayName,apiVersion:"v2",env:a?"production":"sandbox",key:s.publicKey,product:"auth",selectAccount:!0,onExit:function(){t._isTokenizingBankLogin=!1,l.sendEvent(n,"usbankaccount.banklogin.tokenization.closed.by-user"),c(new i(r.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(i,r){var s=e.bankLogin,u={publicToken:i,accountId:a?r.account_id:"plaid_account_id",accountType:r.account.subtype.toUpperCase(),achMandate:e.mandateText,billingAddress:y(s.billingAddress||{})};g(u,s),n.request({api:"graphQLApi",data:{query:m,variables:{input:{usBankLogin:u}}}}).then(function(e){t._isTokenizingBankLogin=!1,l.sendEvent(n,"usbankaccount.banklogin.tokenization.succeeded"),o(E(e,"tokenizeUsBankLogin"))}).catch(function(e){var i;t._isTokenizingBankLogin=!1,i=h(e),l.sendEvent(n,"usbankaccount.banklogin.tokenization.failed"),c(i)})}}).open(),l.sendEvent(n,"usbankaccount.banklogin.tokenization.started"))})})):d.reject(new i(r.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):d.reject(new i({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},f.prototype._loadPlaid=function(e){var t,i;e=s(e),n.Plaid?e(null,n.Plaid):(t=document.querySelector('script[src="'+o.PLAID_LINK_JS+'"]'))?b(t,e):((i=document.createElement("script")).src=o.PLAID_LINK_JS,i.async=!0,b(i,e),document.body.appendChild(i),this._plaidScript=i)},f.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),c(this,u(f.prototype)),d.resolve()},t.exports=p.wrapPrototype(f)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/errors":111,"../lib/methods":129,"../lib/once":130,"../lib/promise":132,"./constants":173,"./errors":174,"@braintree/wrap-promise":29}],177:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:i.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:i.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:i.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":97}],178:[function(e,t,n){"use strict";var i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("./vault-manager"),l=e("@braintree/wrap-promise");t.exports={create:l(function(e){var t="Vault Manager";return i.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:t})}).then(function(t){return e.client=t,new a(e)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./vault-manager":179,"@braintree/wrap-promise":29}],179:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/braintree-error"),r=e("./errors"),a=e("../lib/convert-methods-to-error"),l=e("../lib/methods"),s=e("../lib/promise"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client}function d(e){var t={nonce:e.nonce,default:e.default,details:e.details,hasSubscription:e.hasSubscription,type:e.type};return e.description&&(t.description=e.description),e.binData&&(t.binData=e.binData),t}u.prototype.fetchPaymentMethods=function(e){return this._client.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:!0===(e=e||{}).defaultFirst?1:0}}).then((function(e){return i.sendEvent(this._client,"vault-manager.fetch-payment-methods.succeeded"),e.paymentMethods.map(d)}).bind(this))},u.prototype.deletePaymentMethod=function(e){var t=this._client;return"CLIENT_TOKEN"===this._client.getConfiguration().authorizationType?this._client.request({api:"graphQLApi",data:{query:"mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}",variables:{input:{singleUseTokenId:e}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then(function(){i.sendEvent(t,"vault-manager.delete-payment-method.succeeded")}).catch(function(n){var a,l=n.details.originalError;return i.sendEvent(t,"vault-manager.delete-payment-method.failed"),l[0]&&"NOT_FOUND"===l[0].extensions.errorClass&&(a=new o({type:r.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:r.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+e+"` could not be found.",details:{originalError:l}})),a||(a=new o({type:r.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:r.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+e+"`.",details:{originalError:l}})),s.reject(a)}):s.reject(new o(r.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))},u.prototype.teardown=function(){return a(this,l(u.prototype)),s.resolve()},t.exports=c.wrapPrototype(u)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":177,"@braintree/wrap-promise":29}],180:[function(e,t,n){"use strict";var i=e("../lib/analytics"),o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("./shared/errors"),s=e("@braintree/wrap-promise"),c=e("../lib/braintree-error"),u=e("./venmo"),d=e("../lib/promise"),p=e("./shared/supports-venmo");t.exports={create:s(function(e){return o.verify({name:"Venmo",client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"Venmo"})}).then(function(t){var n,o=t.getConfiguration();return e.client=t,o.gatewayConfiguration.payWithVenmo?e.profileId&&"string"!=typeof e.profileId?d.reject(new c(l.VENMO_INVALID_PROFILE_ID)):e.deepLinkReturnUrl&&"string"!=typeof e.deepLinkReturnUrl?d.reject(new c(l.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(n=new u(e),i.sendEvent(e.client,"venmo.initialized"),n._initialize()):d.reject(new c(l.VENMO_NOT_ENABLED))})}),isBrowserSupported:function(e){return p.isBrowserSupported(e)},VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./shared/errors":183,"./shared/supports-venmo":184,"./venmo":185,"@braintree/wrap-promise":29}],181:[function(e,t,n){"use strict";var i=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome"),r=e("@braintree/browser-detection/is-ios"),a=e("@braintree/browser-detection/is-ios-safari"),l=e("@braintree/browser-detection/is-samsung"),s=e("@braintree/browser-detection/is-mobile-firefox");t.exports={isAndroid:i,isChrome:o,isIos:r,isIosSafari:a,isSamsungBrowser:l,isMobileFirefox:s}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-safari":13,"@braintree/browser-detection/is-mobile-firefox":17,"@braintree/browser-detection/is-samsung":18}],182:[function(e,t,n){"use strict";t.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,PROCESS_RESULTS_DELAY:1e3,VENMO_OPEN_URL:"https://venmo.com/braintree/checkout"}},{}],183:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={VENMO_NOT_ENABLED:{type:i.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:i.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_APP_FAILED:{type:i.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:i.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:i.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_INVALID_PROFILE_ID:{type:i.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:i.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."}}},{"../../lib/braintree-error":97}],184:[function(e,t,n){"use strict";var i=e("./browser-detection");t.exports={isBrowserSupported:function(e){var t=i.isAndroid()&&i.isChrome(),n=i.isIos()&&i.isChrome(),o=i.isIosSafari()||t,r=n||i.isSamsungBrowser()||i.isMobileFirefox();return e=e||{allowNewBrowserTab:!0},o||e.allowNewBrowserTab&&r}}},{"./browser-detection":181}],185:[function(e,t,n){(function(n){"use strict";var i=e("../lib/analytics"),o=e("./shared/supports-venmo"),r=e("./shared/constants"),a=e("./shared/errors"),l=e("../lib/querystring"),s=e("../lib/methods"),c=e("../lib/convert-methods-to-error"),u=e("@braintree/wrap-promise"),d=e("../lib/braintree-error"),p=e("../lib/promise"),_="3.54.1";function m(e){var t;this._client=e.client,t=this._client.getConfiguration(),this._isDebug=t.isDebug,this._assetsUrl=t.gatewayConfiguration.assetsUrl+"/web/"+_,this._allowNewBrowserTab=!1!==e.allowNewBrowserTab,this._profileId=e.profileId,this._deepLinkReturnUrl=e.deepLinkReturnUrl}function f(){return n.location.hash.substring(1).split("&").reduce(function(e,t){var n=t.split("="),i=decodeURIComponent(n[0]).replace(/\W/g,""),o=decodeURIComponent(n[1]);return e[i]=o,e},{})}function h(){var e;return void 0!==n.document.hidden?e="visibilitychange":void 0!==n.document.msHidden?e="msvisibilitychange":void 0!==n.document.webkitHidden&&(e="webkitvisibilitychange"),e}m.prototype._initialize=function(){var e={},t=this._deepLinkReturnUrl||n.location.href.replace(n.location.hash,""),i=this._client.getConfiguration().gatewayConfiguration.payWithVenmo,o=this._client.getConfiguration().analyticsMetadata,a={_meta:{version:o.sdkVersion,integration:o.integration,platform:o.platform,sessionId:o.sessionId}};return e["x-success"]=t+"#venmoSuccess=1",e["x-cancel"]=t+"#venmoCancel=1",e["x-error"]=t+"#venmoError=1",e.ua=n.navigator.userAgent,e.braintree_merchant_id=this._profileId||i.merchantId,e.braintree_access_token=i.accessToken,e.braintree_environment=i.environment,e.braintree_sdk_data=btoa(JSON.stringify(a)),this._url=r.VENMO_OPEN_URL+"?"+l.stringify(e),p.resolve(this)},m.prototype.isBrowserSupported=function(){return o.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab})},m.prototype.hasTokenizationResult=function(){var e=f();return void 0!==(e.venmoSuccess||e.venmoError||e.venmoCancel)},m.prototype.tokenize=function(){var e=this;return!0===this._tokenizationInProgress?p.reject(new d(a.VENMO_TOKENIZATION_REQUEST_ACTIVE)):this.hasTokenizationResult()?this._processResults():new p(function(t,i){e._tokenizationInProgress=!0,e._previousHash=n.location.hash,e._deepLinkReturnUrl?n.location=e._url:n.open(e._url),e._visibilityChangeListener=function(){n.document.hidden||(e._tokenizationInProgress=!1,setTimeout(function(){e._processResults().then(t).catch(i).then(function(){n.location.hash=e._previousHash,e._removeVisibilityEventListener(),delete e._visibilityChangeListener})},r.PROCESS_RESULTS_DELAY))},setTimeout(function(){n.document.addEventListener(h(),e._visibilityChangeListener)},r.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY)})},m.prototype.teardown=function(){return this._removeVisibilityEventListener(),c(this,s(m.prototype)),p.resolve()},m.prototype._removeVisibilityEventListener=function(){n.document.removeEventListener(h(),this._visibilityChangeListener)},m.prototype._processResults=function(){var e=this,t=f();return new p(function(o,r){var l;t.venmoSuccess?(i.sendEvent(e._client,"venmo.appswitch.handle.success"),o({nonce:(l=t).paymentMethodNonce,type:"VenmoAccount",details:{username:l.username}})):t.venmoError?(i.sendEvent(e._client,"venmo.appswitch.handle.error"),r(new d({type:a.VENMO_APP_FAILED.type,code:a.VENMO_APP_FAILED.code,message:a.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(t.errorMessage),code:t.errorCode}}}))):t.venmoCancel?(i.sendEvent(e._client,"venmo.appswitch.handle.cancel"),r(new d(a.VENMO_APP_CANCELED))):(i.sendEvent(e._client,"venmo.appswitch.cancel-or-unavailable"),r(new d(a.VENMO_CANCELED))),"function"==typeof n.history.replaceState&&n.location.hash&&history.pushState({},"",n.location.href.slice(0,n.location.href.indexOf("#")))})},t.exports=u.wrapPrototype(m)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"../lib/querystring":133,"./shared/constants":182,"./shared/errors":183,"./shared/supports-venmo":184,"@braintree/wrap-promise":29}],186:[function(e,t,n){"use strict";var i=e("../lib/braintree-error");t.exports={VISA_CHECKOUT_NOT_ENABLED:{type:i.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:i.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:i.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:i.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":97}],187:[function(e,t,n){"use strict";var i=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),l=e("./visa-checkout"),s=e("../lib/analytics"),c=e("./errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d(function(e){var t="Visa Checkout";return i.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})}).then(function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.visaCheckout?(s.sendEvent(e.client,"visacheckout.initialized"),new l(e)):u.reject(new o(c.VISA_CHECKOUT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":186,"./visa-checkout":188,"@braintree/wrap-promise":29}],188:[function(e,t,n){"use strict";var i=e("../lib/braintree-error"),o=e("../lib/analytics"),r=e("./errors"),a=e("../lib/json-clone"),l=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),c=e("../lib/promise"),u=e("@braintree/wrap-promise"),d={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function p(e){this._client=e.client}p.prototype.createInitOptions=function(e){var t,n=this._client.getConfiguration().gatewayConfiguration,o=n.visaCheckout;if(!e)throw new i(r.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return(t=a(e)).apikey=t.apikey||o.apikey,t.externalClientId=t.externalClientId||o.externalClientId,t.settings=t.settings||{},t.settings.dataLevel="FULL",t.settings.payment=t.settings.payment||{},t.settings.payment.cardBrands||(t.settings.payment.cardBrands=n.visaCheckout.supportedCardTypes.reduce(function(e,t){return d.hasOwnProperty(t)?e.concat(d[t]):e},[])),t},p.prototype.tokenize=function(e){var t=this;return e.callid&&e.encKey&&e.encPaymentData?this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:e.callid,encryptedPaymentData:e.encPaymentData,encryptedKey:e.encKey}}}).then(function(e){return o.sendEvent(t._client,"visacheckout.tokenize.succeeded"),e.visaCheckoutCards[0]}).catch(function(e){return o.sendEvent(t._client,"visacheckout.tokenize.failed"),c.reject(new i({type:r.VISA_CHECKOUT_TOKENIZATION.type,code:r.VISA_CHECKOUT_TOKENIZATION.code,message:r.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:e}}))}):c.reject(new i(r.VISA_CHECKOUT_PAYMENT_REQUIRED))},p.prototype.teardown=function(){return s(this,l(p.prototype)),c.resolve()},t.exports=u.wrapPrototype(p)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/json-clone":128,"../lib/methods":129,"../lib/promise":132,"./errors":186,"@braintree/wrap-promise":29}]},{},[90])(90)}}]);