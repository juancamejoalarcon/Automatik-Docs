{"version":3,"sources":["webpack:///./src/app/modules/profile/profile-resolver.service.ts","webpack:///./src/app/modules/profile/profile-routing.module.ts","webpack:///./src/app/modules/profile/profile.component.html","webpack:///./src/app/modules/profile/profile.component.ts","webpack:///./src/app/modules/profile/profile.module.ts"],"names":[],"mappings":"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","file":"modules-profile-profile-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { ProfilesService } from '../../core';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable()\nexport class ProfileResolver implements Resolve<any> {\n  constructor(\n    private router: Router,\n    private profilesService: ProfilesService\n  ) {}\n\n  resolve(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<any> {\n\n    return this.profilesService.get(route.params['user'])\n    .pipe(\n      map( data => {\n          return data;\n      }),\n      catchError((err) => this.router.navigateByUrl('/')));\n    }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProfileComponent } from './profile.component';\nimport { ProfileResolver } from './profile-resolver.service';\n\nconst routes: Routes = [\n  {\n    path: ':user',\n    component: ProfileComponent,\n  resolve: {\n    user: ProfileResolver\n  }\n}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProfileRoutingModule { }\n","module.exports = \"<div class=\\\"profile\\\">\\n    <div class=\\\"profile__container\\\">\\n        <div class=\\\"profile__image\\\">\\n            <img src=\\\"{{\\n                user.image === null ? 'assets/images/avatar.jpeg' : user.image\\n            }}\\\" alt=\\\"avatar\\\">\\n        </div>\\n        <div class=\\\"profile__info\\\">\\n            <span class=\\\"profile__info__name\\\">{{ user.username }}</span>\\n            <span class=\\\"profile__info__description\\\" *ngIf=\\\"user.description\\\">\\n                {{ user.description}}\\n            </span>\\n            <span class=\\\"description\\\" *ngIf=\\\"!user.description\\\">\\n                User has not added any description yet.\\n            </span>\\n            <span class=\\\"profile__info__contact\\\" *ngIf=\\\"user.contactInformation\\\">\\n                {{ user.contactInformation }}\\n            </span>\\n            <span class=\\\"profile__info__company-name\\\" *ngIf=\\\"user.companyName\\\">\\n                {{ user.companyName }}\\n            </span>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"search__container\\\">\\n    <div class=\\\"search__button\\\">\\n        <input type=\\\"text\\\" (keyup.enter)=\\\"search(input.value)\\\" #input>\\n    </div>\\n    <div class=\\\"search__orderby\\\">\\n        <div class=\\\"search__orderby__container\\\">\\n            <label for=\\\"orderby\\\">Order by: </label>\\n            <select id=\\\"orderby\\\" autofocus=\\\"true\\\" (change)=\\\"setOrder($event.target.value)\\\">\\n                <option value=\\\"Date\\\">Date</option>\\n                <option value=\\\"Like\\\">Likes</option>\\n            </select>\\n        </div>\\n    </div>\\n    <div class=\\\"search__results\\\">\\n        <div class=\\\"search__results__container\\\">\\n\\n            <div class=\\\"search__results__result\\\" *ngFor=\\\"let form of results\\\">\\n                <div class=\\\"search__results__result__document\\\" [routerLink]=\\\"['/fill-form', form.slug]\\\">\\n                    <div class=\\\"search__results__result__document__container\\\">\\n                        <div class=\\\"search__results__result__document__container__date\\\">\\n                            <span>{{form.updatedAt | date: 'dd/MM/yyyy'}}</span>\\n                        </div>\\n                        <div class=\\\"search__results__result__document__container__title\\\">\\n                            <span>{{ form.title }}</span>\\n                        </div>\\n                        <div class=\\\"search__results__result__document__container__description\\\">\\n                            <span>{{ form.description.substring(0, 136) }}</span>\\n                        </div>\\n                        <div class=\\\"search__results__result__document__container__likes-views\\\">\\n                            <div class=\\\"search__results__result__document__container__likes-views__likes\\\">\\n                                <span class=\\\"icon icon-like-button\\\"></span>\\n                                <span>{{ form.likesCount }}</span>\\n                            </div>\\n                            <div class=\\\"search__results__result__document__container__likes-views__views\\\">\\n                                <span class=\\\"icon icon-eye-solid\\\"></span>\\n                                <span>{{ form.viewsCount }}</span>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"search__results__result__more-info\\\">\\n                    <div class=\\\"search__results__result__more-info__author\\\">\\n                        <img src=\\\"{{\\n                            form.author.image === null ? 'assets/images/avatar.jpeg' : form.author.image\\n                        }}\\\" alt=\\\"avatar\\\">\\n                        <span [routerLink]=\\\"['/profile', form.author.username]\\\">{{ form.author.username }}</span>\\n                    </div>\\n                    <div class=\\\"search__results__result__more-info__tags\\\">\\n                        <span>tag, tag, tag, tag, tag, tag, tag, tag, \\n                            tag, tag, tag, tag, tag, tag, tag, tag</span>\\n                    </div>\\n                </div>\\n            </div>\\n\\n        </div>\\n    </div>\\n</div>\\n    \\n    <!--Div is shown when there no author forms-->\\n    <!-- <div [hidden]=\\\"loading || results.length\\\">No Forms are here... yet.</div> -->\\n    \\n    <div class=\\\"loader\\\" [style.display]=\\\"loadingQuery ? 'flex' : 'none'\\\">\\n        <svg version=\\\"1.1\\\" id=\\\"loader-1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n        width=\\\"80px\\\" height=\\\"80px\\\" viewBox=\\\"0 0 50 50\\\" style=\\\"enable-background:new 0 0 50 50;\\\" xml:space=\\\"preserve\\\">\\n        <path fill=\\\"#000\\\" d=\\\"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z\\\">\\n        <animateTransform attributeType=\\\"xml\\\"\\n            attributeName=\\\"transform\\\"\\n            type=\\\"rotate\\\"\\n            from=\\\"0 25 25\\\"\\n            to=\\\"360 25 25\\\"\\n            dur=\\\"0.6s\\\"\\n            repeatCount=\\\"indefinite\\\"/>\\n        </path>\\n        </svg>\\n    </div>\\n    \\n    <div class=\\\"noMoreForms\\\" *ngIf=\\\"noMoreForms === true\\\">\\n        <h2>- No more forms to load -</h2>\\n    </div>\"","import { Component, OnInit, HostListener } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { User, FormListConfig, Form, SearchService, } from '../../core';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html'\n})\nexport class ProfileComponent implements OnInit {\n\n  public listConfig: FormListConfig = new FormListConfig();\n  public loadingQuery = false;\n  public results: Array<any> = [];\n  public limit: number = 10;\n  public currentPage: number = 1;\n  public noMoreForms: boolean = false;\n\n  public user: User;\n  constructor(\n    private route: ActivatedRoute,\n    private searchService: SearchService\n  ) { }\n\n  ngOnInit() {\n    this.route.data.subscribe(\n      data => {\n        this.user = data.user;\n      }\n    );\n    this.loadingQuery = true;\n    this.listConfig.orderBy = 'Date';\n    this.setListTo('all');\n    this.searchService.searchProfile(this.listConfig)\n    .subscribe(forms => {\n       this.loadingQuery = false;\n       this.results = forms;\n   });\n  }\n\n  setListTo(type: string = '') {\n    // Takes all forms\n    this.listConfig = {\n      type: type,\n      limit: this.limit,\n      orderBy: 'Date',\n      offset: (this.limit * (this.currentPage - 1)),\n      query: '',\n      author: this.user.username\n    };\n  }\n\n  moreForms() {\n    this.loadingQuery = true;\n    this.setPageTo();\n    // Create limit and offset filter (if necessary)\n    if (this.limit) {\n      this.listConfig.limit = this.limit;\n      this.listConfig.offset =  (this.limit * (this.currentPage - 1));\n    }\n    this.searchService.searchProfile(this.listConfig).subscribe(forms => {\n      if (forms.length !== 0) {\n        this.results = this.results.concat(forms);\n      } else {\n        this.noMoreForms = true;\n      }\n       this.loadingQuery = false;\n   });\n  }\n\n  @HostListener('window:scroll', []) onScroll(): void {\n    if (!this.loadingQuery && this.noMoreForms === false) {\n      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n        this.moreForms();\n      }\n    }\n  }\n\n  setPageTo() {\n    this.currentPage += 1;\n  }\n\n  setOrder(order: string) {\n    this.loadingQuery = true;\n    this.listConfig.offset = 0;\n    this.currentPage = 1;\n    this.results = [];\n    this.noMoreForms = false;\n    this.listConfig.orderBy = order;\n    this.searchService.searchProfile(this.listConfig).subscribe(forms => {\n        this.loadingQuery = false;\n        this.results = forms;\n      });\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '../../shared';\nimport { ProfileResolver } from './profile-resolver.service';\nimport { ProfileRoutingModule } from './profile-routing.module';\nimport { ProfileComponent } from './profile.component';\n\n@NgModule({\n  declarations: [ProfileComponent],\n  imports: [\n    CommonModule,\n    ProfileRoutingModule,\n    SharedModule\n  ],\n  providers: [ProfileResolver]\n})\nexport class ProfileModule { }\n"],"sourceRoot":""}