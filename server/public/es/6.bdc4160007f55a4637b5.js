(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"e0C/":function(e,n,t){"use strict";t.r(n);var l=t("CcnG"),i=function(){return function(){}}(),o=t("SizQ"),r=t("f1M8"),a=t("KCa2"),s=t("g6Sl"),u=t("pUM3"),c=t("2xeN"),d=t("SK3e"),p=t("a+cq"),_=t("pMnS"),m=t("ZYCi"),f=t("ey9i"),h=t("gusg"),b=function(){function e(e,n,t,i,o,r,a){this.userService=e,this.checkoutService=n,this.formService=t,this.commonsService=i,this.convertService=o,this.router=r,this.toastr=a,this.formPaid=new l.m,this.exitModal=new l.m,this.downloadPdfOutput=new l.m,this.downloadWordOutput=new l.m,this.currentStep=0,this.loadingPayment=!0,this.idsOfFields=["number","cvv","expirationDate"],this.paymentMethod="card",this.steps=[{type:"cart",stepNum:0},{type:"login",stepNum:1},{type:"payment",stepNum:2},{type:"finish",stepNum:3}]}return e.prototype.ngOnInit=function(){var e=this;this.userService.isAuthenticated.subscribe(function(n){e.email=n?e.userService.getCurrentUser().email:""}),this.form.fields[this.form.fields.length-1]&&(this.currentStep=this.form.fields[this.form.fields.length-1].checkoutProcess.phase)},e.prototype.moveStep=function(e){"next"===e?this.validateBeforeNextStep()&&(this.currentStep+=1):"previous"===e&&(this.currentStep-=1),this.form.fields[this.form.fields.length-1].checkoutProcess.phase=this.currentStep,this.paymentProcess()},e.prototype.validateBeforeNextStep=function(){if("login"===this.steps[this.currentStep].type){if(""===this.email)return this.emailInput.nativeElement.style.borderBottom="3px solid red",this.toastr.error("Email cannot be empty","Email is empty",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),!1;if(!this.conditions.nativeElement.checked)return this.toastr.error("You must accept buying conditions","Accept",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),!1}return!0},e.prototype.goToAuth=function(){window.sessionStorage[this.form.title]=JSON.stringify(this.form),this.router.navigate(["/auth/login"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf("/")+1)}})},e.prototype.onSubmit=function(){this.tokenizeUserDetails()},e.prototype.onPaymentMethodSelected=function(e){this.paymentMethod=e,this.paymentProcess()},e.prototype.paymentProcess=function(){var e=this;"payment"===this.steps[this.currentStep].type?(this.commonsService.toggleSpinner(),this.checkoutService.getToken(this.paymentMethod).subscribe(function(n){e.loadingPayment=!1,e.clientToken=n,e.createBraintreeUI(n)})):this.loadingPayment=!0},e.prototype.tokenizeUserDetails=function(){var e=this;this.commonsService.toggleSpinner(),this.hostedFieldsInstance.tokenize({cardholderName:this.cardholdersName}).then(function(n){e.checkoutService.pay(JSON.stringify(e.form.fields),e.email,n.nonce,e.form.id,e.paymentMethod).subscribe(function(n){n.transaction?(e.commonsService.toggleSpinner(),e.moveStep("next"),e.onPaymentCompleted(n.transaction.transactionId),e.toastr.success("Payment completed","Payment success",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})):e.commonsService.toggleSpinner()})}).catch(function(n){e.commonsService.toggleSpinner(),e.toastr.error("An error has occured please try again","Payment error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),console.log(n),"HOSTED_FIELDS_FIELDS_INVALID"===n.code?e.idsOfFields.forEach(function(e){var t;n.details.invalidFieldKeys.includes(e)?((t=document.getElementById(e)).classList.add("hosted-fields-invalid"),t.nextElementSibling.hidden=!1):((t=document.getElementById(e)).classList.remove("hosted-fields-invalid"),t.nextElementSibling.hidden=!0)}):"HOSTED_FIELDS_FIELDS_EMPTY"===n.code&&e.idsOfFields.forEach(function(e){var n=document.getElementById(e);n.classList.add("hosted-fields-invalid"),n.nextElementSibling.hidden=!1})})},e.prototype.createBraintreeUI=function(e){var n=this;"card"===this.paymentMethod?h.client.create({authorization:e}).then(function(e){h.hostedFields.create({client:e,styles:{input:{"font-size":"16px",padding:"0.5rem 0.25rem 0.5rem","font-family":"Lato","font-weight":"300",color:"rgba(46, 46, 46, 0.8)"},"::placeholder":{transition:"transition: 100ms linear","font-weight":"300","font-family":"Lato",color:"#4ECDC4"},":focus":{"border-color":"#77db77","border-bottom":"3px solid #77db77"},"input:focus":{"border-color":"#77db77","border-bottom":"3px solid #77db77"}},fields:{number:{selector:"#"+n.idsOfFields[0],placeholder:"1111 1111 1111 1111"},cvv:{selector:"#"+n.idsOfFields[1],placeholder:"111"},expirationDate:{selector:"#"+n.idsOfFields[2],placeholder:"MM/YY"}}}).then(function(e){n.hostedFieldsInstance=e;var t=e.getState().fields;Object.keys(t).every(function(e){return t[e].isValid}),n.commonsService.toggleSpinner()})}):"paypal"===this.paymentMethod&&(this.commonsService.toggleSpinner(),paypal.Button.render({braintree:h,env:"sandbox",client:{sandbox:e},style:{size:"medium"},payment:function(e,t){return n.commonsService.toggleSpinner(),t.payment.create({payment:{transactions:[{amount:{total:n.form.amount,currency:"EUR"}}]}})},onAuthorize:function(e,t){return n.commonsService.toggleSpinner(),t.payment.tokenize().then(function(e){n.commonsService.toggleSpinner(),n.checkoutService.pay(JSON.stringify(n.form.fields),n.email,e.nonce,n.form.id,n.paymentMethod).subscribe(function(e){n.commonsService.toggleSpinner(),n.moveStep("next"),n.onPaymentCompleted(e.transaction.transactionId),n.toastr.success("Payment completed","Payment success",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})})})},onCancel:function(e){console.log("checkout.js payment cancelled",JSON.stringify(e))},onError:function(e){this.commonsService.toggleSpinner(),this.toastr.error("Paypal error",e,{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})}},"#paypal-button"))},e.prototype.onPaymentCompleted=function(e){var n=this;this.transactionId=e,this.formService.getPaidCertifiedForm(e).subscribe(function(t){t.certifiedForm.transactionId=e,n.formPaid.emit(t.certifiedForm)})},e.prototype.downloadWord=function(){this.downloadWordOutput.emit()},e.prototype.downloadPdf=function(){this.downloadPdfOutput.emit()},e}(),E=t("26FU"),g=t("ad02"),y=function(){function e(){this.currentFormSubject=new E.a({}),this.currentForm=this.currentFormSubject.asObservable().pipe(Object(g.a)())}return e.prototype.setForm=function(e){this.currentFormSubject.next(Object.assign({},e))},e.prototype.getCurrentForm=function(){return this.currentFormSubject.value},e}(),v=function(){function e(e,n,t,l,i,o,r){this.commonsService=e,this.formsService=n,this.userService=t,this.sharedService=l,this.router=i,this.route=o,this.toastr=r,this.form=new f.b,this.originalForm=new f.b,this.currentStep=0,this.updatingForm=!1}return e.prototype.ngOnInit=function(){var e=this;this.sharedService.currentForm.subscribe(function(n){e.commonsService.isObjectEmpty(n)||(e.form=n,e.currentStep=n.currentStep)}),this.userService.isAuthenticated.subscribe(function(n){e.isAuth=!!n}),document.getElementsByTagName("html")[0].style.overflow="hidden",window.addEventListener("unload",this.saveInSessionStorage.bind(this))},e.prototype.ngOnDestroy=function(){document.getElementsByTagName("html")[0].style.overflow="",this.saveInSessionStorage(),window.removeEventListener("unload",this.saveInSessionStorage)},e.prototype.topMenuNav=function(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)},e.prototype.saveForm=function(){var e=this;this.isAuth?(this.form.type="Certified",this.validateForm(),this.formsService.save(this.form).subscribe(function(n){e.toastr.success("Has been saved",n.title,{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})},function(n){console.log(n),e.toastr.error("An error has occured please try again","Error",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"})})):(window.sessionStorage[this.form.title]=JSON.stringify(this.form),this.router.navigate(["/auth/login"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf("/")+1)}}))},e.prototype.saveInSessionStorage=function(){window.sessionStorage[this.form.title]=JSON.stringify(this.form)},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.validateForm=function(){this.form.description="blabla",this.form.text="blaw"},e}(),A=t("8uRR"),T=t("qh6j"),I=t("9D3k"),N=t("SZbH"),R=l.ob({encapsulation:2,styles:[],data:{}});function S(e){return l.Kb(0,[l.Gb(402653184,1,{subMenu:0}),l.Gb(402653184,2,{loginModal:0}),(e()(),l.qb(2,0,[[1,0],["subMenu",1]],null,6,"div",[["class","sub-menu"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,5,"div",[["class","sub-menu__container sub-menu__container--fill-form"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,1,"div",[["class","sub-menu__left-button sub-menu__left-button--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,0,"button",[["class","button-filled button-filled--sub-menu-fill-form icon icon-save-solid"]],[[8,"hidden",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.saveForm()&&l),l},null,null)),(e()(),l.qb(6,0,null,null,2,"ul",[["class","sub-menu__nav sub-menu__nav--fill-form"],["style","justify-content: center;"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,1,"li",[["class","sub-menu__nav__button sub-menu__nav__button--without-hover"]],null,null,null,null,null)),(e()(),l.Ib(8,null,[" "," "])),(e()(),l.qb(9,0,null,null,2,"div",[["class","form-creator"],["id","form-creator"]],null,null,null,null,null)),(e()(),l.qb(10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.pb(11,212992,null,0,m.q,[m.b,l.Q,l.j,[8,null],l.h],null,null)],function(e,n){e(n,11,0)},function(e,n){var t=n.component;e(n,5,0,!t.currentStep),e(n,8,0,t.form.topLabelTitle)})}function O(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"app-certified-forms",[],null,null,null,S,R)),l.pb(1,245760,null,0,v,[A.a,T.a,I.a,y,m.l,m.a,N.j],null,null)],function(e,n){e(n,1,0)},null)}var C=l.mb("app-certified-forms",v,O,{},{},[]),w=t("Ip0R"),P=t("gIcY"),D=t("TYhg"),L=t("/ePz"),q=t("wsCw"),x=l.ob({encapsulation:2,styles:[],data:{}});function k(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,22,"div",[["class","checkout-panel__body__invoice"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,21,"div",[["class","checkout-panel__body__invoice__container"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"div",[["class","checkout-panel__body__invoice__document"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,0,"img",[["alt","checkout-image"]],[[8,"src",4]],null,null,null,null)),(e()(),l.qb(4,0,null,null,18,"div",[["class","checkout-panel__body__invoice__text"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"h2",[["class","checkout-panel__body__invoice__text__title"]],null,null,null,null,null)),(e()(),l.Ib(6,null,["",""])),(e()(),l.qb(7,0,null,null,5,"div",[["class","checkout-panel__body__invoice__text__description"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Descarga inmediata en formatos Word y PDF"])),(e()(),l.qb(11,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["3.060 personas ya han comprado este documento"])),(e()(),l.qb(13,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__total"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__right"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Total:"])),(e()(),l.qb(16,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__left"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["19.90\u20ac"])),(e()(),l.qb(18,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__more-info"]],null,null,null,null,null)),(e()(),l.qb(19,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.qb(20,0,null,null,0,"img",[["alt","secure payment"],["src","/assets/images/ssl-secure-en.png"]],null,null,null,null,null)),(e()(),l.qb(21,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.qb(22,0,null,null,0,"img",[["src","https://s3.amazonaws.com/braintree-badges/braintree-badge-dark.png"]],null,null,null,null,null))],null,function(e,n){var t=n.component;e(n,3,0,l.sb(1,"",t.form.image,"")),e(n,6,0,t.form.title)})}function M(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"label",[["class","checkout-panel__body__email__container__message"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" \xbfTienes cuenta? "])),(e()(),l.qb(2,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.goToAuth()&&l),l},null,null)),(e()(),l.Ib(-1,null,["Logeate"]))],null,null)}function F(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function U(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,27,"div",[["class","checkout-panel__body__email"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,26,"div",[["class","checkout-panel__body__email__container"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"h1",[["class","checkout-panel__body__email__container__title"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Direcci\xf3n de correo para recibir el documento"])),(e()(),l.qb(4,0,null,null,0,"label",[["for","email"]],null,null,null,null,null)),(e()(),l.qb(5,0,[[1,0],["emailInput",1]],null,5,"input",[["id","name"],["name","email"],["placeholder","E-MAIL"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,o=e.component;return"input"===n&&(i=!1!==l.Ab(e,6)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l.Ab(e,6).onTouched()&&i),"compositionstart"===n&&(i=!1!==l.Ab(e,6)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l.Ab(e,6)._compositionEnd(t.target.value)&&i),"ngModelChange"===n&&(i=!1!==(o.email=t)&&i),i},null,null)),l.pb(6,16384,null,0,P.d,[l.E,l.k,[2,P.a]],null,null),l.Fb(1024,null,P.l,function(e){return[e]},[P.d]),l.pb(8,671744,null,0,P.q,[[8,null],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Fb(2048,null,P.m,null,[P.q]),l.pb(10,16384,null,0,P.n,[[4,P.m]],null,null),(e()(),l.ib(16777216,null,null,1,null,M)),l.pb(12,81920,null,0,D.a,[l.N,I.a,l.Q],{appShowAuthed:[0,"appShowAuthed"]},null),(e()(),l.ib(16777216,null,null,1,null,F)),l.pb(14,81920,null,0,D.a,[l.N,I.a,l.Q],{appShowAuthed:[0,"appShowAuthed"]},null),(e()(),l.qb(15,0,null,null,12,"div",[["class","checkout-panel__body__email__container__message"]],null,null,null,null,null)),(e()(),l.qb(16,0,null,null,11,"label",[["for","conditions"]],null,null,null,null,null)),(e()(),l.qb(17,0,[[2,0],["conditions",1]],null,5,"input",[["class","filled-in"],["id","conditions"],["name","conditions"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==l.Ab(e,18).onChange(t.target.checked)&&i),"blur"===n&&(i=!1!==l.Ab(e,18).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(o.conditionsChecked=t)&&i),i},null,null)),l.pb(18,16384,null,0,P.b,[l.E,l.k],null,null),l.Fb(1024,null,P.l,function(e){return[e]},[P.b]),l.pb(20,671744,null,0,P.q,[[8,null],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Fb(2048,null,P.m,null,[P.q]),l.pb(22,16384,null,0,P.n,[[4,P.m]],null,null),(e()(),l.qb(23,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Acepto las condiciones generales de venta "])),(e()(),l.qb(25,0,null,null,2,"a",[["class","trigger"],["routerLink","/static-pages/cgv"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Ab(e,26).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),l.pb(26,671744,null,0,m.o,[m.l,m.a,w.h],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(e()(),l.Ib(-1,null,["(leer las CGV)"]))],function(e,n){var t=n.component;e(n,8,0,"email",t.email),e(n,12,0,!1),e(n,14,0,!0),e(n,20,0,"conditions",t.conditionsChecked),e(n,26,0,"_blank","/static-pages/cgv")},function(e,n){e(n,5,0,l.Ab(n,10).ngClassUntouched,l.Ab(n,10).ngClassTouched,l.Ab(n,10).ngClassPristine,l.Ab(n,10).ngClassDirty,l.Ab(n,10).ngClassValid,l.Ab(n,10).ngClassInvalid,l.Ab(n,10).ngClassPending),e(n,17,0,l.Ab(n,22).ngClassUntouched,l.Ab(n,22).ngClassTouched,l.Ab(n,22).ngClassPristine,l.Ab(n,22).ngClassDirty,l.Ab(n,22).ngClassValid,l.Ab(n,22).ngClassInvalid,l.Ab(n,22).ngClassPending),e(n,25,0,l.Ab(n,26).target,l.Ab(n,26).href)})}function B(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","checkout-panel__body__payment-method"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,6,"label",[["class","checkout-panel__body__payment-method__method card"],["for","card"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__card-logos"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/visa_logo.png"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/mastercard_logo.png"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__radio-input"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"input",[["checked",""],["id","card"],["name","payment"],["type","radio"],["value","card"]],null,[[null,"change"]],function(e,n,t){var l=!0;return"change"===n&&(l=!1!==e.component.onPaymentMethodSelected("card")&&l),l},null,null)),(e()(),l.Ib(-1,null,[" with credit card "])),(e()(),l.qb(8,0,null,null,5,"label",[["class","checkout-panel__body__payment-method__method paypal"],["for","paypal"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"div",[["class","checkout-panel__body__payment-method__method__card-logos"]],null,null,null,null,null)),(e()(),l.qb(10,0,null,null,0,"img",[["src","https://designmodo.com/demo/checkout-panel/img/paypal_logo.png"]],null,null,null,null,null)),(e()(),l.qb(11,0,null,null,2,"div",[["class","checkout-panel__body__payment-method__method__radio-input"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,0,"input",[["id","paypal"],["name","payment"],["type","radio"],["value","paypal"]],null,[[null,"change"]],function(e,n,t){var l=!0;return"change"===n&&(l=!1!==e.component.onPaymentMethodSelected("paypal")&&l),l},null,null)),(e()(),l.Ib(-1,null,[" with PayPal "]))],null,null)}function z(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,34,"form",[["class","checkout-panel__body__input-fields"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var i=!0;return"submit"===n&&(i=!1!==l.Ab(e,2).onSubmit(t)&&i),"reset"===n&&(i=!1!==l.Ab(e,2).onReset()&&i),i},null,null)),l.pb(1,16384,null,0,P.v,[],null,null),l.pb(2,4210688,null,0,P.p,[[8,null],[8,null]],null,null),l.Fb(2048,null,P.c,null,[P.p]),l.pb(4,16384,null,0,P.o,[[4,P.c]],null,null),(e()(),l.qb(5,0,null,null,21,"div",[["class","checkout-panel__body__input-fields__column-1"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,1,"label",[["class","hosted-field--label"],["for","cardholder-name"],["name","cardholderName"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Name"])),(e()(),l.qb(8,0,null,null,5,"input",[["class","name-custom-input"],["id","cardholder"],["name","cardholderName"],["placeholder","e.g. JOHN DOE"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,o=e.component;return"input"===n&&(i=!1!==l.Ab(e,9)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l.Ab(e,9).onTouched()&&i),"compositionstart"===n&&(i=!1!==l.Ab(e,9)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l.Ab(e,9)._compositionEnd(t.target.value)&&i),"ngModelChange"===n&&(i=!1!==(o.cardholdersName=t)&&i),i},null,null)),l.pb(9,16384,null,0,P.d,[l.E,l.k,[2,P.a]],null,null),l.Fb(1024,null,P.l,function(e){return[e]},[P.d]),l.pb(11,671744,null,0,P.q,[[2,P.c],[8,null],[8,null],[6,P.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l.Fb(2048,null,P.m,null,[P.q]),l.pb(13,16384,null,0,P.n,[[4,P.m]],null,null),(e()(),l.qb(14,0,null,null,12,"div",[["class","checkout-panel__body__input-fields__small-inputs"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.qb(16,0,null,null,1,"label",[["for","expirationDate"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Valid date"])),(e()(),l.qb(18,0,null,null,0,"div",[["class","hosted-fields"],["id","expirationDate"]],null,null,null,null,null)),(e()(),l.qb(19,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Invalid Expiration date"])),(e()(),l.qb(21,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.qb(22,0,null,null,1,"label",[["for","cvv"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["CVV / CVC *"])),(e()(),l.qb(24,0,null,null,0,"div",[["class","hosted-fields"],["id","cvv"],["name","cvv"]],null,null,null,null,null)),(e()(),l.qb(25,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Invalid CVV"])),(e()(),l.qb(27,0,null,null,7,"div",[["class","checkout-panel__body__input-fields__column-2"]],null,null,null,null,null)),(e()(),l.qb(28,0,null,null,1,"label",[["for","number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Card Number"])),(e()(),l.qb(30,0,null,null,0,"div",[["class","hosted-fields"],["id","number"]],null,null,null,null,null)),(e()(),l.qb(31,0,null,null,1,"small",[["class","secondary-color"],["hidden",""]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Invalid Card Number"])),(e()(),l.qb(33,0,null,null,1,"span",[["class","info"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["* CVV or CVC is the card security code, unique three digits number on the back of your card separate from its number."]))],function(e,n){e(n,11,0,"cardholderName",n.component.cardholdersName)},function(e,n){e(n,0,0,l.Ab(n,4).ngClassUntouched,l.Ab(n,4).ngClassTouched,l.Ab(n,4).ngClassPristine,l.Ab(n,4).ngClassDirty,l.Ab(n,4).ngClassValid,l.Ab(n,4).ngClassInvalid,l.Ab(n,4).ngClassPending),e(n,8,0,l.Ab(n,13).ngClassUntouched,l.Ab(n,13).ngClassTouched,l.Ab(n,13).ngClassPristine,l.Ab(n,13).ngClassDirty,l.Ab(n,13).ngClassValid,l.Ab(n,13).ngClassInvalid,l.Ab(n,13).ngClassPending)})}function H(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,0,"div",[["id","paypal-button"],["style","height: 200px; margin-left: auto;margin-right:auto; display: flex;align-items: center;"]],null,null,null,null,null))],null,null)}function V(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,6,"div",[["class","payment-container"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,B)),l.pb(2,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,z)),l.pb(4,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,H)),l.pb(6,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,!1===t.loadingPayment),e(n,4,0,!1===t.loadingPayment&&"card"===t.paymentMethod),e(n,6,0,"paypal"===t.paymentMethod)},null)}function Y(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,18,"div",[["class","checkout-panel__body__success"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),l.Ib(3,null,["Transacci\xf3n: ",""])),(e()(),l.qb(4,0,null,null,4,"div",[["class","checkout-panel__body__invoice__text__total"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__right total-success"]],null,null,null,null,null)),(e()(),l.Ib(6,null,["",""])),(e()(),l.qb(7,0,null,null,1,"span",[["class","checkout-panel__body__invoice__text__total__left total-success"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["19.90 eur"])),(e()(),l.qb(9,0,null,null,4,"p",[["class","checkout-panel__body__success__message"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Recibir\xe1s un mensaje a "])),(e()(),l.qb(11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l.Ib(12,null,["",""])),(e()(),l.Ib(-1,null,[" con tu factura as\xed como los documentos. Durante los pr\xf3ximos 15 d\xedas podr\xe1s modificar el formulario de nuevo sin tener que pagar y volver a descargarlo, una vez terminado el plazo caducar\xe1."])),(e()(),l.qb(14,0,null,null,4,"div",[["class","checkout-panel__body__success__download"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Descarga ahora"])),(e()(),l.qb(17,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadWord()&&l),l},null,null)),(e()(),l.qb(18,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadPdf()&&l),l},null,null))],null,function(e,n){var t=n.component;e(n,3,0,t.transactionId),e(n,6,0,t.form.title),e(n,12,0,t.email)})}function K(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"button",[["class","btn back-btn"]],[[4,"display",null],[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("previous")&&l),l},null,null)),l.pb(1,278528,null,0,w.n,[l.u,l.k,l.E],{ngStyle:[0,"ngStyle"]},null),l.Db(2,{opacity:0}),(e()(),l.Ib(-1,null,["Back"]))],function(e,n){var t=n.component,l=e(n,2,0,"cart"===t.steps[t.currentStep].type?0:1);e(n,1,0,l)},function(e,n){var t=n.component;e(n,0,0,"cart"===t.steps[t.currentStep].type?"none":"block","cart"===t.steps[t.currentStep].type)})}function j(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"button",[["class","btn back-btn"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.exitModal.emit()&&l),l},null,null)),(e()(),l.Ib(-1,null,["Back"]))],null,null)}function Q(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"button",[["class","btn back-btn"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.exitModal.emit()&&l),l},null,null)),(e()(),l.Ib(-1,null,["Back"]))],null,null)}function G(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"button",[["class","btn next-btn"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("next")&&l),l},null,null)),l.pb(1,278528,null,0,w.n,[l.u,l.k,l.E],{ngStyle:[0,"ngStyle"]},null),l.Db(2,{opacity:0}),(e()(),l.Ib(-1,null,["Next Step"]))],function(e,n){var t=n.component,l=e(n,2,0,"finish"===t.steps[t.currentStep].type?0:1);e(n,1,0,l)},function(e,n){var t=n.component;e(n,0,0,"finish"===t.steps[t.currentStep].type)})}function W(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"button",[["class","btn next-btn secondaryC-background-color"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onSubmit()&&l),l},null,null)),(e()(),l.qb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["PAGAR"]))],null,null)}function Z(e){return l.Kb(0,[l.Gb(671088640,1,{emailInput:0}),l.Gb(671088640,2,{conditions:0}),(e()(),l.qb(2,0,null,null,11,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","checkout-panel__body__progress-bar"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,0,"div",[["class","checkout-panel__body__progress-bar__step checkout-panel__body__progress-bar__step__active"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),l.pb(6,278528,null,0,w.i,[l.t,l.u,l.k,l.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Db(7,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),l.qb(8,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),l.pb(9,278528,null,0,w.i,[l.t,l.u,l.k,l.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Db(10,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),l.qb(11,0,null,null,2,"div",[["class","checkout-panel__body__progress-bar__step"]],null,null,null,null,null)),l.pb(12,278528,null,0,w.i,[l.t,l.u,l.k,l.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Db(13,{"checkout-panel__body__progress-bar__step__active":0}),(e()(),l.qb(14,0,null,null,9,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"],["style","border-bottom: none"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,8,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,k)),l.pb(17,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,U)),l.pb(19,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,V)),l.pb(21,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Y)),l.pb(23,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(24,0,null,null,10,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy checkout-panel__footer"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,K)),l.pb(26,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,j)),l.pb(28,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Q)),l.pb(30,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,G)),l.pb(32,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,W)),l.pb(34,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=e(n,7,0,t.steps[t.currentStep].stepNum>0);e(n,6,0,"checkout-panel__body__progress-bar__step",l);var i=e(n,10,0,t.steps[t.currentStep].stepNum>1);e(n,9,0,"checkout-panel__body__progress-bar__step",i);var o=e(n,13,0,t.steps[t.currentStep].stepNum>2);e(n,12,0,"checkout-panel__body__progress-bar__step",o),e(n,17,0,"cart"===t.steps[t.currentStep].type),e(n,19,0,"login"===t.steps[t.currentStep].type),e(n,21,0,"payment"===t.steps[t.currentStep].type),e(n,23,0,"finish"===t.steps[t.currentStep].type),e(n,26,0,"finish"!==t.steps[t.currentStep].type),e(n,28,0,"cart"===t.steps[t.currentStep].type),e(n,30,0,"finish"===t.steps[t.currentStep].type),e(n,32,0,"payment"!==t.steps[t.currentStep].type),e(n,34,0,"payment"===t.steps[t.currentStep].type&&"card"===t.paymentMethod)},null)}t("M0ag");var J=[{type:"start",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n      inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino)."},{question:"\xbfEn d\xf3nde se firma el contrato?",wordToReplace:"iLugar",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isSubStep:!1,isRadioCSubStep:!1},{question:"\xbf Cu\xe1ndo se firma el contrato ?",wordToReplace:"iFecha",type:"inputDate",replacement:"",isFocused:!1,mandatory:!0,isSubStep:!1,isRadioCSubStep:!1},{question:"N\xfamero de personas que firman el contrato en tanto que arrendadores (propietario):",type:"inputRange",replacement:"",value:1,id:"idTest",isFocused:!1,mandatory:!0,isSubStep:!1,isRadioCSubStep:!1,subSteps:[{question:"Nombre del arrendador",wordToReplace:"iName",wordToCreateTheReplace:"iName",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isSubStep:!0,isRadioCSubStep:!1},{question:"Estado civil del arrendador",wordToReplace:"iState",wordToCreateTheReplace:"iState",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isSubStep:!0,isRadioCSubStep:!1}]},{question:"Cuesti\xf3n condicional?",wordToReplace:"iPrueba",type:"inputRadioC",options:[{label:"Opci\xf3n a: Persona f\xedsica",optionId:"optionA",value:"- iNombre, persona f\xedsica, mayor de edad, de estado civil iEstado",checked:!1,subSteps:[{question:"\xbfNombre de la persona?",wordToReplace:"iNombre",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isRadioCSubStep:!0,isSubStep:!1},{question:"\xbfEstado Civil?",wordToReplace:"iEstado",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isRadioCSubStep:!0,isSubStep:!1}]},{label:"Opci\xf3n b: Persona jur\xeddica",value:"- iNombre, persona jur\xeddica, con domicilio en iEstado",optionId:"optionB",checked:!1,subSteps:[{question:"\xbfNombre de la empresa?",wordToReplace:"iNombre",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isRadioCSubStep:!0,isSubStep:!1},{question:"\xbfDomicilio fiscal de la empresa?",wordToReplace:"iEstado",type:"inputText",replacement:"",isFocused:!1,mandatory:!0,isRadioCSubStep:!0,isSubStep:!1}]}],replacement:"",isFocused:!1,mandatory:!0,isSubStep:!1,isRadioCSubStep:!1},{type:"end",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n        inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino)."}],X=function(){function e(e,n,t){this.commonsService=e,this.odfEditorService=n,this.sharedService=t,this.form=new f.b,this.currentStep=0,this.progresBarPercentage="0%",this.steps=J}return e.prototype.ngOnInit=function(){this.odfEditorService.createEditor("fillForm"),window.sessionStorage["Pacto de socios"]?(this.form=JSON.parse(window.sessionStorage["Pacto de socios"]),this.steps=this.form.fields,this.currentStep=this.form.currentStep,this.updateProgressBarPercentage()):this.form.title="Pacto de socios",this.sharedService.setForm(this.form)},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.documentBodyClone=document.getElementsByTagName("office:body")[0].cloneNode(!0)},4e3),window.addEventListener("resize",function(){e.commonsService.resizeEditor()}),this.commonsService.resizeEditor()},e.prototype.ngOnDestroy=function(){this.odfEditorService.closeEditor()},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.replaceValuesInText=function(){this.odfEditorService.replaceWord(this.steps,this.documentBodyClone),this.form.fields=this.steps,this.form.currentStep=this.currentStep,this.sharedService.setForm(this.form)},e.prototype.showIndicationModal=function(e){this.odfEditorService.showIndicationModal(e,this.documentBodyClone)},e.prototype.moveStep=function(e){"next"===e?this.currentStep+=1:"previous"===e&&(this.currentStep-=1),this.updateProgressBarPercentage()},e.prototype.updateProgressBarPercentage=function(){this.progresBarPercentage=Math.round(this.currentStep/this.steps.length*100)+"%"},e.prototype.updateWordToReplace=function(e){this.steps[this.currentStep].replacement=e,this.setFocus(),this.replaceValuesInText()},e.prototype.setFocus=function(){var e=this;this.steps.forEach(function(n){n.isFocused=e.steps[e.currentStep]===n})},e.prototype.onRangeSelected=function(e){var n=this;for(this.steps[this.currentStep].value=e;void 0!==this.steps[this.currentStep+1]&&this.steps[this.currentStep+1].isSubStep;)this.steps.splice(this.currentStep+1,1);for(var t=0;t<e;t++)this.steps[this.currentStep].subSteps.forEach(function(e,t){e.wordToReplace="i"+Math.random().toString(36).substring(7),n.steps.splice(n.currentStep+(t+1),0,Object.assign({},e))});this.replaceValuesInText()},e.prototype.onInputRadioCselected=function(e){var n=this;this.steps[this.currentStep].options.forEach(function(t){if(t.optionId===e){for(t.checked=!0;void 0!==n.steps[n.currentStep+1]&&n.steps[n.currentStep+1].isRadioCSubStep;)n.steps.splice(n.currentStep+1,1);t.subSteps.forEach(function(e,t){n.steps.splice(n.currentStep+1+t,0,e)})}else t.checked=!1}),this.replaceValuesInText()},e}(),$=t("TO6B"),ee=l.ob({encapsulation:2,styles:[],data:{}});function ne(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__top__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,9,"div",[["class","form-creator__fields-area__top__author-date"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,4,"span",[["class","form-creator__fields-area__top__author-date__author"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"div",[["class","form-creator__fields-area__top__author-date__author__image-container"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,0,"img",[["alt","avatar"],["src","/assets/images/avatar.jpg"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Juan Camejo Alarc\xf3n"])),(e()(),l.qb(7,0,null,null,3,"span",[["class","form-creator__fields-area__top__author-date__date"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Last updated:"])),(e()(),l.Ib(-1,null,[" 20 abril 2019 "])),(e()(),l.qb(11,0,null,null,2,"div",[["class","form-creator__fields-area__top__before-start-button"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,1,"div",[["class","form-creator__fields-area__top__before-start-button__information-modal-icon trigger"]],null,null,null,null,null)),(e()(),l.qb(13,0,null,null,0,"span",[["class","icon icon-info-solid"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,30))&&i),i},null,null))],null,null)}function te(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","progress-container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,2,"div",[["class","progress progress-large"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"span",[],[[4,"width",null]],null,null,null,null)),(e()(),l.Ib(3,null,["",""]))],null,function(e,n){var t=n.component;e(n,2,0,t.progresBarPercentage),e(n,3,0,t.progresBarPercentage)})}function le(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,7,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,6,"div",[["class","form-creator__fields-area__middle__initial-screen"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"h2",[["class","form-creator__fields-area__middle__initial-screen__form-title"]],null,null,null,null,null)),(e()(),l.Ib(3,null,[" "," "])),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__middle__initial-screen__description"]],null,null,null,null,null)),(e()(),l.Ib(5,null,[" "," "])),(e()(),l.qb(6,0,null,null,1,"button",[["class","button-filled button-filled--start-form"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,30))&&i),i},null,null)),(e()(),l.Ib(-1,null,[" Rellenar formulario "]))],null,function(e,n){var t=n.component;e(n,3,0,t.steps[t.currentStep].title),e(n,5,0,t.steps[t.currentStep].description)})}function ie(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function oe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[["input",1]],null,0,"input",[["type","text"]],[[8,"value",0]],[[null,"keyup"]],function(e,n,t){var i=!0;return"keyup"===n&&(i=!1!==e.component.updateWordToReplace(l.Ab(e,10).value)&&i),i},null,null)),(e()(),l.ib(16777216,null,null,1,null,ie)),l.pb(12,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].replacement)})}function re(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function ae(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndicationModal("iLugar")&&l),l},null,null)),(e()(),l.qb(7,0,null,null,4,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle__date-container"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["\xbf Cu\xe1ndo se firma el contrato ?"])),(e()(),l.qb(11,0,[["input",1]],null,0,"input",[["type","date"]],[[8,"value",0]],[[null,"change"]],function(e,n,t){var i=!0;return"change"===n&&(i=!1!==e.component.updateWordToReplace(l.Ab(e,11).value)&&i),i},null,null)),(e()(),l.ib(16777216,null,null,1,null,re)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,11,0,t.steps[t.currentStep].replacement)})}function se(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" N\xfamero de personas que firman el contrato en tanto que arrendadores (propietario): "])),(e()(),l.qb(10,0,[["input",1]],null,0,"input",[["max","4"],["min","1"],["type","range"]],null,[[null,"change"]],function(e,n,t){var i=!0;return"change"===n&&(i=!1!==e.component.onRangeSelected(l.Ab(e,10).value)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(12,null,["",""])),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,function(e,n){e(n,12,0,l.Ab(n,10).value)})}function ue(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var l=!0;return"change"===n&&(l=!1!==e.component.onInputRadioCselected(e.context.$implicit.optionId)&&l),l},null,null)),(e()(),l.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(4,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.checked),e(n,4,0,n.context.$implicit.label)})}function ce(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,ue)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].options)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function de(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__end-step"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,8,"div",[["class","form-creator__fields-area__end-step__container"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Finalizado"])),(e()(),l.qb(8,0,null,null,1,"button",[["class","button-filled button-filled--start-form trigger"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,86))&&i),i},null,null)),(e()(),l.Ib(-1,null,[" Descargar "])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__end-step__icons"]],null,null,null,null,null)),(e()(),l.qb(11,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,null,null,null,null))],null,null)}function pe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,18,"div",[["class","form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"span",[["class","icon icon-file-regular"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["1."])),(e()(),l.qb(5,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Elige un documento"])),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,0,"span",[["class","icon icon-list-alt-regular"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["2."])),(e()(),l.qb(11,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Rellena el formulario"])),(e()(),l.qb(13,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,0,"span",[["class","icon icon-print-solid"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["3."])),(e()(),l.qb(17,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Gu\xe1rdalo e impr\xedmelo"]))],null,null)}function _e(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("next")&&l),l},null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Siguiente"])),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-right-solid"]],null,null,null,null,null))],null,null)}function me(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,7,"div",[["class","form-creator__fields-area__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,6,"div",[["class","form-creator__fields-area__bottom__container"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("previous")&&l),l},null,null)),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-left-solid"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Anterior"])),(e()(),l.ib(16777216,null,null,1,null,_e)),l.pb(7,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,7,0,"end"!==t.steps[t.currentStep].type)},null)}function fe(e){return l.Kb(0,[l.Gb(402653184,1,{modal:0}),l.Gb(402653184,2,{modalEnd:0}),(e()(),l.qb(2,0,null,null,27,"div",[["class","form-creator__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,23,"div",[["class","form-creator__fields-area"],["id","fields-area"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,22,"div",[["class","form-creator__fields-area__container"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,4,"div",[["class","form-creator__fields-area__top"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,ne)),l.pb(7,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,te)),l.pb(9,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(10,0,null,null,12,"div",[["class","form-creator__fields-area__middle"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,le)),l.pb(12,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,oe)),l.pb(14,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,ae)),l.pb(16,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,se)),l.pb(18,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,ce)),l.pb(20,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,de)),l.pb(22,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,pe)),l.pb(24,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,me)),l.pb(26,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(27,0,null,null,2,"div",[["class","form-creator__text-area"],["id","text-area"]],null,null,null,null,null)),(e()(),l.qb(28,0,null,null,1,"div",[["id","wodoformbaseddocs"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(29,0,null,null,0,"div",[["id","editorContainer"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(30,0,[[1,0],["modal",1]],null,55,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(31,0,null,null,54,"div",[["class","modal__content modal__content--privacy"]],null,null,null,null,null)),(e()(),l.qb(32,0,null,null,2,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),l.qb(33,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Indicaciones antes de comenzar el formulario"])),(e()(),l.qb(35,0,null,null,47,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"]],null,null,null,null,null)),(e()(),l.qb(36,0,null,null,46,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.qb(37,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino). Para que tenga validez, debe realizarse siguiendo las pautas del nuevo decreto de medidas urgentes en materia de alquiler, en vigor desde el 6 de marzo de 2019, que introduce algunos cambios en la Ley de Arrendamientos Urbanos (LAU). "])),(e()(),l.qb(39,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(41,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Lo m\xe1s habitual es firmar contrato por un a\xf1o,\xa0renovable hasta cinco. Incluso si se han pactado periodos m\xe1s cortos, el inquilino tiene derecho a prorrogarlo hasta 5 a\xf1os. Adem\xe1s, si el arrendador es una persona jur\xeddica (una empresa o entidad), se ampl\xeda a 7 a\xf1os. Esta es una de las principales del nuevo decreto, ya que hasta su entrada en vigor la renovaci\xf3n quedaba limitada a 3 a\xf1os. "])),(e()(),l.qb(43,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Pr\xf3rroga t\xe1cita"])),(e()(),l.qb(45,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Adem\xe1s de la duraci\xf3n inicial del contrato,\xa0 exista la posibilidad de una pr\xf3rroga t\xe1cita: si al final de los 5 o 7 a\xf1os previstos ninguna de las partes comunica que quiere extinguir el contrato, este se ampl\xeda de nuevo de manera anual hasta tres a\xf1os m\xe1s. El plazo para comunicar la extinci\xf3n del contrato antes de que se active la pr\xf3rroga t\xe1cita es de cuatro meses para el propietario y de dos meses para el inquilino. "])),(e()(),l.qb(47,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Garant\xeda ante la venta de la vivienda"])),(e()(),l.qb(49,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["En caso de venta de la vivienda,\xa0se garantiza el derecho del inquilino\xa0a permanecer en ella durante el periodo del su contrato (cinco o siete a\xf1os). Es otro de los cambios destacados, ya que hasta ahora la venta del inmueble a una tercera persona pod\xeda conllevar que se exigiera extinguir el contrato."])),(e()(),l.qb(51,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Irregularidades en la duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(53,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Algunos arrendadores proponen realizar un contrato de once meses para hacerlo pasar por un alquiler temporal y evitarse as\xed la obligaci\xf3n de extensi\xf3n del plazo. La OCU destaca que si la vivienda\xa0se est\xe1 usando como vivienda habitual, aunque el contrato diga otra cosa, aplica la LAU y se puede prorrogar."])),(e()(),l.qb(55,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Extinci\xf3n del contrato de alquiler"])),(e()(),l.qb(57,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Existe la posibilidad de que el arrendador pueda recuperar el piso despu\xe9s del primer a\xf1o\xa0si demuestra necesidad de la vivienda para \xe9l mismo o para alg\xfan familiar directo\xa0(en primer grado de consanguinidad). Esta excepci\xf3n se hab\xeda usado a menudo como excusa para terminar contratos antes de ahora, pero ahora solo ser\xe1 v\xe1lida si se ha incluido ese supuesto de manera expresa en el contrato inicial."])),(e()(),l.qb(59,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Por lo que respecta al inquilino, la normativa vigente reconoce su derecho a desistir del contrato despu\xe9s de los seis primeros meses. La extinci\xf3n del contrato antes de la fecha prevista debe comunicarse al menos con dos meses de antelaci\xf3n."])),(e()(),l.qb(61,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un mes de fianza y dos de dep\xf3sito"])),(e()(),l.qb(63,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Con el nuevo decreto se prev\xe9, para los alquileres de vivienda,\xa0la entrega de un mes de fianza y un m\xe1ximo de dos mensualidades m\xe1s\xa0como garant\xeda adicional. Este dep\xf3sito, seg\xfan la OCU, es recomendable como garant\xeda del pago de la renta, los gastos asociados y de la conservaci\xf3n de la vivienda en buen estado."])),(e()(),l.qb(65,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Actualizaci\xf3n del precio del alquiler seg\xfan el IPC"])),(e()(),l.qb(67,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La actualizaci\xf3n anual de la renta es uno de los puntos clave de todo contrato de alquiler. Existe libertad para que\xa0las partes fijen la manera de actualizar el alquiler, pero el incremento nunca podr\xe1 ser superior a la\xa0subida marcada por el IPC. Si no se ha especificado nada en el contrato a este respecto, no se podr\xe1 actualizar la renta durante la vigencia del mismo."])),(e()(),l.qb(69,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un inventario detallado"])),(e()(),l.qb(71,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La fianza se devuelve una vez se comprueba que no quedan deudas pendientes y el buen estado del inmueble, pero a menudo es fuente de problemas. Algunos inquilinos\xa0optan por no pagar el \xfaltimo mes de renta a cuenta de la fianza,\xa0a pesar de que es una pr\xe1ctica ilegal. En otros casos los arrendadores se encuentran con desperfectos que superan el importe de la fianza. Para evitar problemas, es aconsejable incluir junto al contrato un inventario detallado de la vivienda, incluso con fotos. A la devoluci\xf3n de las llaves debe revisarse la vivienda por ambas partes y firmar un documento que se\xf1ale los desperfectos causados, si los hay."])),(e()(),l.qb(73,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Qui\xe9n se hace cargo de los gastos"])),(e()(),l.qb(75,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La LAU contempla un reparto de los gastos entre las partes, pero la OCU recomienda precisarlo en el contrato con el m\xe1ximo detalle. En principio,\xa0el arrendador paga impuestos como el IBI,\xa0la comunidad de propietarios y los gastos de conservaci\xf3n de la vivienda y sus instalaciones. El inquilino se hace cargo de los suministros y de las peque\xf1as reparaciones derivadas del uso ordinario de la vivienda. En aquellas ciudades donde hay tasa de basuras, debe pactarse a qui\xe9n corresponde, y lo habitual es que se haga cargo el inquilino."])),(e()(),l.qb(77,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Los\xa0gastos de gesti\xf3n inmobiliaria\xa0(si los hay) y de formalizaci\xf3n del contrato ir\xe1n a cuenta del propietario si se trata de una persona jur\xeddica. En el caso de ser una persona f\xedsica, la comisi\xf3n de la agencia generalmente la abona quien haya contratado sus servicios."])),(e()(),l.qb(79,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Cl\xe1usulas abusivas"])),(e()(),l.qb(81,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Aunque las partes pueden\xa0pactar cl\xe1usulas espec\xedficas, estas no pueden eliminar los derechos obligatorios recogidos por la normativa vigente. Por ejemplo, no se puede impedir la pr\xf3rroga hasta los cinco a\xf1os ni exigir un pago por desestimiento superior al que contempla la ley."])),(e()(),l.qb(83,0,null,null,2,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy"]],null,null,null,null,null)),(e()(),l.qb(84,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,n,t){var i=!0,o=e.component;return"click"===n&&(o.toogleModal(l.Ab(e,30)),i=!1!==o.moveStep("next")&&i),i},null,null)),(e()(),l.Ib(-1,null,["Rellenar"])),(e()(),l.qb(86,0,[[2,0],["modalEnd",1]],null,3,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(87,0,null,null,2,"div",[["class","modal__content modal__content--payment"]],null,null,null,null,null)),(e()(),l.qb(88,0,null,null,1,"app-checkout",[["style","height: 100%"]],null,null,null,Z,x)),l.pb(89,114688,null,0,b,[I.a,L.a,T.a,A.a,q.a,m.l,N.j],null,null)],function(e,n){var t=n.component;e(n,7,0,"start"===t.steps[t.currentStep].type),e(n,9,0,"start"!==t.steps[t.currentStep].type),e(n,12,0,"start"===t.steps[t.currentStep].type),e(n,14,0,"inputText"===t.steps[t.currentStep].type),e(n,16,0,"inputDate"===t.steps[t.currentStep].type),e(n,18,0,"inputRange"===t.steps[t.currentStep].type),e(n,20,0,"inputRadioC"===t.steps[t.currentStep].type),e(n,22,0,"end"===t.steps[t.currentStep].type),e(n,24,0,"start"===t.steps[t.currentStep].type),e(n,26,0,"start"!==t.steps[t.currentStep].type),e(n,89,0)},null)}function he(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"app-pacto-de-socios",[],null,null,null,fe,ee)),l.pb(1,4440064,null,0,X,[A.a,$.a,y],null,null)],function(e,n){e(n,1,0)},null)}var be=l.mb("app-pacto-de-socios",X,he,{},{},[]),Ee=t("KlD3"),ge=function(){function e(e,n){this.commonsService=e,this.convertService=n}return e.prototype.init=function(e){var n=this;return this.commonsService.toggleSpinner(),this.createEditorFromURI("fillForm","editorContainer",e),new Promise(function(e,t){var l=setInterval(function(){window.editor&&window.editor.getEditorSession()&&document.getElementsByTagName("office:text").length&&(n.originalDocumentBodyClone=document.getElementsByTagName("office:text")[0].cloneNode(!0),n.commonsService.toggleSpinner(),clearInterval(l),e("Document ready"),console.log("Document is ready"))},300)})},e.prototype.destroy=function(){Ee.a(),window.removeEventListener("resize",this.resizeEvent)},e.prototype.createEditorFromURI=function(e,n,t){void 0===n&&(n="editorContainer");for(var l=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(l.length),r=new Uint8Array(o),a=0;a<l.length;a++)r[a]=l.charCodeAt(a);var s=new Blob([o],{type:i}),u=URL.createObjectURL(s);window.DOCUMENTOURL=u,Ee.c(e,n)},e.prototype.getEditorSession=function(){return Ee.f()},e.prototype.saveUri=function(){var e=new FileReader;return new Promise(function(n,t){Ee.e().getDocumentAsByteArray(function(t,l){if(t)alert(t);else{var i=new Blob([l.buffer],{type:"application/vnd.oasis.opendocument.text"});e.readAsDataURL(i),e.onloadend=function(){n(e.result)}}})})},e.prototype.resizeDocumentContainer=function(){this.resizeEvent=function(){setTimeout(function(){document.getElementById("webodfeditor-editor1").style.height=document.getElementById("text-area").clientHeight+"px",document.getElementById("webodfeditor-editor1").style.width=document.getElementById("text-area").clientWidth+"px",Ee.d()},10)},window.addEventListener("resize",this.resizeEvent),Ee.d()},e.prototype.buildDocument=function(e){this.currentDocumentBodyClone=this.originalDocumentBodyClone.cloneNode(!0),this.structuralChanges(e),this.replacements(e),document.getElementsByTagName("office:text")[0].parentElement.replaceChild(this.currentDocumentBodyClone.cloneNode(!0),document.getElementsByTagName("office:text")[0]),this.scrollToElementWithClass("focused")},e.prototype.scrollToElementWithClass=function(e,n){void 0===n&&(n=0);var t=document.querySelector("."+e);t&&t.parentElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},e.prototype.dateToSpanishFormat=function(e){var n=new Date(e),t="";return e&&(t=n.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})),t},e.prototype.showIndicationInsideText=function(e,n){var t=document.querySelector("[data-identifier="+e+"]"),l=document.createElement("div");l.innerHTML='<div class="indicator-content not-selectable">\n                        <button id="close-indication">&#10006;</button>\n                        <span class="not-selectable" style="margin:auto; width:100%">'+n+"\n                        </span>\n                    </div>",l.style.top=t.getBoundingClientRect().top.toString(),l.style.left=t.getBoundingClientRect().left.toString(),l.classList.add("indicator"),l.classList.add("smooth-intro"),l.classList.add("not-selectable"),t.appendChild(l);var i=function(e){window.innerWidth>885?e.target.classList.contains("icon-info-circle-solid")||e.target.classList.contains("indication")?document.querySelectorAll(".indicator").length>=2&&(l.parentNode.removeChild(l),window.removeEventListener("click",i)):(l.parentNode.removeChild(l),window.removeEventListener("click",i)):"scrollToTop"!==e.target.id&&"close-indication"!==e.target.id||(l.parentNode.removeChild(l),window.removeEventListener("click",i))};window.addEventListener("click",i),this.scrollToElementWithClass("indicator",l.offsetHeight)},e.prototype.structuralChanges=function(e){var n=this;e.forEach(function(e){"iRadioC"===e.type?n.buildForRadioC(e):"iCheckbox"===e.type?n.buildForCheckbox(e):"iForEach"===e.type&&n.buildForEach(e)})},e.prototype.buildForEach=function(e){var n=this;e.content.forEach(function(t){var l=n.findword(t.wordToReplace);l.textContent===t.wordToReplace&&(t.modifiedReplacements.slice().reverse().forEach(function(i,o){var r,a=new RegExp(e.wordToReplace,"g");if(o!==t.modifiedReplacements.length-1){var s=l.cloneNode(!0);l.parentNode.insertBefore(s,l.nextSibling),r=s}else r=l;r=n.findExactContainingElement(e.wordToReplace,r),console.log(r),r.innerHTML=r.innerHTML.replace(a,i)}),t.modifiedExtraReplacements.slice().reverse().forEach(function(e,t){e.forEach(function(e){var t=n.findword(e[0].identifier);e.slice().reverse().forEach(function(l,i){var o,r=new RegExp(l.identifier,"g");if(i!==e.length-1){var a=t.cloneNode(!0);t.parentNode.insertBefore(a,t.nextSibling),o=n.findExactContainingElement(l.identifier,a)}else o=n.findExactContainingElement(l.identifier,t);o.innerHTML=o.innerHTML.replace(r,l.replacement)})})}))})},e.prototype.buildForRadioC=function(e){var n,t=this,l=this.findword(e.wordToReplace),i=new RegExp(e.wordToReplace,"g");for(e.radios.forEach(function(l){l.checked&&(n=l.replacement,e.extraReplacements.forEach(function(e,n){var i,o=new RegExp(e.wordToReplace,"g"),r=t.findword(e.wordToReplace),a=t.findExactContainingElement(e.wordToReplace,r);l.extraReplacements.forEach(function(n){n.insideId===e.insideId&&(i=n.replacement)}),a.innerHTML=a.innerHTML.replace(o,i)}))});l.firstElementChild;)l=l.firstElementChild;l.innerHTML=l.innerHTML.replace(i,n)},e.prototype.buildForCheckbox=function(e){var n=this.findword(e.wordToReplace),t=e.replacement;e.checkboxes.forEach(function(n){if(e.replacement.includes(n.wordToReplace))if(n.checked){var l=new RegExp(n.wordToReplace,"g");t=t.replace(l,n.replacement)}else l=new RegExp(n.wordToReplace,"g"),t=t.replace(l,"")}),n.innerHTML===e.wordToReplace&&(n.innerHTML=t)},e.prototype.replacements=function(e){var n=this;e.forEach(function(e){if("iText"===e.type||"iDate"===e.type){var t=n.findAllwords(e.wordToReplace),l=new RegExp(e.wordToReplace,"g");t.forEach(function(t){var i=t,o=e.replacement;i.innerHTML!==e.wordToReplace&&(i=n.findExactContainingElement(e.wordToReplace,i)),"iDate"===e.type&&(o=n.dateToSpanishFormat(e.replacement)),i&&(i.innerHTML=i.innerHTML.replace(l,'<span class="'+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+o+"</span>"))})}else if("iRadioB"===e.type){t=n.findAllwords(e.wordToReplace);var i=new RegExp(e.wordToReplace,"g");t.forEach(function(t){e.radios.forEach(function(l){if(l.checked){var o=t;o.innerHTML!==e.wordToReplace&&(o=n.findExactContainingElement(e.wordToReplace,o)),o&&(o.innerHTML=o.innerHTML.replace(i,'<span class=" '+(e.isFocused?"focused":"")+'" data-identifier="'+e.wordToReplace+'">'+e.replacement+"</span>"))}}),console.log(t)})}})},e.prototype.findword=function(e,n){void 0===n&&(n=this.currentDocumentBodyClone);for(var t=n.childNodes,l=0;l<t.length;l++)if(!this.elementIsExcluded(t[l])&&(t[l].innerHTML.includes(e)||t[l].textContent.includes(e)))return t[l]},e.prototype.findAllwords=function(e,n){void 0===n&&(n=this.currentDocumentBodyClone);for(var t=[],l=n.childNodes,i=0;i<l.length;i++)this.elementIsExcluded(l[i])||l[i].innerHTML.includes(e)&&t.push(l[i]);return t},e.prototype.findExactContainingElement=function(e,n){for(var t=n;t.childNodes&&t.childNodes.length>0&&t.innerHTML.includes(e);)t.childNodes.forEach(function(n){"#text"!==n.nodeName?n.innerHTML.includes(e)&&(t=n):n.textContent.includes(e)&&(t=n)});return"#text"===t.nodeName&&(t=t.parentNode),t},e.prototype.elementIsExcluded=function(e){return["office:text","text:sequence-decls","text:sequence-decl","draw:frame","draw:image","office:annotation","office:annotation-end","dc:creator","dc:date"].includes(e.nodeName)},e.prototype.downloadWord=function(e,n){var t=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(n){t.convertService.toWord(e,n).subscribe(function(e){for(var n=atob(e.word.split(",")[1]),l=e.word.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(n.length),o=new Uint8Array(i),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);var a=new Blob([i],{type:l}),s=URL.createObjectURL(a);console.log(s);var u=document.createElement("a");u.href=s,u.download="word.doc",u.click(),t.commonsService.toggleSpinner()})})},e.prototype.downloadPdf=function(e,n){var t=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(n){t.convertService.toPdf(e,n).subscribe(function(e){for(var n=atob(e.pdf.split(",")[1]),l=e.pdf.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(n.length),o=new Uint8Array(i),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);var a=new Blob([i],{type:l}),s=URL.createObjectURL(a);console.log(s);var u=document.createElement("a");u.href=s,u.download="document.pdf",u.click(),t.commonsService.toggleSpinner()})})},e}(),ye=function(){function e(e){this.documentCreatorService=e}return e.prototype.init=function(e){this.steps=e},e.prototype.setInitialState=function(){var e=this;this.steps.forEach(function(n){switch(n.type){case"iText":case"iDate":e.input(n.replacement,n.type,n.wordToReplace,!1);break;case"iForEach":e.buildForEach(n.value,n.wordToReplace,!1);break;case"iRadioC":e.onInputRadioCSelected(n.defaultRadioId,n.wordToReplace,!1)}}),this.buildDocument()},e.prototype.buildDocument=function(){this.documentCreatorService.buildDocument(this.steps)},e.prototype.input=function(e,n,t,l){void 0===l&&(l=!0),this.steps.forEach(function(n){n.wordToReplace===t?(n.replacement=e,n.isFocused=!0):n.isFocused=!1}),l&&this.buildDocument()},e.prototype.buildForEach=function(e,n,t){var l=this;void 0===t&&(t=!0);var i=[];this.steps.forEach(function(t,o){if(t.wordToReplace===n){for(t.value=e;l.steps[o+1]&&l.steps[o+1].wordToReplace.includes(t.identifier);)l.steps.splice(o+1,1);t.content.forEach(function(n,r){n.modifiedReplacements=[],n.modifiedExtraReplacements=[];var a=[];n.extraReplacements.forEach(function(){a.push([])});for(var s=function(s){var u=n.replacementOriginal;n.extraReplacements.forEach(function(e,n){a[n].push({identifier:e.identifier,replacement:e.replacementOriginal})}),n.subSteps.forEach(function(c,d){var p=t.identifier+c.identifier+s.toString()+d.toString();u=u.replace(c.identifier,p),n.extraReplacements.forEach(function(e,n){var l=c.extraReplacements[n],i=a[n][s];i.wordToReplace=e.identifier+s.toString()+d.toString();var o=t.identifier+l.identifier+s.toString()+d.toString();i.replacement=i.replacement.replace(l.identifier,o),l.wordToReplace=o});var _=JSON.parse(JSON.stringify(c));_.identifier=p,_.wordToReplace=p,l.steps.splice(o+1+d+s*n.subSteps.length+parseInt(e)*r*n.subSteps.length,0,_),"iRadioC"===_.type&&i.push(_)}),n.modifiedReplacements.push(u)},u=0;u<parseInt(e);u++)s(u);n.modifiedExtraReplacements.push(a)})}}),t&&(i.forEach(function(e){l.onInputRadioCSelected(e.defaultRadioId,e.wordToReplace,!1)}),this.buildDocument())},e.prototype.onInputRadioBSelected=function(e,n,t){void 0===t&&(t=!0),this.steps.forEach(function(t,l){t.wordToReplace===n&&t.radios.forEach(function(n){n.radioId===e?(t.replacement=n.replacementOriginal,n.checked=!0):n.checked=!1})}),t&&this.buildDocument()},e.prototype.onInputRadioCSelected=function(e,n,t){var l=this;void 0===t&&(t=!0),this.steps.forEach(function(t,i){t.identifier===n&&t.radios.forEach(function(n){if(n.radioId===e){for(;l.steps[i+1]&&l.steps[i+1].wordToReplace.includes(t.identifier);)l.steps.splice(i+1,1);var o=n.replacementOriginal;n.extraReplacements.forEach(function(e){e.replacement=e.replacementOriginal}),n.subSteps.forEach(function(e,r){e.wordToReplace=t.identifier+e.identifier,o=o.replace(e.identifier,e.wordToReplace),n.extraReplacements.forEach(function(n){n.replacement=n.replacement.replace(e.identifier,e.wordToReplace)}),"iCheckbox"===e.type&&e.checkboxes.forEach(function(e){e.checked=!1}),l.steps.splice(i+1+r,0,e)}),n.replacement=o,n.checked=!0}else n.checked=!1})}),t&&this.buildDocument()},e.prototype.onInputCheckboxSelected=function(e,n,t,l){var i=this;void 0===l&&(l=!0),this.steps.forEach(function(l,o){if(l.wordToReplace===n){var r=l.replacementOriginal;l.checkboxes.forEach(function(n){if(n.wordToReplace=l.wordToReplace+n.identifier,r=r.replace(n.identifier,n.wordToReplace),n.identifier===e){for(var a=i.steps.length-o,s=0;s<a;s++)i.steps[o+1+s]&&i.steps[o+1+s].wordToReplace.includes(n.identifier)&&i.steps.splice(o+1+s,1);if(t){var u=n.replacementOriginal;n.subSteps.forEach(function(e,t){e.wordToReplace=n.wordToReplace+e.identifier,u=u.replace(e.identifier,e.wordToReplace),i.steps.splice(o+1+t,0,e)}),n.replacement=u}n.checked=t}}),l.replacement=r,l.rules.length&&l.rules.forEach(function(e){if("noneIsChecked"===e.condition){var n=!1;l.checkboxes.forEach(function(e){e.checked&&(n=!0)}),n?e.isFulfilled=!1:(l.replacement=e.replacement,e.isFulfilled=!0)}})}}),l&&this.buildDocument()},e.prototype.getStepsModel=function(){return this.steps},e}(),ve=[{type:"start",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n      inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino).",isCurrentStep:!0},{type:"iText",identifier:"iLocalidad",wordToReplace:"iLocalidad",replacement:"",question:"Lugar en el que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique el lugar en el que se firma este contrato."},mandatory:!0,isFocused:!1},{type:"iDate",identifier:"iFecha",wordToReplace:"iFecha",replacement:"",question:"Fecha en la que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Con la ayuda del calendario, indique la fecha en la que se firma este contrato."},mandatory:!0,isFocused:!1},{type:"iForEach",value:1,replacement:"",identifier:"iParteVendedora",wordToReplace:"iParteVendedora",question:"N\xfamero de personas que son propietarias (y que venden) el inmueble:",content:[{identifier:"iParteVendedora",wordToReplace:"iParteVendedora",replacementOriginal:"iPersona",replacement:"",extraReplacements:[{identifier:"iParteVendedora-extraA",wordToReplace:"iParteVendedora-extraA",replacementOriginal:"iPersona-extraA",replacement:""}],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"La parte vendedora (propietario) n\xbaX del inmueble es una:",identifier:"iPersona",wordToReplace:"iPersona",indications:"Marque la opci\xf3n Persona ...",defaultRadioId:"persona-fisica",replacement:"",extraReplacements:[{identifier:"iPersona-extraA",wordToReplace:"iPersona-extraA",insideId:"opA"}],radios:[{label:"Persona f\xedsica",radioId:"persona-fisica",identifier:"persona-fisica",replacementOriginal:"iNombreFisica con iDcoumentoFisica iDcoumentoNumeroFisica, y con domicilio en: iDomicilioFisica.",replacement:"iNombreFisica con iDcoumentoFisica iDcoumentoNumeroFisica, y con domicilio en: iDomicilioFisica.",extraReplacements:[{insideId:"opA",replacementOriginal:"iNombreFisica, quien comparece en su propio nombre y derecho, como PARTE VENDEDORA.",replacement:""}],checked:!0,subSteps:[{question:"Nombre completo de la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iNombreFisica",identifier:"iNombreFisica",type:"iText",replacement:""},{question:"Tipo de documento de identificaci\xf3n personal para identificar a la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoFisica",identifier:"iDcoumentoFisica",type:"iText",replacement:""},{question:"N\xfamero del documento personal de identificaci\xf3n de la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoNumeroFisica",identifier:"iDcoumentoNumeroFisica",type:"iText",replacement:""},{question:"Direcci\xf3n completa de la parte vendedora (propietario) n\xba1 del inmueble: ",wordToReplace:"iDomicilioFisica",identifier:"iDomicilioFisica",type:"iText",replacement:""}]},{label:"Persona jur\xeddica",replacementOriginal:"iNombreJuridica, con iDcoumentoJuridica iDcoumentoNumeroJuridica, y que ostenta el cargo de iCargo.",replacement:"iNombreJuridica, con iDcoumentoJuridica iDcoumentoNumeroJuridica, y que ostenta el cargo de iCargo.",extraReplacements:[{insideId:"opA",replacementOriginal:"iNombreJuridica, quien comparece en nombre y representaci\xf3n de iDenominacion con NIF iNIF, y con domicilio en iDomicilioJuridica, y ello en virtud de Escritura p\xfablica y/o autorizaci\xf3n pertinente, donde se recoge y motiva su facultad de intervenci\xf3n, como PARTE VENDEDORA.",replacement:""}],radioId:"persona-juridica",identifier:"persona-juridica",checked:!1,subSteps:[{question:"Nombre completo de la persona que firma o firmar\xe1 el contrato en nombre de la parte vendedora (propietario) n\xba1 (ya que \xe9sta es una persona jur\xeddica):",wordToReplace:"iNombreJuridica",identifier:"iNombreJuridica",type:"iText",replacement:""},{question:"Tipo de documento de identificaci\xf3n personal para identificar a la persona que firma el contrato en nombre de la parte vendedora (propietario) n\xba1:",wordToReplace:"iDcoumentoJuridica",identifier:"iDcoumentoJuridica",type:"iText",replacement:""},{question:"N\xfamero del documento personal de identificaci\xf3n de la persona que representa con su firma a la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoNumeroJuridica",identifier:"iDcoumentoNumeroJuridica",type:"iText",replacement:""},{question:"Cargo o puesto que ostenta la persona que representa con su firma en el contrato a la parte vendedora n\xba1",wordToReplace:"iCargo",identifier:"iCargo",type:"iText",replacement:""},{question:"Denominaci\xf3n o raz\xf3n social de la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iDenominacion",identifier:"iDenominacion",type:"iText",replacement:""},{question:"N\xfamero del NIF identificador (antiguo CIF) de la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iNIF",identifier:"iNIF",type:"iText",replacement:""},{question:"Domicilio social o direcci\xf3n de la parte vendedora (propietario) n\xba1 del inmueble:",wordToReplace:"iDomicilioJuridica",identifier:"iDomicilioJuridica",type:"iText",replacement:""}]}]}]}]},{type:"iForEach",value:1,replacement:"",identifier:"iParteCompradora",wordToReplace:"iParteCompradora",question:"N\xfamero de personas que comprar\xe1n o adquirir\xe1n el inmueble:",content:[{identifier:"iParteCompradora",wordToReplace:"iParteCompradora",replacementOriginal:"iPersonaCompradora",replacement:"",extraReplacements:[{identifier:"iParteCompradora-extraA",wordToReplace:"iParteCompradora-extraA",replacementOriginal:"iPersonaCompradora-extraA",replacement:""}],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"La parte compradora (propietario) n\xbaX del inmueble es una:",identifier:"iPersonaCompradora",wordToReplace:"iPersonaCompradora",indications:"Marque la opci\xf3n Persona ...",replacement:"",extraReplacements:[{identifier:"iPersonaCompradora-extraA",wordToReplace:"iPersonaCompradora-extraA",insideId:"opA"}],radios:[{label:"Persona f\xedsica",radioId:"persona-fisica",identifier:"persona-fisica",replacementOriginal:"iNombreFisica con iDcoumentoFisica iDcoumentoNumeroFisica, y con domicilio en: iDomicilioFisica.",replacement:"iNombreFisica con iDcoumentoFisica iDcoumentoNumeroFisica, y con domicilio en: iDomicilioFisica.",extraReplacements:[{insideId:"opA",replacementOriginal:"iNombreFisica, quien comparece en su propio nombre y derecho, como PARTE COMPRADORA.",replacement:""}],checked:!0,subSteps:[{question:"Nombre completo de la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iNombreFisica",identifier:"iNombreFisica",type:"iText",replacement:""},{question:"Tipo de documento de identificaci\xf3n personal para identificar a la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoFisica",identifier:"iDcoumentoFisica",type:"iText",replacement:""},{question:"N\xfamero del documento personal de identificaci\xf3n de la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoNumeroFisica",identifier:"iDcoumentoNumeroFisica",type:"iText",replacement:""},{question:"Direcci\xf3n completa de la parte compradora (propietario) n\xba1 del inmueble: ",wordToReplace:"iDomicilioFisica",identifier:"iDomicilioFisica",type:"iText",replacement:""}]},{label:"Persona jur\xeddica",replacementOriginal:"iNombreJuridica, con iDcoumentoJuridica iDcoumentoNumeroJuridica, y que ostenta el cargo de iCargo.",replacement:"iNombreJuridica, con iDcoumentoJuridica iDcoumentoNumeroJuridica, y que ostenta el cargo de iCargo.",extraReplacements:[{insideId:"opA",replacementOriginal:"iNombreJuridica, quien comparece en nombre y representaci\xf3n de iDenominacion con NIF iNIF, y con domicilio en iDomicilioJuridica, y ello en virtud de Escritura p\xfablica y/o autorizaci\xf3n pertinente, donde se recoge y motiva su facultad de intervenci\xf3n, como PARTE COMPRADORA.",replacement:""}],radioId:"persona-juridica",identifier:"persona-juridica",checked:!1,subSteps:[{question:"Nombre completo de la persona que firma o firmar\xe1 el contrato en nombre de la parte compradora (propietario) n\xba1 (ya que \xe9sta es una persona jur\xeddica):",wordToReplace:"iNombreJuridica",identifier:"iNombreJuridica",type:"iText",replacement:""},{question:"Tipo de documento de identificaci\xf3n personal para identificar a la persona que firma el contrato en nombre de la parte compradora (propietario) n\xba1:",wordToReplace:"iDcoumentoJuridica",identifier:"iDcoumentoJuridica",type:"iText",replacement:""},{question:"N\xfamero del documento personal de identificaci\xf3n de la persona que representa con su firma a la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iDcoumentoNumeroJuridica",identifier:"iDcoumentoNumeroJuridica",type:"iText",replacement:""},{question:"Cargo o puesto que ostenta la persona que representa con su firma en el contrato a la parte compradora n\xba1",wordToReplace:"iCargo",identifier:"iCargo",type:"iText",replacement:""},{question:"Denominaci\xf3n o raz\xf3n social de la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iDenominacion",identifier:"iDenominacion",type:"iText",replacement:""},{question:"N\xfamero del NIF identificador (antiguo CIF) de la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iNIF",identifier:"iNIF",type:"iText",replacement:""},{question:"Domicilio social o direcci\xf3n de la parte compradora (propietario) n\xba1 del inmueble:",wordToReplace:"iDomicilioJuridica",identifier:"iDomicilioJuridica",type:"iText",replacement:""}]}]}]}]},{type:"iText",identifier:"iFincaDescripcion",wordToReplace:"iFincaDescripcion",replacement:"",question:"Descripci\xf3n detallada del inmueble objeto de compraventa:",indications:"Indique el lugar en el que se firma este contrato."},{type:"iText",identifier:"iFincaDireccion",wordToReplace:"iFincaDireccion",replacement:"",question:"Direcci\xf3n completa del inmueble que se va a vender:",indications:"Indique el lugar en el que se firma este contrato."},{type:"iText",identifier:"iFincaMetrosCuadrados",wordToReplace:"iFincaMetrosCuadrados",replacement:"",question:"N\xfamero de metros cuadrados que dispone el inmueble:",indications:"Indique el lugar en el que se firma este contrato."},{type:"iRadioC",question:"El inmueble que se vender\xe1 es una finca edificada (vivienda, local de negocio, etc.)",identifier:"iFincaEdificada",wordToReplace:"iFincaEdificada",indications:"Marque la opci\xf3n Persona ...",replacement:"",extraReplacements:[{identifier:"iFincaEdificada-extraA",wordToReplace:"iFincaEdificada-extraA",insideId:"opA"}],radios:[{label:"S\xed",replacementOriginal:"iParteAccesoria",replacement:"iParteAccesoria",radioId:"iFincaEdificada-opA",identifier:"iFincaEdificada-opA",extraReplacements:[{insideId:"opA",replacementOriginal:"iComunidadPropietarios",replacement:""}],checked:!1,subSteps:[{question:"\xbfLa casa incluye alguna de estas partes accesorias?",wordToReplace:"iParteAccesoria",identifier:"iParteAccesoria",type:"iCheckbox",replacementOriginal:"Como parte anexa o accesoria a la misma, tambi\xe9n incluye:<br>iGaraje iTrastero<br> En adelante se denominar\xe1 conjuntamente la finca y sus accesorios. La superficie y composici\xf3n de la Finca, as\xed como dem\xe1s caracter\xedsticas y estado de las mismas son perfectamente conocidas y aceptadas por las Partes intervinientes en este Pacto. No obstante, la Finca se vender\xe1 como cuerpo cierto. As\xed, de diferir la superficie real y la aqu\xed descrita, esto no afectar\xe1 de forma alguna a las condiciones y cl\xe1usulas que aqu\xed se fijan y para aquellas que se fijen en el contrato de compraventa, particularmente en lo relativo al precio de adquisici\xf3n de la Finca. <br><br> <strong>II.</strong> Que la Referencia Catastral de la Finca es: iReferenciaCatastral. Igualmente, se hace constar que la PARTE VENDEDORA ha exhibido el Certificado de Eficiencia Energ\xe9tica de la Finca regulado en el Real Decreto 235/2013, de 5 de abril, por el que se aprueba el procedimiento b\xe1sico para la certificaci\xf3n de la eficiencia energ\xe9tica de los edificios. Dicho certificado se incorporar\xe1 al contrato de compraventa de la Finca.",replacement:"",checkboxes:[{label:"Marque esta casilla cuando el inmueble que se vender\xe1 tiene garaje:",replacementOriginal:"<br>- Garaje: iGarajeDescripcion.<br>",replacement:"",identifier:"iGaraje",wordToReplace:"iGaraje",checked:!1,subSteps:[{question:"Descripci\xf3n del garaje",wordToReplace:"iGarajeDescripcion",identifier:"iGarajeDescripcion",type:"iText",replacement:""}]},{label:"Marque esta casilla cuando el inmueble que se vender\xe1 tiene un trastero (p. ej: en el \xfaltimo piso del edificio, etc):",replacementOriginal:"<br>- Trastero: iTrasteroDescripcion.<br>",replacement:"",identifier:"iTrastero",wordToReplace:"iTrastero",checked:!1,subSteps:[{question:"Descripci\xf3n del transtero",wordToReplace:"iTrasteroDescripcion",identifier:"iTrasteroDescripcion",type:"iText",replacement:""}]}],rules:[{condition:"noneIsChecked",rulename:"replace",replacement:"En adelante, se denominar\xe1 la Finca. La superficie y composici\xf3n de la Finca, as\xed como dem\xe1s caracter\xedsticas y estado de las mismas son perfectamente conocidas y aceptadas por las Partes intervinientes en este Pacto. No obstante, la Finca se vender\xe1 como cuerpo cierto. As\xed, de diferir la superficie real y la aqu\xed descrita, esto no afectar\xe1 de forma alguna a las condiciones y cl\xe1usulas que aqu\xed se fijan y para aquellas que se fijen en el contrato de compraventa, particularmente en lo relativo al precio de adquisici\xf3n de la Finca. <br><br> <strong>II.</strong> Que la Referencia Catastral de la Finca es: iReferenciaCatastral.",isFulfilled:!0}]},{type:"iRadioB",question:"El inmueble que se vender\xe1, \xbfforma parte de una Comunidad de Propietarios?:",identifier:"iComunidadPropietarios",wordToReplace:"iComunidadPropietarios",indications:"Marque la opci\xf3n Persona ...",replacement:"",radios:[{label:"S\xed",replacementOriginal:"Independientemente del estado de cargas que pudiesen gravar la Finca y su situaci\xf3n arrendaticia en este momento, la misma se entregar\xe1 libre de cargas, grav\xe1menes y al corriente de pago de impuestos, contribuciones y gastos de comunidad y libre de arrendatarios, precaristas y/o ocupantes, pudiendo, en su caso, la PARTE ADQUIRENTE retener las cantidades correspondientes al estado de cargas, para proceder a su cancelaci\xf3n econ\xf3mica y registral, todo ello en el mismo acto de la escritura p\xfablica de compraventa. En consecuencia, cualquier pago pendiente anterior a la entrega de la Finca ser\xe1 de cuenta y cargo de la PARTE VENDEDORA. La obligaci\xf3n de pago asumida por la PARTE VENDEDORA se entiende sin perjuicio de que la finca vendida quede legalmente afecta al pago del Impuesto sobre Bienes Inmuebles correspondiente a los ejercicios vencidos y no satisfechos, as\xed como tambi\xe9n, en su caso, al pago de las cantidades adeudadas a la comunidad de propietarios para el sostenimiento de los gastos generales por los anteriores titulares hasta el l\xedmite de los que resulten imputables a la parte vencida de la anualidad en la cual tenga lugar la adquisici\xf3n y a los tres a\xf1os naturales inmediatamente anteriores.",replacement:"",radioId:"iComunidadPropietarios-opA",identifier:"iComunidadPropietarios-opA",extraReplacements:[],checked:!1},{label:"No",replacementOriginal:"Independientemente del estado de cargas que pudiesen gravar la Finca y su situaci\xf3n arrendaticia en este momento, la misma se entregar\xe1 libre de cargas, grav\xe1menes y al corriente de pago de impuestos, contribuciones y libre de arrendatarios, precaristas y/o ocupantes, pudiendo, en su caso, la PARTE ADQUIRENTE retener las cantidades correspondientes al estado de cargas, para proceder a su cancelaci\xf3n econ\xf3mica y registral, todo ello en el mismo acto de la escritura p\xfablica de compraventa. En consecuencia, cualquier pago pendiente anterior a la entrega de la Finca ser\xe1 de cuenta y cargo de la PARTE VENDEDORA. La obligaci\xf3n de pago asumida por la PARTE VENDEDORA se entiende sin perjuicio de que la finca vendida quede legalmente afecta al pago del Impuesto sobre Bienes Inmuebles correspondiente a los ejercicios vencidos y no satisfechos.",replacement:"",radioId:"iComunidadPropietarios-opB",identifier:"iComunidadPropietarios-opB",extraReplacements:[],checked:!1}]}]},{label:"No",replacementOriginal:"<strong>II.</strong>\xa0Que la Referencia Catastral de la Finca es:\xa0iReferenciaCatastral.",replacement:"",radioId:"iFincaEdificada-opB",identifier:"iFincaEdificada-opB",extraReplacements:[{insideId:"opA",replacementOriginal:"Independientemente del estado de cargas que pudiesen gravar la Finca y su situaci\xf3n arrendaticia en este momento, la misma se entregar\xe1 libre de cargas, grav\xe1menes y al corriente de pago de impuestos, contribuciones y libre de arrendatarios, precaristas y/o ocupantes, pudiendo, en su caso, la PARTE ADQUIRENTE retener las cantidades correspondientes al estado de cargas, para proceder a su cancelaci\xf3n econ\xf3mica y registral, todo ello en el mismo acto de la escritura p\xfablica de compraventa. En consecuencia, cualquier pago pendiente anterior a la entrega de la Finca ser\xe1 de cuenta y cargo de la PARTE VENDEDORA. La obligaci\xf3n de pago asumida por la PARTE VENDEDORA se entiende sin perjuicio de que la finca vendida quede legalmente afecta al pago del Impuesto sobre Bienes Inmuebles correspondiente a los ejercicios vencidos y no satisfechos.",replacement:""}],checked:!1,subSteps:[]}]},{type:"iText",identifier:"iReferenciaCatastral",wordToReplace:"iReferenciaCatastral",replacement:"",question:"Introduzca la Referencia Catastral del inmueble:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique el lugar en el que se firma este contrato."},isFocused:!1},{type:"iText",identifier:"iRegistroPropiedad",wordToReplace:"iRegistroPropiedad",replacement:"",question:"Registro de la propiedad en el que est\xe1 inscrito el inmueble",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique el lugar en el que se firma este contrato."},isFocused:!1},{type:"iText",identifier:"iDatosRegistrales",wordToReplace:"iDatosRegistrales",replacement:"",question:"Datos registrales completos del inmueble:",indications:"Indique el lugar en el que se firma este contrato."},{type:"iRadioC",question:"Situaci\xf3n de cargas (ej: hipoteca, servidumbre, etc) del inmueble:)",identifier:"iCargas",wordToReplace:"iCargas",indications:"Marque la opci\xf3n Persona ...",replacement:"",extraReplacements:[],radios:[{label:"Existen cargas",replacementOriginal:"<strong>IV.</strong>\xa0Que respecto a las cargas, la PARTE VENDEDORA hace constar que sobre la Finca existen las siguientes cargas: iDescriptionOfCargas",replacement:"",radioId:"iCargas-opA",identifier:"iCargas-opA",extraReplacements:[],checked:!0,subSteps:[{type:"iText",identifier:"iDescriptionOfCargas",wordToReplace:"iDescriptionOfCargas",replacement:"",question:"Explique en este espacio las cargas que pesan sobre el inmueble que se va a vender:",indications:"Indique el lugar en el que se firma este contrato."}]},{label:"Libre de cargas",replacementOriginal:"<strong>IV.</strong>\xa0Que respecto a las cargas, la PARTE VENDEDORA hace constar que la Finca se encuentra libre de toda carga, gravamen y limitaci\xf3n.",replacement:"",radioId:"iCargas-opB",identifier:"iCargas-opB",extraReplacements:[],checked:!1,subSteps:[]}]},{type:"iRadioC",question:"Ocupaci\xf3n del inmueble (p. ej. hay inquilinos):",identifier:"iOcupacionInmueble",wordToReplace:"iOcupacionInmueble",indications:"Marque la opci\xf3n Persona ...",replacement:"",extraReplacements:[],radios:[{label:"Existen ocupantes",replacementOriginal:"Asimismo, en cuanto a la situaci\xf3n arrendaticia, la Finca se encuentra ocupada por: iDescriptionOfOcupantes",replacement:"",radioId:"iOcupacionInmueble-opA",identifier:"iOcupacionInmueble-opA",extraReplacements:[],checked:!0,subSteps:[{type:"iText",identifier:"iDescriptionOfOcupantes",wordToReplace:"iDescriptionOfOcupantes",replacement:"",question:"Describa el tipo de ocupantes que se encuentran en el inmueble: ",indications:"Indique el lugar en el que se firma este contrato."}]},{label:"Libre de ocupantes",replacementOriginal:"Asimismo, en cuanto a la situaci\xf3n arrendaticia, la Finca se encuentra libre de arrendatarios, ocupantes y/o precaristas.",replacement:"",radioId:"iOcupacionInmueble-opB",identifier:"iOcupacionInmueble-opB",extraReplacements:[],checked:!1,subSteps:[]}]},{type:"end",identifier:"end",wordToReplace:"end",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n        inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino).",checkoutProcess:{isInited:!1,phase:0}}],Ae=function(){function e(e,n,t,l,i,o,r,a){this.stepModelService=e,this.commonsService=n,this.sharedService=t,this.documentCreatorService=l,this.formsService=i,this.toastr=o,this.checkoutService=r,this.route=a,this.form=new f.b,this.currentStep=0,this.progresBarPercentage="0%",this.steps=ve,this.formAlreadyPaid=!1}return e.prototype.ngOnInit=function(){var e=this;this.route.queryParams.subscribe(function(n){n.transactionId?(e.formAlreadyPaid=!0,e.formsService.getPaidCertifiedForm(n.transactionId).subscribe(function(n){if(n.certifiedForm){var t=n.certifiedForm;e.form.fields=JSON.parse(t.fields),e.form.title=t.title,e.form.uri=t.uri,e.form.id="contrato-arras-penitenciales",e.form.amount=t.amount,e.setInitiaState()}else n.transactionNotFound?e.commonsService.toastMessage("error","Transaction Id does not exist","Transaction id not found"):n.formExpired&&e.commonsService.toastMessage("error","The period of 30 days to change the document has expired","Transaction expired")})):window.sessionStorage["Contrato de Arras Penitenciales"]?(e.form=JSON.parse(window.sessionStorage["Contrato de Arras Penitenciales"]),e.steps=e.form.fields,e.formAlreadyPaid=e.form.alreadyPaid,console.log(e.form.alreadyPaid),e.setInitiaState()):e.formsService.getCertifiedForm("contrato-arras-penitenciales").subscribe(function(n){e.form.fields=e.steps,e.form.title=n.title,e.form.uri=n.uri,e.form.id="contrato-arras-penitenciales",e.form.amount=n.amount,e.form.image=n.image,e.setInitiaState()})})},e.prototype.ngAfterViewInit=function(){this.commonsService.resizeEditor(!1)},e.prototype.ngOnDestroy=function(){this.documentCreatorService.destroy(),window.removeEventListener("resize",this.commonsService.resizeEditor.bind(this))},e.prototype.setInitiaState=function(){var e=this;this.stepModelService.init(this.form.fields),this.sharedService.setForm(this.form),this.form.fields.forEach(function(n,t){n.isCurrentStep&&(e.currentStep=t,e.updateProgressBarPercentage(),"end"===e.steps[e.currentStep].type&&e.steps[e.currentStep].checkoutProcess.isInited&&!e.formAlreadyPaid&&e.toogleModal(e.modalEnd.nativeElement))}),this.documentCreatorService.init(this.form.uri).then(function(n){e.commonsService.resizeEditor(!0),window.addEventListener("resize",e.commonsService.resizeEditor.bind(e)),e.documentCreatorService.resizeDocumentContainer(),e.stepModelService.buildDocument(),window.sessionStorage["Contrato de Arras Penitenciales"]||e.stepModelService.setInitialState()})},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.moveStep=function(e){"next"===e?this.validateBeforeNextStep(this.steps[this.currentStep])&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep+1].isCurrentStep=!0,this.currentStep+=1):"previous"===e&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep-1].isCurrentStep=!0,this.currentStep-=1),this.updateProgressBarPercentage(),"end"===this.steps[this.currentStep].type&&this.prepareForCheckout()},e.prototype.validateBeforeNextStep=function(e){return!e.mandatory||""!==e.replacement||(this.toastr.error("Form cannot be empty","Empty field",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),this.input.nativeElement.style.borderBottom="3px solid red",!1)},e.prototype.updateProgressBarPercentage=function(){this.progresBarPercentage=Math.round(this.currentStep/(this.steps.length-1)*100)+"%"},e.prototype.showIndication=function(){var e=this.steps[this.currentStep];e.indications.areIndications&&(window.innerWidth>885?this.documentCreatorService.showIndicationInsideText(e.wordToReplace,e.indications.value):(this.previewDocumentButton(!0),this.documentCreatorService.showIndicationInsideText(e.wordToReplace,e.indications.value)))},e.prototype.prepareForCheckout=function(){this.form.fields=this.steps,this.sharedService.setForm(this.form)},e.prototype.startCheckout=function(){this.steps[this.currentStep].checkoutProcess.isInited=!0},e.prototype.onFormPaid=function(e){var n=this;this.formAlreadyPaid=!0,this.form.alreadyPaid=!0,this.form.uri=e.uri,this.form.fields=JSON.parse(e.fields),this.stepModelService.init(this.form.fields),this.documentCreatorService.destroy(),this.sharedService.setForm(this.form),this.documentCreatorService.init(this.form.uri).then(function(t){n.commonsService.resizeEditor(!0),window.addEventListener("resize",n.commonsService.resizeEditor.bind(n)),n.stepModelService.buildDocument(),n.documentCreatorService.saveUri().then(function(t){n.checkoutService.sendMail(e.transactionId,t).subscribe(function(e){console.log(e)})})})},e.prototype.previewDocumentButton=function(e){this.commonsService.previewDocumentButton(e),this.documentCreatorService.resizeEvent()},e.prototype.onExitPayment=function(){this.toogleModal(this.modalEnd.nativeElement)},e.prototype.toogleCheckout=function(){this.formAlreadyPaid?this.toogleModal(this.modalDownload.nativeElement):(this.toogleModal(this.modalEnd.nativeElement),this.startCheckout())},e.prototype.downloadWord=function(){this.documentCreatorService.downloadWord(this.form.id,this.form.uri)},e.prototype.downloadPdf=function(){this.documentCreatorService.downloadPdf(this.form.id,this.form.uri)},e}(),Te=l.ob({encapsulation:2,styles:[],data:{}});function Ie(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__top__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,9,"div",[["class","form-creator__fields-area__top__author-date"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,4,"span",[["class","form-creator__fields-area__top__author-date__author"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"div",[["class","form-creator__fields-area__top__author-date__author__image-container"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,0,"img",[["alt","avatar"],["src","/assets/images/avatar.jpg"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Juan Camejo Alarc\xf3n"])),(e()(),l.qb(7,0,null,null,3,"span",[["class","form-creator__fields-area__top__author-date__date"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Last updated:"])),(e()(),l.Ib(-1,null,[" 20 abril 2019 "])),(e()(),l.qb(11,0,null,null,2,"div",[["class","form-creator__fields-area__top__before-start-button"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,1,"div",[["class","form-creator__fields-area__top__before-start-button__information-modal-icon trigger"]],null,null,null,null,null)),(e()(),l.qb(13,0,null,null,0,"span",[["class","icon icon-info-solid"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,42))&&i),i},null,null))],null,null)}function Ne(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","progress-container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,2,"div",[["class","progress progress-large"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"span",[],[[4,"width",null]],null,null,null,null)),(e()(),l.Ib(3,null,["",""]))],null,function(e,n){var t=n.component;e(n,2,0,t.progresBarPercentage),e(n,3,0,t.progresBarPercentage)})}function Re(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,7,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,6,"div",[["class","form-creator__fields-area__middle__initial-screen"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"h2",[["class","form-creator__fields-area__middle__initial-screen__form-title"]],null,null,null,null,null)),(e()(),l.Ib(3,null,[" "," "])),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__middle__initial-screen__description"]],null,null,null,null,null)),(e()(),l.Ib(5,null,[" "," "])),(e()(),l.qb(6,0,null,null,1,"button",[["class","button-filled button-filled--start-form"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,42))&&i),i},null,null)),(e()(),l.Ib(-1,null,[" Rellenar formulario "]))],null,function(e,n){var t=n.component;e(n,3,0,t.steps[t.currentStep].title),e(n,5,0,t.steps[t.currentStep].description)})}function Se(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function Oe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[[4,0],["input",1]],null,0,"input",[["type","text"]],[[8,"value",0]],[[null,"keyup"]],function(e,n,t){var i=!0,o=e.component;return"keyup"===n&&(i=!1!==o.stepModelService.input(l.Ab(e,10).value,"iText",o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.ib(16777216,null,null,1,null,Se)),l.pb(12,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].replacement)})}function Ce(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function we(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[[4,0],["input",1]],null,0,"input",[["type","number"]],[[8,"value",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.buildForEach(l.Ab(e,10).value,o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.ib(16777216,null,null,1,null,Ce)),l.pb(12,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].value)})}function Pe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function De(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,4,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle__date-container"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(10,null,["",""])),(e()(),l.qb(11,0,[[4,0],["input",1]],null,0,"input",[["type","date"]],[[8,"value",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.input(l.Ab(e,11).value,"iDate",o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.ib(16777216,null,null,1,null,Pe)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,10,0,t.steps[t.currentStep].question),e(n,11,0,t.steps[t.currentStep].replacement)})}function Le(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" N\xfamero de personas que firman el contrato en tanto que arrendadores (propietario): "])),(e()(),l.qb(10,0,[[4,0],["input",1]],null,0,"input",[["max","4"],["min","1"],["type","range"]],null,[[null,"change"]],function(e,n,t){var i=!0;return"change"===n&&(i=!1!==e.component.onRangeSelected(l.Ab(e,10).value)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(12,null,["",""])),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,function(e,n){e(n,12,0,l.Ab(n,10).value)})}function qe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var l=!0,i=e.component;return"change"===n&&(l=!1!==i.stepModelService.onInputRadioBSelected(e.context.$implicit.radioId,i.steps[i.currentStep].wordToReplace)&&l),l},null,null)),(e()(),l.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(4,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.checked),e(n,4,0,n.context.$implicit.label)})}function xe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,qe)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].radios)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function ke(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var l=!0,i=e.component;return"change"===n&&(l=!1!==i.stepModelService.onInputRadioCSelected(e.context.$implicit.radioId,i.steps[i.currentStep].wordToReplace)&&l),l},null,null)),(e()(),l.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(4,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.checked),e(n,4,0,n.context.$implicit.label)})}function Me(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,ke)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].radios)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function Fe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(1,0,[[4,0],["input",1]],null,0,"input",[["class","filled-in"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.onInputCheckboxSelected(e.context.$implicit.identifier,o.steps[o.currentStep].wordToReplace,l.Ab(e,1).checked)&&i),i},null,null)),(e()(),l.qb(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(3,null,["","."]))],null,function(e,n){e(n,1,0,n.context.$implicit.checked),e(n,3,0,n.context.$implicit.label)})}function Ue(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__checkbox-input"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,Fe)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].checkboxes)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function Be(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__end-step"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,8,"div",[["class","form-creator__fields-area__end-step__container"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Finalizado"])),(e()(),l.qb(8,0,null,null,1,"button",[["class","button-filled button-filled--start-form trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toogleCheckout()&&l),l},null,null)),(e()(),l.Ib(-1,null,["Descargar"])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__end-step__icons"]],null,null,null,null,null)),(e()(),l.qb(11,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,null,null,null,null))],null,null)}function ze(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,18,"div",[["class","form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"span",[["class","icon icon-file-regular"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["1."])),(e()(),l.qb(5,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Elige un documento"])),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,0,"span",[["class","icon icon-list-alt-regular"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["2."])),(e()(),l.qb(11,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Rellena el formulario"])),(e()(),l.qb(13,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,0,"span",[["class","icon icon-print-solid"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["3."])),(e()(),l.qb(17,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Gu\xe1rdalo e impr\xedmelo"]))],null,null)}function He(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("next")&&l),l},null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Siguiente"])),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-right-solid"]],null,null,null,null,null))],null,null)}function Ve(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,11,"div",[["class","form-creator__fields-area__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,10,"div",[["class","form-creator__fields-area__bottom__container"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("previous")&&l),l},null,null)),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-left-solid"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Anterior"])),(e()(),l.qb(6,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__preview-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.previewDocumentButton(!0)&&l),l},null,null)),(e()(),l.Ib(-1,null,[" Preview "])),(e()(),l.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["\u2b07"])),(e()(),l.ib(16777216,null,null,1,null,He)),l.pb(11,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,11,0,"end"!==t.steps[t.currentStep].type)},null)}function Ye(e){return l.Kb(0,[l.Gb(402653184,1,{modal:0}),l.Gb(402653184,2,{modalEnd:0}),l.Gb(402653184,3,{modalDownload:0}),l.Gb(671088640,4,{input:0}),(e()(),l.qb(4,0,null,null,37,"div",[["class","form-creator__container"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,29,"div",[["class","form-creator__fields-area"],["id","fields-area"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,28,"div",[["class","form-creator__fields-area__container"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,4,"div",[["class","form-creator__fields-area__top"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,Ie)),l.pb(9,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Ne)),l.pb(11,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(12,0,null,null,18,"div",[["class","form-creator__fields-area__middle"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,Re)),l.pb(14,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Oe)),l.pb(16,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,we)),l.pb(18,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,De)),l.pb(20,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Le)),l.pb(22,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,xe)),l.pb(24,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Me)),l.pb(26,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Ue)),l.pb(28,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Be)),l.pb(30,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,ze)),l.pb(32,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,Ve)),l.pb(34,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(35,0,null,null,6,"div",[["class","form-creator__text-area"],["id","text-area"]],null,null,null,null,null)),(e()(),l.qb(36,0,null,null,1,"div",[["id","wodoformbaseddocs"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(37,0,null,null,0,"div",[["id","editorContainer"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(38,0,null,null,3,"button",[["class","button-filled button-filled--preview-document"],["id","scrollToTop"],["style","display: none;"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.previewDocumentButton(!1)&&l),l},null,null)),(e()(),l.Ib(-1,null,["Form "])),(e()(),l.qb(40,0,null,null,1,"span",[["style","font-size:20px;"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["\u2191"])),(e()(),l.qb(42,0,[[1,0],["modal",1]],null,55,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(43,0,null,null,54,"div",[["class","modal__content modal__content--privacy"]],null,null,null,null,null)),(e()(),l.qb(44,0,null,null,2,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),l.qb(45,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Indicaciones antes de comenzar el formulario"])),(e()(),l.qb(47,0,null,null,47,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"]],null,null,null,null,null)),(e()(),l.qb(48,0,null,null,46,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.qb(49,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino). Para que tenga validez, debe realizarse siguiendo las pautas del nuevo decreto de medidas urgentes en materia de alquiler, en vigor desde el 6 de marzo de 2019, que introduce algunos cambios en la Ley de Arrendamientos Urbanos (LAU). "])),(e()(),l.qb(51,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(53,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Lo m\xe1s habitual es firmar contrato por un a\xf1o,\xa0renovable hasta cinco. Incluso si se han pactado periodos m\xe1s cortos, el inquilino tiene derecho a prorrogarlo hasta 5 a\xf1os. Adem\xe1s, si el arrendador es una persona jur\xeddica (una empresa o entidad), se ampl\xeda a 7 a\xf1os. Esta es una de las principales del nuevo decreto, ya que hasta su entrada en vigor la renovaci\xf3n quedaba limitada a 3 a\xf1os. "])),(e()(),l.qb(55,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Pr\xf3rroga t\xe1cita"])),(e()(),l.qb(57,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Adem\xe1s de la duraci\xf3n inicial del contrato,\xa0 exista la posibilidad de una pr\xf3rroga t\xe1cita: si al final de los 5 o 7 a\xf1os previstos ninguna de las partes comunica que quiere extinguir el contrato, este se ampl\xeda de nuevo de manera anual hasta tres a\xf1os m\xe1s. El plazo para comunicar la extinci\xf3n del contrato antes de que se active la pr\xf3rroga t\xe1cita es de cuatro meses para el propietario y de dos meses para el inquilino. "])),(e()(),l.qb(59,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Garant\xeda ante la venta de la vivienda"])),(e()(),l.qb(61,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["En caso de venta de la vivienda,\xa0se garantiza el derecho del inquilino\xa0a permanecer en ella durante el periodo del su contrato (cinco o siete a\xf1os). Es otro de los cambios destacados, ya que hasta ahora la venta del inmueble a una tercera persona pod\xeda conllevar que se exigiera extinguir el contrato."])),(e()(),l.qb(63,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Irregularidades en la duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(65,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Algunos arrendadores proponen realizar un contrato de once meses para hacerlo pasar por un alquiler temporal y evitarse as\xed la obligaci\xf3n de extensi\xf3n del plazo. La OCU destaca que si la vivienda\xa0se est\xe1 usando como vivienda habitual, aunque el contrato diga otra cosa, aplica la LAU y se puede prorrogar."])),(e()(),l.qb(67,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Extinci\xf3n del contrato de alquiler"])),(e()(),l.qb(69,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Existe la posibilidad de que el arrendador pueda recuperar el piso despu\xe9s del primer a\xf1o\xa0si demuestra necesidad de la vivienda para \xe9l mismo o para alg\xfan familiar directo\xa0(en primer grado de consanguinidad). Esta excepci\xf3n se hab\xeda usado a menudo como excusa para terminar contratos antes de ahora, pero ahora solo ser\xe1 v\xe1lida si se ha incluido ese supuesto de manera expresa en el contrato inicial."])),(e()(),l.qb(71,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Por lo que respecta al inquilino, la normativa vigente reconoce su derecho a desistir del contrato despu\xe9s de los seis primeros meses. La extinci\xf3n del contrato antes de la fecha prevista debe comunicarse al menos con dos meses de antelaci\xf3n."])),(e()(),l.qb(73,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un mes de fianza y dos de dep\xf3sito"])),(e()(),l.qb(75,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Con el nuevo decreto se prev\xe9, para los alquileres de vivienda,\xa0la entrega de un mes de fianza y un m\xe1ximo de dos mensualidades m\xe1s\xa0como garant\xeda adicional. Este dep\xf3sito, seg\xfan la OCU, es recomendable como garant\xeda del pago de la renta, los gastos asociados y de la conservaci\xf3n de la vivienda en buen estado."])),(e()(),l.qb(77,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Actualizaci\xf3n del precio del alquiler seg\xfan el IPC"])),(e()(),l.qb(79,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La actualizaci\xf3n anual de la renta es uno de los puntos clave de todo contrato de alquiler. Existe libertad para que\xa0las partes fijen la manera de actualizar el alquiler, pero el incremento nunca podr\xe1 ser superior a la\xa0subida marcada por el IPC. Si no se ha especificado nada en el contrato a este respecto, no se podr\xe1 actualizar la renta durante la vigencia del mismo."])),(e()(),l.qb(81,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un inventario detallado"])),(e()(),l.qb(83,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La fianza se devuelve una vez se comprueba que no quedan deudas pendientes y el buen estado del inmueble, pero a menudo es fuente de problemas. Algunos inquilinos\xa0optan por no pagar el \xfaltimo mes de renta a cuenta de la fianza,\xa0a pesar de que es una pr\xe1ctica ilegal. En otros casos los arrendadores se encuentran con desperfectos que superan el importe de la fianza. Para evitar problemas, es aconsejable incluir junto al contrato un inventario detallado de la vivienda, incluso con fotos. A la devoluci\xf3n de las llaves debe revisarse la vivienda por ambas partes y firmar un documento que se\xf1ale los desperfectos causados, si los hay."])),(e()(),l.qb(85,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Qui\xe9n se hace cargo de los gastos"])),(e()(),l.qb(87,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La LAU contempla un reparto de los gastos entre las partes, pero la OCU recomienda precisarlo en el contrato con el m\xe1ximo detalle. En principio,\xa0el arrendador paga impuestos como el IBI,\xa0la comunidad de propietarios y los gastos de conservaci\xf3n de la vivienda y sus instalaciones. El inquilino se hace cargo de los suministros y de las peque\xf1as reparaciones derivadas del uso ordinario de la vivienda. En aquellas ciudades donde hay tasa de basuras, debe pactarse a qui\xe9n corresponde, y lo habitual es que se haga cargo el inquilino."])),(e()(),l.qb(89,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Los\xa0gastos de gesti\xf3n inmobiliaria\xa0(si los hay) y de formalizaci\xf3n del contrato ir\xe1n a cuenta del propietario si se trata de una persona jur\xeddica. En el caso de ser una persona f\xedsica, la comisi\xf3n de la agencia generalmente la abona quien haya contratado sus servicios."])),(e()(),l.qb(91,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Cl\xe1usulas abusivas"])),(e()(),l.qb(93,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Aunque las partes pueden\xa0pactar cl\xe1usulas espec\xedficas, estas no pueden eliminar los derechos obligatorios recogidos por la normativa vigente. Por ejemplo, no se puede impedir la pr\xf3rroga hasta los cinco a\xf1os ni exigir un pago por desestimiento superior al que contempla la ley."])),(e()(),l.qb(95,0,null,null,2,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy"]],null,null,null,null,null)),(e()(),l.qb(96,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,n,t){var i=!0,o=e.component;return"click"===n&&(o.toogleModal(l.Ab(e,42)),i=!1!==o.moveStep("next")&&i),i},null,null)),(e()(),l.Ib(-1,null,["Rellenar"])),(e()(),l.qb(98,0,[[2,0],["modalEnd",1]],null,2,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(99,0,null,null,1,"app-checkout",[["class","modal__content modal__content--privacy"]],null,[[null,"formPaid"],[null,"exitModal"],[null,"downloadWordOutput"],[null,"downloadPdfOutput"]],function(e,n,t){var l=!0,i=e.component;return"formPaid"===n&&(l=!1!==i.onFormPaid(t)&&l),"exitModal"===n&&(l=!1!==i.onExitPayment()&&l),"downloadWordOutput"===n&&(l=!1!==i.downloadWord()&&l),"downloadPdfOutput"===n&&(l=!1!==i.downloadPdf()&&l),l},Z,x)),l.pb(100,114688,null,0,b,[I.a,L.a,T.a,A.a,q.a,m.l,N.j],{form:[0,"form"]},{formPaid:"formPaid",exitModal:"exitModal",downloadPdfOutput:"downloadPdfOutput",downloadWordOutput:"downloadWordOutput"}),(e()(),l.qb(101,0,[[3,0],["modalDownload",1]],null,9,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(102,0,null,null,8,"div",[["class","modal__content"],["style","padding: 2rem"]],null,null,null,null,null)),(e()(),l.qb(103,0,null,null,4,"div",[["class","modal__content__modal-middle modal__content__modal-middle--change-password"]],null,null,null,null,null)),(e()(),l.qb(104,0,null,null,3,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.qb(105,0,null,null,2,"div",[["class","download-documents-modal"]],null,null,null,null,null)),(e()(),l.qb(106,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadWord()&&l),l},null,null)),(e()(),l.qb(107,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadPdf()&&l),l},null,null)),(e()(),l.qb(108,0,null,null,2,"div",[["class","modal__content__modal-bottom"]],null,null,null,null,null)),(e()(),l.qb(109,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e,101))&&i),i},null,null)),(e()(),l.Ib(-1,null,["Cancelar"]))],function(e,n){var t=n.component;e(n,9,0,"start"===t.steps[t.currentStep].type),e(n,11,0,"start"!==t.steps[t.currentStep].type),e(n,14,0,"start"===t.steps[t.currentStep].type),e(n,16,0,"iText"===t.steps[t.currentStep].type),e(n,18,0,"iForEach"===t.steps[t.currentStep].type),e(n,20,0,"iDate"===t.steps[t.currentStep].type),e(n,22,0,"inputRange"===t.steps[t.currentStep].type),e(n,24,0,"iRadioB"===t.steps[t.currentStep].type),e(n,26,0,"iRadioC"===t.steps[t.currentStep].type),e(n,28,0,"iCheckbox"===t.steps[t.currentStep].type),e(n,30,0,"end"===t.steps[t.currentStep].type),e(n,32,0,"start"===t.steps[t.currentStep].type),e(n,34,0,"start"!==t.steps[t.currentStep].type),e(n,100,0,t.form)},null)}function Ke(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"app-contrato-arras-penitenciales",[],null,null,null,Ye,Te)),l.pb(1,4440064,null,0,Ae,[ye,A.a,y,ge,T.a,N.j,L.a,m.a],null,null)],function(e,n){e(n,1,0)},null)}var je=l.mb("app-contrato-arras-penitenciales",Ae,Ke,{},{},[]),Qe=function(){function e(e,n){this.commonsService=e,this.convertService=n,this.scrollToelement=!1}return e.prototype.init=function(e){var n=this;return this.createEditorFromURI("fillForm","editorContainer",e),new Promise(function(e,t){var l=setInterval(function(){window.editor&&window.editor.getEditorSession()&&document.getElementsByTagName("office:text").length&&(n.originalDocumentBodyClone=document.getElementsByTagName("office:text")[0].cloneNode(!0),clearInterval(l),e("Document ready"))},300)})},e.prototype.destroy=function(){Ee.a(),window.removeEventListener("resize",this.resizeEvent)},e.prototype.createEditorFromURI=function(e,n,t){void 0===n&&(n="editorContainer");for(var l=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(l.length),r=new Uint8Array(o),a=0;a<l.length;a++)r[a]=l.charCodeAt(a);var s=new Blob([o],{type:i}),u=URL.createObjectURL(s);window.DOCUMENTOURL=u,Ee.c(e,n)},e.prototype.getEditorSession=function(){return Ee.f()},e.prototype.saveUri=function(){var e=new FileReader;return new Promise(function(n,t){Ee.e().getDocumentAsByteArray(function(t,l){if(t)alert(t);else{var i=new Blob([l.buffer],{type:"application/vnd.oasis.opendocument.text"});e.readAsDataURL(i),e.onloadend=function(){n(e.result)}}})})},e.prototype.resizeDocumentContainer=function(){this.resizeEvent=function(){setTimeout(function(){document.getElementById("webodfeditor-editor1").style.height=document.getElementById("text-area").clientHeight+"px",document.getElementById("webodfeditor-editor1").style.width=document.getElementById("text-area").clientWidth+"px",Ee.d()},10)},window.addEventListener("resize",this.resizeEvent),Ee.d()},e.prototype.buildDocument=function(e,n){this.currentDocumentBodyClone=this.originalDocumentBodyClone.cloneNode(!0),this.structuralChanges(e),this.replacements(e),document.getElementsByTagName("office:text")[0].parentElement.replaceChild(this.currentDocumentBodyClone.cloneNode(!0),document.getElementsByTagName("office:text")[0]),this.getEditorSession().getOdfCanvas().refreshSize(),n&&this.scrollToElementWithClass("focused")},e.prototype.scrollToElementWithClass=function(e,n){void 0===n&&(n=0);var t=document.querySelector("."+e);if(t){var l=document.getElementById("webodfeditor-canvascontainer1"),i=l.clientHeight/2,o=t.getBoundingClientRect().top;l.scrollTo({top:l.scrollTop+o-i,behavior:"smooth"})}},e.prototype.dateToSpanishFormat=function(e){var n=new Date(e),t="";return e&&(t=n.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})),t},e.prototype.showIndicationInsideText=function(e,n){var t=document.querySelector("[data-identifier="+e+"]"),l=document.createElement("div");l.innerHTML='<div class="indicator-content not-selectable">\n                        <button id="close-indication">&#10006;</button>\n                        <span class="not-selectable" style="margin:auto; width:100%">'+n+"\n                        </span>\n                    </div>",l.style.top=t.getBoundingClientRect().top.toString(),l.style.left=t.getBoundingClientRect().left.toString(),l.classList.add("indicator"),l.classList.add("smooth-intro"),l.classList.add("not-selectable"),t.appendChild(l);var i=function(e){window.innerWidth>885?e.target.classList.contains("icon-info-circle-solid")||e.target.classList.contains("indication")?document.querySelectorAll(".indicator").length>=2&&(l.parentNode.removeChild(l),window.removeEventListener("click",i)):(l.parentNode.removeChild(l),window.removeEventListener("click",i)):"scrollToTop"!==e.target.id&&"close-indication"!==e.target.id||(l.parentNode.removeChild(l),window.removeEventListener("click",i))};window.addEventListener("click",i),this.scrollToElementWithClass("indicator",l.offsetHeight)},e.prototype.structuralChanges=function(e){var n=this;e.forEach(function(e){"iRadioC"===e.type?n.buildForRadioC(e):"iCheckbox"===e.type?n.buildForCheckbox(e):"iForEach"===e.type&&n.buildForEach(e)})},e.prototype.buildForEach=function(e){var n=this;e.content.forEach(function(t){var l=n.findword(t.wordToReplace);l.textContent===t.wordToReplace&&(t.modifiedReplacements.slice().reverse().forEach(function(i,o){var r,a=new RegExp(e.wordToReplace,"g");if(o!==t.modifiedReplacements.length-1){var s=l.cloneNode(!0);l.parentNode.insertBefore(s,l.nextSibling),r=s}else r=l;(r=n.findExactContainingElement(e.wordToReplace,r)).innerHTML=r.innerHTML.replace(a,i)}),t.modifiedExtraReplacements.slice().reverse().forEach(function(e,t){e.forEach(function(e){var t=n.findword(e[0].identifier);e.slice().reverse().forEach(function(l,i){var o,r=new RegExp(l.identifier,"g");if(i!==e.length-1){var a=t.cloneNode(!0);t.parentNode.insertBefore(a,t.nextSibling),o=n.findExactContainingElement(l.identifier,a)}else o=n.findExactContainingElement(l.identifier,t);o.innerHTML=o.innerHTML.replace(r,l.replacement)})})}))})},e.prototype.buildForRadioC=function(e){var n,t=this,l=this.findword(e.wordToReplace),i=new RegExp(e.wordToReplace,"g");for(e.radios.forEach(function(l){l.checked&&(n=l.replacement,e.extraReplacements.forEach(function(e,n){var i,o=new RegExp(e.wordToReplace,"g"),r=t.findword(e.wordToReplace),a=t.findExactContainingElement(e.wordToReplace,r);l.extraReplacements.forEach(function(n){n.insideId===e.insideId&&(i=n.replacement)}),a.innerHTML=a.innerHTML.replace(o,i)}))}),l=this.findExactContainingElement(e.wordToReplace,l);l.firstElementChild;)l=l.firstElementChild;l.innerHTML=l.innerHTML.replace(i,n)},e.prototype.buildForCheckbox=function(e){var n=this.findword(e.wordToReplace),t=e.replacement;e.checkboxes.forEach(function(n){if(e.replacement.includes(n.wordToReplace))if(n.checked){var l=new RegExp(n.wordToReplace,"g");t=t.replace(l,n.replacement)}else l=new RegExp(n.wordToReplace,"g"),t=t.replace(l,"")}),n.innerHTML===e.wordToReplace&&(n.innerHTML=t)},e.prototype.replacements=function(e){var n=this;e.forEach(function(e){if("iText"===e.type||"iDate"===e.type||"iNumber"===e.type){var t=n.findAllwords(e.wordToReplace),l=new RegExp(e.wordToReplace,"g");t.forEach(function(t){var i=t,o=e.replacement;i.innerHTML!==e.wordToReplace&&(i=n.findExactContainingElement(e.wordToReplace,i)),"iDate"===e.type&&(o=n.dateToSpanishFormat(e.replacement)),e.isEmpty&&""!==e.replacement&&(e.isEmpty.prepend&&(o=e.replacement.replace(e.isEmpty.prepend,""),o=e.isEmpty.prepend+e.replacement),e.isEmpty.append&&(o=e.replacement.replace(e.isEmpty.append,""),o=e.replacement+e.isEmpty.append)),i&&(i.innerHTML=i.innerHTML.replace(l,'<span class="'+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+o+"</span>"))})}else if("iRadioB"===e.type){t=n.findAllwords(e.wordToReplace);var i=new RegExp(e.wordToReplace,"g");t.forEach(function(t){e.radios.forEach(function(l){if(l.checked){var o=t;o.innerHTML!==e.wordToReplace&&(o=n.findExactContainingElement(e.wordToReplace,o)),o&&(o.innerHTML=o.innerHTML.replace(i,'<span class=" '+(e.isFocused?"focused":"")+'" data-identifier="'+e.wordToReplace+'">'+e.replacement+"</span>"))}})})}e.extraReplacements&&e.extraReplacements.length&&e.extraReplacements.forEach(function(e){var t=n.findAllwords(e.wordToReplace),l=new RegExp(e.wordToReplace,"g");t.forEach(function(t){var i=t,o=e.replacement;i.innerHTML!==e.wordToReplace&&(i=n.findExactContainingElement(e.wordToReplace,i)),i&&(i.innerHTML=i.innerHTML.replace(l,'<span class="'+(e.isFocused?"highlight focused":"")+'" data-identifier="'+e.wordToReplace+'">'+o+"</span>"))})})})},e.prototype.findword=function(e,n){void 0===n&&(n=this.currentDocumentBodyClone);for(var t=n.childNodes,l=0;l<t.length;l++)if(!this.elementIsExcluded(t[l])&&(t[l].innerHTML.includes(e)||t[l].textContent.includes(e)))return t[l]},e.prototype.findAllwords=function(e,n){void 0===n&&(n=this.currentDocumentBodyClone);for(var t=[],l=n.childNodes,i=0;i<l.length;i++)this.elementIsExcluded(l[i])||l[i].innerHTML.includes(e)&&t.push(l[i]);return t},e.prototype.findExactContainingElement=function(e,n){for(var t=n;t.childNodes&&t.childNodes.length>0&&t.innerHTML.includes(e);)t.childNodes.forEach(function(n){"#text"!==n.nodeName?n.innerHTML.includes(e)&&(t=n):n.textContent.includes(e)&&(t=n)});return"#text"===t.nodeName&&(t=t.parentNode),t},e.prototype.elementIsExcluded=function(e){return["office:text","text:sequence-decls","text:sequence-decl","draw:frame","draw:image","office:annotation","office:annotation-end","dc:creator","dc:date"].includes(e.nodeName)},e.prototype.downloadWord=function(e,n){var t=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(n){t.convertService.toWord(e,n).subscribe(function(e){for(var n=atob(e.word.split(",")[1]),l=e.word.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(n.length),o=new Uint8Array(i),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);var a=new Blob([i],{type:l}),s=URL.createObjectURL(a);console.log(s);var u=document.createElement("a");u.href=s,u.download="word.doc",u.click(),t.commonsService.toggleSpinner()})})},e.prototype.downloadPdf=function(e,n){var t=this;this.commonsService.toggleSpinner(),this.saveUri().then(function(n){t.convertService.toPdf(e,n).subscribe(function(e){for(var n=atob(e.pdf.split(",")[1]),l=e.pdf.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(n.length),o=new Uint8Array(i),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);var a=new Blob([i],{type:l}),s=URL.createObjectURL(a);console.log(s);var u=document.createElement("a");u.href=s,u.download="document.pdf",u.click(),t.commonsService.toggleSpinner()})})},e}(),Ge=function(){function e(e,n){this.documentCreatorService=e,this.commonsService=n}return e.prototype.init=function(e){this.steps=e},e.prototype.setInitialState=function(){var e=this,n=function(){e.steps.forEach(function(n){switch(n.type){case"iText":case"iNumber":case"iDate":e.input(n.replacement,n.wordToReplace,!1);break;case"iForEach":e.buildForEach(n.value,n.wordToReplace,!1);break;case"iRadioC":var t=!0;n.radios.forEach(function(l){l.checked&&(t=!1,e.onInputRadioCSelected(l.radioId,n.wordToReplace,!1))}),t&&e.onInputRadioCSelected(n.defaultRadioId,n.wordToReplace,!1)}})};n(),n(),n(),this.buildDocument(!1)},e.prototype.buildDocument=function(e){void 0===e&&(e=!0),this.documentCreatorService.buildDocument(this.steps,e)},e.prototype.input=function(e,n,t){var l=this;void 0===t&&(t=!0),this.steps.forEach(function(t,i){t.wordToReplace===n?(t.replacement=e,t.isFocused=!0,"iNumber"===t.type&&l.rulesForInumber(t,i)):t.isFocused=!1}),t&&this.buildDocument()},e.prototype.rulesForInumber=function(e,n){var t=this;e.rules.length&&e.rules.forEach(function(n){"extraReplacementToCharacter"===n.rulename&&(e.extraReplacements.forEach(function(t,l){t.wordToReplace===n.wordToReplace&&e.extraReplacements.splice(l,1)}),e.extraReplacements.push({wordToReplace:n.wordToReplace,replacement:t.commonsService.numeroALetras(e.replacement,{plural:"euros",singular:"euro",centPlural:"centavos",centSingular:"centavo"})}))})},e.prototype.buildForEach=function(e,n,t){var l=this;void 0===t&&(t=!0);var i=[];this.steps.forEach(function(t,o){if(t.wordToReplace===n){t.value=e;for(var r=JSON.parse(JSON.stringify(l.steps));l.steps[o+1]&&l.steps[o+1].wordToReplace.includes(t.identifier);)l.steps.splice(o+1,1);t.content.forEach(function(n,a){n.modifiedReplacements=[],n.modifiedExtraReplacements=[];var s=[];n.extraReplacements.forEach(function(){s.push([])});for(var u=function(u){var c=n.replacementOriginal;n.extraReplacements.forEach(function(e,n){s[n].push({identifier:e.identifier,replacement:e.replacementOriginal})}),n.subSteps.forEach(function(d,p){var _=t.identifier+d.identifier+u.toString()+p.toString();c=c.replace(d.identifier,_),n.extraReplacements.forEach(function(e,n){var l=d.extraReplacements[n],i=s[n][u];i.wordToReplace=e.identifier+u.toString()+p.toString();var o=t.identifier+l.identifier+u.toString()+p.toString();i.replacement=i.replacement.replace(l.identifier,o),l.wordToReplace=o});var m=JSON.parse(JSON.stringify(d));r.forEach(function(e){e.wordToReplace==_&&((m=JSON.parse(JSON.stringify(e))).cached=!0)}),m.identifier=_,m.wordToReplace=_,l.steps.splice(o+1+p+u*n.subSteps.length+parseInt(e)*a*n.subSteps.length,0,m),"iRadioC"===m.type&&i.push(m)}),n.modifiedReplacements.push(c)},c=0;c<parseInt(e);c++)u(c);n.modifiedExtraReplacements.push(s)})}}),t&&(i.forEach(function(e){e.cached?e.radios.forEach(function(n){n.checked&&l.onInputRadioCSelected(n.radioId,e.wordToReplace,!1)}):l.onInputRadioCSelected(e.defaultRadioId,e.wordToReplace,!1)}),this.buildDocument())},e.prototype.onInputRadioBSelected=function(e,n,t){void 0===t&&(t=!0),this.steps.forEach(function(t,l){t.wordToReplace===n&&t.radios.forEach(function(n){n.radioId===e?(t.replacement=n.replacementOriginal,n.checked=!0):n.checked=!1})}),t&&this.buildDocument()},e.prototype.onInputRadioCSelected=function(e,n,t){var l=this;void 0===t&&(t=!0);var i=function(e,n,t){for(;l.steps[n+1]&&l.steps[n+1].wordToReplace.includes(e.wordToReplace);)l.steps.splice(n+1,1);var i=t.replacementOriginal;t.extraReplacements.forEach(function(e){e.replacement=e.replacementOriginal}),t.subSteps.forEach(function(o,r){o.wordToReplace=e.identifier+o.identifier,i=i.replace(o.identifier,o.wordToReplace),t.extraReplacements.forEach(function(e){e.replacement=e.replacement.replace(o.identifier,o.wordToReplace)}),"iCheckbox"===o.type&&o.checkboxes.forEach(function(e){e.checked=!1}),"iRadioC"===o.type&&(o.inheritFromRadioC=o.wordToReplace,o.radios.forEach(function(e){e.subSteps.forEach(function(n){var t=o.wordToReplace+n.identifier;e.replacementOriginal=e.replacementOriginal.replace(n.identifier,t),n.wordToReplace=t,n.identifier=t,n.inherited=!0})})),l.steps.splice(n+1+r,0,o)}),t.replacement=i,t.checked=!0};this.steps.forEach(function(t,l){if(t.identifier===n)t.radios.forEach(function(n){n.radioId===e?i(t,l,n):n.checked=!1});else if(t.inheritFromRadioC)if(t.inheritFromRadioC===n)t.radios.forEach(function(n){n.radioId===e?i(t,l,n):n.checked=!1});else{var o=!0;t.radios.forEach(function(e){e.checked?(o=!1,i(t,l,e)):e.checked=!1}),o&&t.radios.forEach(function(e){e.radioId===t.defaultRadioId?i(t,l,e):e.checked=!1})}}),t&&this.buildDocument()},e.prototype.onInputCheckboxSelected=function(e,n,t,l){var i=this;void 0===l&&(l=!0),this.steps.forEach(function(l,o){if(l.wordToReplace===n){var r=l.replacementOriginal;l.checkboxes.forEach(function(n){if(n.wordToReplace=l.wordToReplace+n.identifier,r=r.replace(n.identifier,n.wordToReplace),n.identifier===e){for(var a=i.steps.length-o,s=0;s<a;s++)i.steps[o+1+s]&&i.steps[o+1+s].wordToReplace.includes(n.identifier)&&i.steps.splice(o+1+s,1);if(t){var u=n.replacementOriginal;n.subSteps.forEach(function(e,t){e.wordToReplace=n.wordToReplace+e.identifier,u=u.replace(e.identifier,e.wordToReplace),i.steps.splice(o+1+t,0,e)}),n.replacement=u}n.checked=t}}),l.replacement=r,l.rules&&l.rules.length&&l.rules.forEach(function(e){if("noneIsChecked"===e.condition){var n=!1;l.checkboxes.forEach(function(e){e.checked&&(n=!0)}),n?e.isFulfilled=!1:(l.replacement=e.replacement,e.isFulfilled=!0)}})}}),l&&this.buildDocument()},e.prototype.getStepsModel=function(){return this.steps},e}(),We=[{type:"start",title:"Contrato de compraventa de veh\xedculo usado entre particulares",description:"Por medio de este contrato un particular (persona o empresa) \n    propietario de un veh\xedculo autom\xf3vil usado, puede venderlo a otro.",isCurrentStep:!0},{type:"iText",identifier:"id-unid-1",wordToReplace:"id-unid-1",replacement:"",question:"Lugar en el que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique en este apartado el lugar en el que se va a firmar el contrato."},placeholder:"P. ej. Albacete",mandatory:!0,isFocused:!1},{type:"iDate",identifier:"id-unid-2",wordToReplace:"id-unid-2",replacement:"",question:"Fecha en la que se firma este contrato:",indications:{areIndications:!0,indicationsType:"insideText",value:"Haga uso del calendario para indicar la fecha en la que se firma este contrato."},mandatory:!0,isFocused:!1},{type:"iForEach",value:1,replacement:"",identifier:"id-unid-3",wordToReplace:"id-unid-3",question:"N\xfamero de personas propietarias del veh\xedculo y que desean venderlo:",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el n\xfamero de personas que son propietarias del veh\xedculo"},content:[{identifier:"id-unid-3",wordToReplace:"id-unid-3",replacementOriginal:"id-unid-3_1",replacement:"",extraReplacements:[],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"Este vendedor (propietario del veh\xedculo) es):",identifier:"id-unid-3_1",wordToReplace:"id-unid-3_1",indications:{areIndications:!0,indicationsType:"outsideText",value:"Elija la personalidad jur\xeddica de este vendedor. Se entiende por persona f\xedsica a es una persona natural (un individuo), hablamos de persona jur\xeddica para referirnos a una instituci\xf3n o ente, por ejemplo, una empresa o una asociaci\xf3n, entre otros."},defaultRadioId:"id-unid-3_1_opA",replacement:"",extraReplacements:[],radios:[{label:"Persona f\xedsica",radioId:"id-unid-3_1_opA",identifier:"id-unid-3_1_opA",replacementOriginal:"id-unid-3_1_opA_1",replacement:"id-unid-3_1_opA_1",extraReplacements:[],checked:!0,subSteps:[{type:"iRadioC",question:"Este vendedor, para realizar el contrato, act\xfaa",identifier:"id-unid-3_1_opA_1",wordToReplace:"id-unid-3_1_opA_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'El vendedor puede concluir y firmar el contrato en nombre y representaci\xf3n propios o representado por otra persona. En caso de ser representado por otra persona, estamos hablando de un representante legal (como es el caso de los menores e incapacitados) o un representante voluntario (por ejemplo, apoderado). Un representante voluntario precisa de autorizaci\xf3n mediante documento p\xfablico o privado. Si el contrato se concluye en nombre y representaci\xf3n propios, ser\xe1 persona que firma el contrato quien asuma las obligaciones del vendedor. Por el contrario, si es mediante representante, es esta otra persona quien firma el contrato; sin embargo, es el vendedor quien asumir\xe1 las obligaciones derivadas de este contrato. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'},defaultRadioId:"id-unid-3_1_opA_1_opA",replacement:"",extraReplacements:[],radios:[{label:"en su propio nombre y representaci\xf3n",radioId:"id-unid-3_1_opA_1_opA",identifier:"id-unid-3_1_opA_1_opA",replacementOriginal:"id-unid-3_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-3_1_opA_1_opA_2, con id-unid-3_1_opA_1_opA_3 n\xfamero id-unid-3_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",replacement:"id-unid-3_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-3_1_opA_1_opA_2, con id-unid-3_1_opA_1_opA_3 n\xfamero id-unid-3_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",extraReplacements:[],checked:!0,subSteps:[{question:"Nombre completo de este vendedor, incluyendo los apellidos:",wordToReplace:"id-unid-3_1_opA_1_opA_1",identifier:"id-unid-3_1_opA_1_opA_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opA_2",identifier:"id-unid-3_1_opA_1_opA_2",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia del vendedor."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este vendedor",identifier:"id-unid-3_1_opA_1_opA_3",wordToReplace:"id-unid-3_1_opA_1_opA_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opA",identifier:"id-unid-3_1_opA_1_opA_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opB",identifier:"id-unid-3_1_opA_1_opA_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opA_3_opC",identifier:"id-unid-3_1_opA_1_opA_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-3_1_opA_1_opA_4",identifier:"id-unid-3_1_opA_1_opA_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}}]},{label:"por medio de un representante (legal o voluntario)",replacementOriginal:"id-unid-3_1_opA_1_opB_5, mayor de edad, con id-unid-3_1_opA_1_opB_6: id-unid-3_1_opA_1_opB_7, en calidad de id-unid-3_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, actuando en nombre y representaci\xf3n de id-unid-3_1_opA_1_opB_1, con domicilio en id-unid-3_1_opA_1_opB_2 y id-unid-3_1_opA_1_opB_3 n\xfamero id-unid-3_1_opA_1_opB_4.",replacement:"id-unid-3_1_opA_1_opB_5, mayor de edad, con id-unid-3_1_opA_1_opB_6: id-unid-3_1_opA_1_opB_7, en calidad de id-unid-3_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, actuando en nombre y representaci\xf3n de id-unid-3_1_opA_1_opB_1, con domicilio en id-unid-3_1_opA_1_opB_2 y id-unid-3_1_opA_1_opB_3 n\xfamero id-unid-3_1_opA_1_opB_4.",extraReplacements:[],radioId:"id-unid-3_1_opA_1_opB",identifier:"id-unid-3_1_opA_1_opB",checked:!1,subSteps:[{question:"Nombre completo de este vendedor, incluyendo los apellidos:",wordToReplace:"id-unid-3_1_opA_1_opB_1",identifier:"id-unid-3_1_opA_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_2",identifier:"id-unid-3_1_opA_1_opB_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este vendedor."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este vendedor",identifier:"id-unid-3_1_opA_1_opB_3",wordToReplace:"3_1_opA_1_opB_3",indications:{areIndications:!0,indicationsType:"insideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opA",identifier:"id-unid-3_1_opA_1_opB_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opB",identifier:"id-unid-3_1_opA_1_opB_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opB_3_opC",identifier:"id-unid-3_1_opA_1_opB_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-3_1_opA_1_opB_4",identifier:"id-unid-3_1_opA_1_opB_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Nombre completo de la persona que firma este contrato en nombre y representaci\xf3n de este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_5",identifier:"id-unid-3_1_opA_1_opB_5",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"outsideText",value:'Nombre completo, incluyendo los apellidos, de la persona f\xedsica que firma este contrato en nombre y representaci\xf3n de este vendedor. El contrato puede ser firmado por un representante legal o voluntario. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'}},{type:"iRadioB",question:"Documento de identificaci\xf3n de la persona que firma el contrato en nombre y representaci\xf3n de este vendedor:",identifier:"id-unid-3_1_opA_1_opB_6",wordToReplace:"id-unid-3_1_opA_1_opB_6",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de la persona f\xedsica que firma el contrato en nombre y representaci\xf3n de este vendedor."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opA",identifier:"id-unid-3_1_opA_1_opB_6_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opB",identifier:"id-unid-3_1_opA_1_opB_6_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opA_1_opB_6_opC",identifier:"id-unid-3_1_opA_1_opB_6_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior:",wordToReplace:"id-unid-3_1_opA_1_opB_7",identifier:"id-unid-3_1_opA_1_opB_7",placeholder:"P. ej. 83558071Z",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Calidad o concepto en el que esta persona firma este contrato en nombre y representaci\xf3n de este vendedor:",wordToReplace:"id-unid-3_1_opA_1_opB_8",placeholder:"P. ej. apoderado",identifier:"id-unid-3_1_opA_1_opB_8",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la calidad o concepto en el que esta persona firma el contrato en nombre y representaci\xf3n de este vendedor."}}]}]}]},{label:"Persona jur\xeddica",replacementOriginal:"id-unid-3_1_opB_5, mayor de edad, con domicilio en id-unid-3_1_opB_6, con id-unid-3_1_opB_7 n\xfamero id-unid-3_1_opB_8, en nombre y representaci\xf3n de: id-unid-3_1_opB_1, con N.I.F n\xfamero id-unid-3_1_opB_2, e inscrita en: id-unid-3_1_opB_3 con la siguiente informaci\xf3n: id-unid-3_1_opB_4.",replacement:"id-unid-3_1_opB_5, mayor de edad, con domicilio en id-unid-3_1_opB_6, con id-unid-3_1_opB_7 n\xfamero id-unid-3_1_opB_8, en nombre y representaci\xf3n de: id-unid-3_1_opB_1, con N.I.F n\xfamero id-unid-3_1_opB_2, e inscrita en: id-unid-3_1_opB_3 con la siguiente informaci\xf3n: id-unid-3_1_opB_4.",extraReplacements:[],radioId:"id-unid-3_1_opB",identifier:"id-unid-3_1_opB",checked:!1,subSteps:[{question:"Nombre de la persona jur\xeddica que va a vender el veh\xedculo:",wordToReplace:"id-unid-3_1_opB_1",identifier:"id-unid-3_1_opB_1",type:"iText",placeholder:"P. ej. Banco Santander, S.A.",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Si no conoce el nombre, mediante el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc), puede soliticar la informaci\xf3n."}},{question:"NIF (N\xfamero de Identificaci\xf3n Fiscal) completo de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_2",identifier:"id-unid-3_1_opB_2",type:"iText",placeholder:"P. ej. B29805314",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Se trata del n\xfamero de identificaci\xf3n fiscal para empresas y sociedades, personas f\xedsicas o cualquier tipo de entidad que desarrolle actividad de naturaleza mercantil y que, adem\xe1s, sea sujeto de obligaciones burocr\xe1ticas, como el hecho de emitir o percibir facturas. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">NIF empresarial</a>.'}},{question:"Tipo de registro y lugar donde est\xe1 inscrita la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_3",identifier:"id-unid-3_1_opB_3",type:"iText",placeholder:"P. ej. Registro Mercantil de Madrid",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n en el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Datos registrales de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_4",identifier:"id-unid-3_1_opB_4",type:"iText",placeholder:"P. ej. Tomo 123, folio 10, hoja SE-1234",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n a trav\xe9s del registro p\xfablico correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_5",identifier:"id-unid-3_1_opB_5",type:"iText",placeholder:"P. ej. Margarita Garc\xeda P\xe9rez",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica"}},{question:"Domicilio completo del representante de la persona jur\xeddica:",wordToReplace:"id-unid-3_1_opB_6",identifier:"id-unid-3_1_opB_6",type:"iText",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Domicilio, incluyendo el tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds del representante de la persona jur\xeddica"}},{type:"iRadioB",question:"Documento de identidad del representante de la persona jur\xeddica:",identifier:"id-unid-3_1_opB_7",wordToReplace:"id-unid-3_1_opB_7",indications:{areIndications:!0,indicationsType:"insideText",value:"Seleccione el tipo de documento de identidad del representante de la persona jur\xeddica."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-3_1_opB_7_opA",identifier:"id-unid-3_1_opB_7_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-3_1_opB_7_opB",identifier:"id-unid-3_1_opB_7_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-3_1_opB_7_opC",identifier:"id-unid-3_1_opB_7_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior de identificaci\xf3n personal seleccionado:",wordToReplace:"id-unid-3_1_opB_8",identifier:"id-unid-3_1_opB_8",type:"iText",placeholder:"P. ej: 42888457N",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero que corresponde con el documento de identificaci\xf3n personal seleccionado en la pregunta anterior"}}]}]}]}]},{type:"iForEach",value:1,replacement:"",identifier:"id-unid-4",wordToReplace:"id-unid-4",question:"N\xfamero de personas que van a comprar el veh\xedculo:",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el n\xfamero de personas que van a comprar el veh\xedculo."},content:[{identifier:"id-unid-4",wordToReplace:"id-unid-4",replacementOriginal:"id-unid-4_1",replacement:"",extraReplacements:[],modifiedReplacements:[],modifiedExtraReplacements:[],subSteps:[{type:"iRadioC",question:"Este comprador es:",identifier:"id-unid-4_1",wordToReplace:"id-unid-4_1",indications:{areIndications:!0,indicationsType:"outsideText",value:"Elija la personalidad jur\xeddica de este comprador. Se entiende por persona f\xedsica a es una persona natural (un individuo), hablamos de persona jur\xeddica para referirnos a una instituci\xf3n o ente, por ejemplo, una empresa o una asociaci\xf3n, entre otros."},defaultRadioId:"id-unid-4_1_opA",replacement:"",extraReplacements:[],radios:[{label:"Persona f\xedsica",radioId:"id-unid-4_1_opA",identifier:"id-unid-4_1_opA",replacementOriginal:"id-unid-4_1_opA_1",replacement:"id-unid-4_1_opA_1",extraReplacements:[],checked:!0,subSteps:[{type:"iRadioC",question:"Este comprador, para realizar el contrato, act\xfaa",identifier:"id-unid-4_1_opA_1",wordToReplace:"id-unid-4_1_opA_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'El vendedor puede concluir y firmar el contrato en nombre y representaci\xf3n propios o representado por otra persona. En caso de ser representado por otra persona, estamos hablando de un representante legal (como es el caso de los menores e incapacitados) o un representante voluntario (por ejemplo, apoderado). Un representante voluntario precisa de autorizaci\xf3n mediante documento p\xfablico o privado. Si el contrato se concluye en nombre y representaci\xf3n propios, ser\xe1 persona que firma el contrato quien asuma las obligaciones del vendedor. Por el contrario, si es mediante representante, es esta otra persona quien firma el contrato; sin embargo, es el vendedor quien asumir\xe1 las obligaciones derivadas de este contrato. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'},defaultRadioId:"id-unid-4_1_opA_1_opA",replacement:"",extraReplacements:[],radios:[{label:"en su propio nombre y representaci\xf3n",radioId:"id-unid-4_1_opA_1_opA",identifier:"id-unid-4_1_opA_1_opA",replacementOriginal:"id-unid-4_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-4_1_opA_1_opA_2, con id-unid-4_1_opA_1_opA_3 n\xfamero id-unid-4_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",replacement:"id-unid-4_1_opA_1_opA_1, mayor de edad, con domicilio en id-unid-4_1_opA_1_opA_2, con id-unid-4_1_opA_1_opA_3 n\xfamero id-unid-4_1_opA_1_opA_4, y en su propio nombre y representaci\xf3n.",extraReplacements:[],checked:!1,subSteps:[{question:"Nombre completo de este comprador, incluyendo los apellidos:",wordToReplace:"id-unid-4_1_opA_1_opA_1",identifier:"id-unid-4_1_opA_1_opA_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este comprador, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este comprador:",wordToReplace:"id-unid-4_1_opA_1_opA_2",identifier:"id-unid-4_1_opA_1_opA_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este comprador."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este comprador",identifier:"id-unid-4_1_opA_1_opA_3",wordToReplace:"id-unid-4_1_opA_1_opA_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opA",identifier:"id-unid-4_1_opA_1_opA_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opB",identifier:"id-unid-4_1_opA_1_opA_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opA_3_opC",identifier:"id-unid-4_1_opA_1_opA_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-4_1_opA_1_opA_4",identifier:"id-unid-4_1_opA_1_opA_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}}]},{label:"por medio de un representante (legal o voluntario)",replacementOriginal:"id-unid-4_1_opA_1_opB_5, mayor de edad, con id-unid-4_1_opA_1_opB_6: id-unid-4_1_opA_1_opB_7, quien act\xfaa en calidad de id-unid-4_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, por tanto, en nombre y representaci\xf3n de id-unid-4_1_opA_1_opB_1, con domicilio en id-unid-4_1_opA_1_opB_2 y id-unid-4_1_opA_1_opB_3 n\xfamero id-unid-4_1_opA_1_opB_4.",replacement:"id-unid-4_1_opA_1_opB_5, mayor de edad, con id-unid-4_1_opA_1_opB_6: id-unid-4_1_opA_1_opB_7, quien act\xfaa en calidad de id-unid-4_1_opA_1_opB_8, acreditado seg\xfan escritura p\xfablica y/o autorizaci\xf3n pertinente y, por tanto, en nombre y representaci\xf3n de id-unid-4_1_opA_1_opB_1, con domicilio en id-unid-4_1_opA_1_opB_2 y id-unid-4_1_opA_1_opB_3 n\xfamero id-unid-4_1_opA_1_opB_4.",extraReplacements:[],radioId:"id-unid-4_1_opA_1_opB",identifier:"id-unid-4_1_opA_1_opB",checked:!1,subSteps:[{question:"Nombre completo de este comprador, incluyendo los apellidos:",wordToReplace:"id-unid-4_1_opA_1_opB_1",identifier:"id-unid-4_1_opA_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo de este vendedor, incluyendo los apellidos."}},{question:"Direcci\xf3n del lugar donde reside este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_2",identifier:"id-unid-4_1_opA_1_opB_2",type:"iText",replacement:"",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",indications:{areIndications:!0,indicationsType:"insideText",value:"Direcci\xf3n completa (tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds) del lugar de residencia de este comprador."}},{type:"iRadioB",question:"Tipo de documento de identificaci\xf3n de este comprador",identifier:"id-unid-4_1_opA_1_opB_3",wordToReplace:"id-unid-4_1_opA_1_opB_3",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opA",identifier:"id-unid-4_1_opA_1_opB_3_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opB",identifier:"id-unid-4_1_opA_1_opB_3_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opB_3_opC",identifier:"id-unid-4_1_opA_1_opB_3_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior",wordToReplace:"id-unid-4_1_opA_1_opB_4",identifier:"id-unid-4_1_opA_1_opB_4",type:"iText",replacement:"",placeholder:"P. ej. 83558071Z",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Nombre completo de la persona que firma este contrato en nombre y representaci\xf3n de este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_5",identifier:"id-unid-4_1_opA_1_opB_5",type:"iText",replacement:"",placeholder:"P. ej. Martino Montano Holgu\xedn",indications:{areIndications:!0,indicationsType:"outsideText",value:'Nombre completo, incluyendo los apellidos, de la persona f\xedsica que firma este contrato en nombre y representaci\xf3n de este comprador. El contrato puede ser firmado por un representante legal o voluntario. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">Poder de representaci\xf3n</a>'}},{type:"iRadioB",question:"Documento de identificaci\xf3n personal de la persona que firma este contrato en nombre y representaci\xf3n del comprador:",identifier:"id-unid-4_1_opA_1_opB_6",wordToReplace:"id-unid-4_1_opA_1_opB_6",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo de documento de identificaci\xf3n de la persona f\xedsica que firma el contrato en nombre y representaci\xf3n de este comprador."},replacement:"",radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opA",identifier:"id-unid-4_1_opA_1_opB_6_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opB",identifier:"id-unid-4_1_opA_1_opB_6_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opA_1_opB_6_opC",identifier:"id-unid-4_1_opA_1_opB_6_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior:",wordToReplace:"id-unid-4_1_opA_1_opB_7",identifier:"id-unid-4_1_opA_1_opB_7",placeholder:"P. ej. 83558071Z",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Introduzca el n\xfamero que corresponde con el documento seleccionado en la pregunta anterior"}},{question:"Calidad o concepto en el que esta persona firma este contrato en nombre y representaci\xf3n de este comprador:",wordToReplace:"id-unid-4_1_opA_1_opB_8",identifier:"id-unid-4_1_opA_1_opB_8",placeholder:"P. ej. apoderado",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la calidad o concepto en el que esta persona firma el contrato en nombre y representaci\xf3n de este comprador."}}]}]}]},{label:"Persona jur\xeddica",replacementOriginal:"id-unid-4_1_opB_5, mayor de edad, con domicilio en id-unid-4_1_opB_6, con id-unid-4_1_opB_7 n\xfamero id-unid-4_1_opB_8, en nombre y representaci\xf3n de: id-unid-4_1_opB_1, con N.I.F n\xfamero id-unid-4_1_opB_2, e inscrita en: id-unid-4_1_opB_3 con la siguiente informaci\xf3n: id-unid-4_1_opB_4.",replacement:"id-unid-4_1_opB_5, mayor de edad, con domicilio en id-unid-4_1_opB_6, con id-unid-4_1_opB_7 n\xfamero id-unid-4_1_opB_8, en nombre y representaci\xf3n de: id-unid-4_1_opB_1, con N.I.F n\xfamero id-unid-4_1_opB_2, e inscrita en: id-unid-4_1_opB_3 con la siguiente informaci\xf3n: id-unid-4_1_opB_4.",extraReplacements:[],radioId:"id-unid-4_1_opB",identifier:"id-unid-4_1_opB",checked:!1,subSteps:[{question:"Nombre completo de la persona jur\xeddica que va a comprar el veh\xedculo:",wordToReplace:"id-unid-4_1_opB_1",identifier:"id-unid-4_1_opB_1",type:"iText",replacement:"",placeholder:"P. ej. Banco Santander, S.A.",indications:{areIndications:!0,indicationsType:"outsideText",value:"Si no conoce el nombre, mediante el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc), puede soliticar la informaci\xf3n."}},{question:"NIF (N\xfamero de Identificaci\xf3n Fiscal) completo de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_2",identifier:"id-unid-4_1_opB_2",type:"iText",placeholder:"P. ej. B29805314",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Se trata del n\xfamero de identificaci\xf3n fiscal para empresas y sociedades, personas f\xedsicas o cualquier tipo de entidad que desarrolle actividad de naturaleza mercantil y que, adem\xe1s, sea sujeto de obligaciones burocr\xe1ticas, como el hecho de emitir o percibir facturas. Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://guiasjuridicas.wolterskluwer.es/Content/Documento.aspx?params=H4sIAAAAAAAEAMtMSbF1jTAAAUNjMyNjtbLUouLM_DxbIwMDCwNzAwuQQGZapUt-ckhlQaptWmJOcSoAzXFkZjUAAAA=WKE" target="_blank">NIF empresarial</a>.'}},{question:"Tipo de registro y lugar donde est\xe1 inscrita esta persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_3",identifier:"id-unid-4_1_opB_3",placeholder:"Registro Mercantil de Sevilla",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:'Puede solicitar dicha informaci\xf3n en el registro correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Datos registrales de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_4",identifier:"id-unid-4_1_opB_4",placeholder:"P. ej. Tomo 123, folio 10, hoja SE-1234",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:'Puede solicitar dicha informaci\xf3n a trav\xe9s del registro p\xfablico correspondiente (Registro Mercantil, Registro de Fundaciones, etc). Si quieres m\xe1s informaci\xf3n sobre esta figura consulta el siguiente enlace: <a href="https://registropropiedad.derecho.com/q/que-son-los-datos-registrales.html" target="_blank">Datos registrales</a>'}},{question:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_5",identifier:"id-unid-4_1_opB_5",placeholder:"P. ej. Margarita Garc\xeda P\xe9rez",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Nombre completo, incluyendo apellidos, del representante de la persona jur\xeddica"}},{question:"Domicilio completo del representante de la persona jur\xeddica:",wordToReplace:"id-unid-4_1_opB_6",identifier:"id-unid-4_1_opB_6",placeholder:"P. ej: Paseo de las Yeser\xedas 11, Escalera 2, 4.\xba B, 28005, Madrid, Espa\xf1a",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Domicilio, incluyendo el tipo y nombre de la v\xeda, n\xfamero, piso, c\xf3digo postal, localidad, provincia y pa\xeds del representante de la persona jur\xeddica"}},{type:"iRadioB",question:"Documento de identidad del representante de la persona jur\xeddica:",identifier:"id-unid-4_1_opB_7",wordToReplace:"id-unid-4_1_opB_7",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Seleccione el tipo documento de identidad del representante de la persona jur\xeddica."},radios:[{label:"DNI",replacementOriginal:"DNI",replacement:"",radioId:"id-unid-4_1_opB_7_opA",identifier:"id-unid-4_1_opB_7_opA",extraReplacements:[],checked:!0},{label:"NIE",replacementOriginal:"NIE",replacement:"",radioId:"id-unid-4_1_opB_7_opB",identifier:"id-unid-4_1_opB_7_opB",extraReplacements:[],checked:!1},{label:"Pasaporte",replacementOriginal:"Pasaporte",replacement:"",radioId:"id-unid-4_1_opB_7_opC",identifier:"id-unid-4_1_opB_7_opC",extraReplacements:[],checked:!1}]},{question:"N\xfamero del documento seleccionado en la pregunta anterior de identificaci\xf3n personal seleccionado:",wordToReplace:"id-unid-4_1_opB_8",identifier:"id-unid-4_1_opB_8",type:"iText",placeholder:"P. ej: 42888457N",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero que corresponde con el documento de identificaci\xf3n personal seleccionado en la pregunta anterior"}}]}]}]}]},{type:"iRadioC",subType:"select",question:"Tipo de veh\xedculo que se va a vender:",identifier:"id-unid-5",wordToReplace:"id-unid-5",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de veh\xedculo objeto de venta en este contrato, si no encuentro el tipo de veh\xedculo entre las opciones propuestas seleccione "otro veh\xedculo".'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"ciclomotor (veh\xedculo con dos ruedas, pedales y motor menor a 50 cc\u200b)",radioId:"id-unid-5_opA",identifier:"id-unid-5_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: ciclomotor",replacement:"Tipo de Veh\xedculo autom\xf3vil: ciclomotor",extraReplacements:[],checked:!1,subSteps:[]},{label:"motocicleta o moto (dos ruedas y motor mayor a 50 cc\u200b)",replacementOriginal:"id-unid-5_opB_1",replacement:"id-unid-5_opB_1",extraReplacements:[],radioId:"id-unid-5_opB",identifier:"id-unid-5_opB",checked:!1,subSteps:[{type:"iRadioC",subType:"select",question:"Tipo de motocicleta:",identifier:"id-unid-5_opB_1",wordToReplace:"id-unid-5_opB_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de motocicleta objeto de venta en este contrato, si no encuentra el tipo de motocicleta entre las opciones propuestas seleccione "otro tipo de motocicleta"'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"scooter",radioId:"id-unid-5_opA_1_opA",identifier:"id-unid-5_opA_1_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta scooter",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta scooter",extraReplacements:[],checked:!0,subSteps:[]},{label:"motocross",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta de motocross",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta de motocross",extraReplacements:[],radioId:"id-unid-5_opA_1_opB",identifier:"id-unid-5_opA_1_opB",checked:!1,subSteps:[]},{label:"motocicleta el\xe9ctrica",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta el\xe9ctrica",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta el\xe9ctrica",extraReplacements:[],radioId:"id-unid-5_opA_1_opC",identifier:"id-unid-5_opA_1_opC",checked:!1,subSteps:[]},{label:"motocicleta deportiva o superbike",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta deportiva",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta deportiva",extraReplacements:[],radioId:"id-unid-5_opA_1_opD",identifier:"id-unid-5_opA_1_opD",checked:!1,subSteps:[]},{label:"motocicleta naked (motocicleta con motor al descubierto)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta naked",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta naked",extraReplacements:[],radioId:"id-unid-5_opA_1_opE",identifier:"id-unid-5_opA_1_opE",checked:!1,subSteps:[]},{label:"motocicleta gran turismo (motocicleta de carretera)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta gran turismo",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta gran turismo",extraReplacements:[],radioId:"id-unid-5_opA_1_opF",identifier:"id-unid-5_opA_1_opF",checked:!1,subSteps:[]},{label:"otro tipo de motocicleta",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocicleta tipo id-unid-5_opA_1_opG_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocicleta tipo id-unid-5_opA_1_opG_1",extraReplacements:[],radioId:"id-unid-5_opA_1_opG",identifier:"id-unid-5_opA_1_opG",checked:!1,subSteps:[{question:"Tipo de motocicleta que se va a vender:",placeholder:"P. ej: moto tral, enduro, chopper",wordToReplace:"id-unid-5_opA_1_opG_1",identifier:"id-unid-5_opA_1_opG_1",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"outsideText",value:"Indique el tipo de motocicleta que se desea vender mediante este contrato. Por ejemplo: MegaScooter, Moto Enduro, Moto Supermotard, Moto Trial, Moto Cruiser, Moto Chopper, Moto Streetfighter, Moto Sport Turismo, etc"}}]}]}]},{label:"motocarro (de tres ruedas dotado de plataforma para el transporte de mercanc\xedas)",radioId:"id-unid-5_opC",identifier:"id-unid-5_opC",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: motocarro",replacement:"Tipo de Veh\xedculo autom\xf3vil: motocarro",extraReplacements:[],checked:!1,subSteps:[]},{label:"turismo o coche (para transportar hasta 9 personas)",replacementOriginal:"id-unid-5_opD_1",replacement:"id-unid-5_opD_1",extraReplacements:[],radioId:"id-unid-5_opD",identifier:"id-unid-5_opD",checked:!1,subSteps:[{type:"iRadioC",subType:"select",question:"Tipo de turismo o coche:",identifier:"id-unid-5_opD_1",wordToReplace:"id-unid-5_opD_1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escoja el tipo de turismo o coche objeto de venta en este contrato, si no encuentra el tipo de turismo o coche entre las opciones propuestas seleccione "otro tipo de turismo"'},defaultRadioId:"id-unid-5_opA",replacement:"",extraReplacements:[],radios:[{label:"monovolumen (5 plazas o m\xe1s)",radioId:"id-unid-5_opD_1_opA",identifier:"id-unid-5_opD_1_opA",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche monovolumen",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche monovolumen",extraReplacements:[],checked:!0,subSteps:[]},{label:"berlina (4 o m\xe1s plazas con luna trasera fija)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche berlina",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche berlina",extraReplacements:[],radioId:"id-unid-5_opD_1_opB",identifier:"id-unid-5_opD_1_opB",checked:!1,subSteps:[]},{label:"cup\xe9 (coche con forma de berlina pero que cuenta con tres puertas)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche cup\xe9",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche cup\xe9",extraReplacements:[],radioId:"id-unid-5_opD_1_opC",identifier:"id-unid-5_opD_1_opC",checked:!1,subSteps:[]},{label:"descapotable (con techo plegable o capota)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche descapotable",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche descapotable",extraReplacements:[],radioId:"id-unid-5_opD_1_opD",identifier:"id-unid-5_opD_1_opD",checked:!1,subSteps:[]},{label:"todoterreno (adaptado para uso en terrenos agrarios)",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche todoterreno",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche todoterreno",extraReplacements:[],radioId:"id-unid-5_opD_1_opE",identifier:"id-unid-5_opD_1_opE",checked:!1,subSteps:[]},{label:"otro tipo de turismo",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: coche tipo id-unid-5_opD_1_opF_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: coche tipo id-unid-5_opD_1_opF_1",extraReplacements:[],radioId:"id-unid-5_opD_1_opF",identifier:"id-unid-5_opD_1_opF",checked:!1,subSteps:[{question:"Tipo de turismo o coche:",placeholder:"suv, familiar, de competeci\xf3n",wordToReplace:"id-unid-5_opD_1_opF_1",identifier:"id-unid-5_opD_1_opF_1",type:"iText",replacement:""}]}]}]},{label:"furg\xf3n o furgoneta (para el transporte de mercanc\xedas hasta 3.500 kilos)",radioId:"id-unid-5_opE",identifier:"id-unid-5_opE",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: furgoneta",replacement:"Tipo de Veh\xedculo autom\xf3vil: furgoneta",extraReplacements:[],checked:!1,subSteps:[]},{label:"cami\xf3n (para el transporte de mercanc\xedas de m\xe1s de 3.500 kilos)",radioId:"id-unid-5_opF",identifier:"id-unid-5_opF",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",replacement:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",extraReplacements:[],checked:!1,subSteps:[]},{label:"autob\xfas o autocar (para el transporte de m\xe1s de 9 personas)",radioId:"id-unid-5_opG",identifier:"id-unid-5_opG",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",replacement:"Tipo de Veh\xedculo autom\xf3vil: cami\xf3n",extraReplacements:[],checked:!1,subSteps:[]},{label:"otro veh\xedculo",radioId:"id-unid-5_opH",identifier:"id-unid-5_opH",replacementOriginal:"Tipo de Veh\xedculo autom\xf3vil: id-unid-5_opH_1",replacement:"Tipo de Veh\xedculo autom\xf3vil: id-unid-5_opH_1",extraReplacements:[],checked:!0,subSteps:[{question:"Tipo de veh\xedculo que se desea vender mediante este contrato distinto a los indicados en la pregunta anterior:",placeholder:"autocaravana, quad",wordToReplace:"id-unid-5_opH_1",identifier:"id-unid-5_opH_1",type:"iText",replacement:"",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique el tipo de veh\xedculo que desea vender mediante este contrato distinto a los indicados en la pregunta anterior."}}]}]},{type:"iText",identifier:"id-unid-6",wordToReplace:"id-unid-6",replacement:"",placeholder:"P. ej: Seat, Citroen, Suzuki,...",question:"Marca del veh\xedculo :",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba la marca fabricante del veh\xedculo que se va a vender."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-7",wordToReplace:"id-unid-7",replacement:"",placeholder:"P. ej: Ibiza, Polo, C4,...",question:"Modelo espec\xedfico del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el modelo espec\xedfico del veh\xedculo que se desea vender."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-8",wordToReplace:"id-unid-8",replacement:"",placeholder:"P. ej: VF1RFD00653635032",question:"N\xfamero de serie y bastidor (mejor conocido como n\xba de bastidor) del veh\xedculo:",indications:{areIndications:!0,indicationsType:"outsideText",value:'Escriba el n\xfamero de serie y bastidor (o simplemente conocido como n\xba de bastidor) del veh\xedculo que se desea vender. Si desea m\xe1s informaci\xf3n sobre el n\xfamero de bastidor y como encontrarlo puede consultar el siguiente enlace: <a href="https://www.autopista.es/noticias-motor/articulo/numero-bastidor-coche-significado" target="_blank">N\xfamero de bastidor</a>'},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-unid-9",wordToReplace:"id-unid-9",replacement:"",placeholder:"P. ej: 500",question:"Kilometraje o n\xfamero de kil\xf3metros recorridos que aparecen en el cuenta kil\xf3metros del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Kilometraje o n\xfamero de kil\xf3metros recorridos que aparecen en el cuenta kil\xf3metros del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-10",wordToReplace:"id-dec-10",replacement:"",placeholder:"P. ej: 2483YBY",question:"Matr\xedcula del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Matr\xedcula del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-11",wordToReplace:"id-dec-11",replacement:"",placeholder:"P. ej: Mayo 2001",question:"Mes y a\xf1o de la primera matriculaci\xf3n del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el mes y a\xf1o de la primera matriculaci\xf3n del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iText",identifier:"id-dec-12",wordToReplace:"id-dec-12",replacement:"",placeholder:"P. ej: rojo, negro,...",question:"Color del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba color del veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iRadioC",question:"\xbfDesea a\xf1adir otras caracter\xedsticas especiales del veh\xedculo?",identifier:"new-idunid1",wordToReplace:"new-idunid1",indications:{areIndications:!0,indicationsType:"outsideText",value:'Si desea a\xf1adir otras caracter\xedsticas del veh\xedculo, como, por ejemplo, aire acondicionado, marque "s\xed".'},defaultRadioId:"new-idunid1_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"\u2022 Otras caracter\xedsticas del veh\xedculo: new-idunid1_opA_1",replacement:"\u2022 Otras caracter\xedsticas del veh\xedculo: new-idunid1_opA_1",extraReplacements:[],radioId:"new-idunid1_opA",identifier:"new-idunid1_opA",checked:!1,subSteps:[{question:"Indique otras caracter\xedsticas del veh\xedculo",placeholder:"P. ej: Aire acondicionado",wordToReplace:"new-idunid1_opA_1",identifier:"new-idunid1_opA_1",type:"iText",replacement:""}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"new-idunid1_opB",identifier:"new-idunid1_opB",checked:!0,subSteps:[]}]},{type:"iText",identifier:"id-dec-13",wordToReplace:"id-dec-13",replacement:"",placeholder:"P. ej: sin plomo 95, di\xe9sel",question:"Tipo de combustible del veh\xedculo:",indications:{areIndications:!0,indicationsType:"insideText",value:"Indique en este espacio el tipo espec\xedfico de combustible que utiliza el veh\xedculo."},mandatory:!0,isFocused:!1},{type:"iRadioB",question:"El veh\xedculo, \xbflleva el motor original (el motor de f\xe1brica)?",identifier:"id-dec-14",wordToReplace:"id-dec-14",replacement:"",radios:[{label:"S\xed",replacementOriginal:"S\xed",replacement:"S\xed",radioId:"id14_opA",identifier:"id14_opA",extraReplacements:[],checked:!0},{label:"No",replacementOriginal:"No",replacement:"No",radioId:"id14_opB",identifier:"id14_opB",extraReplacements:[],checked:!1}]},{type:"iText",identifier:"id-dec-15",wordToReplace:"id-dec-15",replacement:"",placeholder:"",question:"N\xfamero de propietarios que ha tenido el veh\xedculo antes que el actual propietario:",indications:{areIndications:!0,indicationsType:"insideText",value:"Escriba el n\xfamero de propietarios que ha tenido el veh\xedculo que se desea vender antes que el actual propietario. Si el propietario que ahora lo vende es el \xfanico propietario que ha tenido el veh\xedculo introduzca 0."},mandatory:!0,isFocused:!1},{type:"iRadioC",subType:"select",question:"Indique el estado de conservaci\xf3n del veh\xedculo",identifier:"id-dec-16",wordToReplace:"id-dec-16",indications:{areIndications:!0,indicationsType:"outsideText",value:'Si tiene dudas sobre c\xf3mo describir el estado del veh\xedculo consulte este <a href="https://www.autocasion.com/actualidad/reportajes/como-describir-el-estado-de-un-coche-usado" target="_blank">enlace</a>'},defaultRadioId:"id-dec-16_opA",replacement:"",extraReplacements:[],radios:[{label:"Muy bueno, poco uso.",replacementOriginal:"Muy bueno, poco uso.",replacement:"Muy bueno, poco uso.",extraReplacements:[],radioId:"id-dec-16_opA",identifier:"id-dec-16_opA",checked:!1,subSteps:[]},{label:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad.",replacementOriginal:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad. id-dec-16_opB_1",replacement:"Bueno, deterioro derivado del uso normal del veh\xedculo y su antig\xfcedad. id-dec-16_opB_1",extraReplacements:[],radioId:"id-dec-16_opB",identifier:"id-dec-6_opB",checked:!0,subSteps:[{question:"Desperfectos o golpes visibles que tiene el veh\xedculo que se desea vender",placeholder:"Opcional",wordToReplace:"id-dec-16_opB_1",identifier:"id-dec-16_opB_1",type:"iText",replacement:"",isEmpty:{prepend:"Los desperfectos y/o golpes visibles que tiene el Veh\xedculo son los siguientes: ",append:""}}]},{label:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo.",replacementOriginal:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo. id-dec-16_opC_1",replacement:"Malo. Requiere arreglos que impedir\xe1n un uso inmediato del veh\xedculo. id-dec-16_opC_1",extraReplacements:[],radioId:"id-dec-16_opC",identifier:"id-dec-16_opC",checked:!0,subSteps:[{question:"Desperfectos o golpes visibles que tiene el veh\xedculo que se desea vender",placeholder:"Opcional",wordToReplace:"id-dec-16_opC_1",identifier:"id-dec-16_opC_1",type:"iText",replacement:"",isEmpty:{prepend:"Los desperfectos y/o golpes visibles que tiene el Veh\xedculo son los siguientes: ",append:""}}]}]},{type:"iRadioC",question:"El veh\xedculo ha pasado la ITV alguna vez:",identifier:"id-dec-17",wordToReplace:"id-dec-17",defaultRadioId:"id-dec-17_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"Que el Veh\xedculo objeto del presente Contrato de compraventa est\xe1 al d\xeda en las inspecciones reglamentarias de la ITV, habi\xe9ndose realizado la \xfaltima inspecci\xf3n en id-dec-17_opA_1 el pasado d\xeda id-dec-17_opA_2.",replacement:"Que el Veh\xedculo objeto del presente Contrato de compraventa est\xe1 al d\xeda en las inspecciones reglamentarias de la ITV, habi\xe9ndose realizado la \xfaltima inspecci\xf3n en id-dec-17_opA_1 el pasado d\xeda id-dec-17_opA_2.",extraReplacements:[],radioId:"id-dec-17_opA",identifier:"id-dec-17_opA",checked:!0,subSteps:[{question:"Municipio y/o nombre del centro de ITV en el que el veh\xedculo pas\xf3 su \xfaltima inspecci\xf3n:",placeholder:"Ej. Vallecas - OCA ITV, S.A.",wordToReplace:"id-dec-17_opA_1",identifier:"id-dec-17_opA_1",type:"iText",replacement:""},{question:"Fecha en la que el veh\xedculo pas\xf3 la \xfaltima ITV:",wordToReplace:"id-dec-17_opA_2",identifier:"id-dec-17_opA_2",type:"iDate",replacement:""}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-17_opB",identifier:"id-dec-17_opB",checked:!1,subSteps:[]}]},{question:"Mes y a\xf1o en el que el veh\xedculo que se desea vender debe pasar la pr\xf3xima ITV:",placeholder:"P. ej: Octubre 2019",wordToReplace:"id-dec-18",identifier:"id-dec-18",type:"iText",replacement:""},{question:"Precio fijado para la venta del veh\xedculo (en euros):",placeholder:"P. ej: 3000",wordToReplace:"id-dec-19",identifier:"id-dec-19",type:"iNumber",replacement:"",extraReplacements:[],rules:[{condition:!1,rulename:"extraReplacementToCharacter",identifier:"iddec19-precioAletras",wordToReplace:"iddec19-precioAletras",replacement:""}]},{type:"iRadioC",question:"Se va a pagar una cantidad en concepto de se\xf1al o reserva:",identifier:"id-dec-20",wordToReplace:"id-dec-20",indications:{areIndications:!0,indicationsType:"outsideText",value:"Se realiza con el fin de reservar el derecho sobre el veh\xedculo que se pretende transmitir, mediante la entrega de una cantidad en concepto de se\xf1al."},defaultRadioId:"id-dec-20_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"En el momento de la firma del presente contrato la parte compradora entrega a la vendedora en concepto de adelanto la cantidad de id-dec-20_opA_1 \u20ac (iddec20-precioAletras). Cantidad que se descontar\xe1 del precio total de compraventa establecido.",replacement:"En el momento de la firma del presente contrato la parte compradora entrega a la vendedora en concepto de adelanto la cantidad de id-dec-20_opA_1 \u20ac (iddec20-precioAletras). Cantidad que se descontar\xe1 del precio total de compraventa establecido.",extraReplacements:[],radioId:"id-dec-20_opA",identifier:"id-dec-20_opA",checked:!1,subSteps:[{question:"Cantidad (en euros) que se desea pagar en concepto de se\xf1al o de reserva del veh\xedculo al momento de firmar el contrato:",placeholder:"P. ej: 300",wordToReplace:"id-dec-20_opA_1",identifier:"id-dec-20_opA_1",type:"iNumber",replacement:"",extraReplacements:[],rules:[{condition:!1,rulename:"extraReplacementToCharacter",identifier:"iddec20-precioAletras",wordToReplace:"iddec20-precioAletras",replacement:""}]}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-20_opB",identifier:"id-dec-20_opB",checked:!0,subSteps:[]}]},{type:"iRadioC",subType:"select",question:"M\xe9todo que se va a utilizar para realizar el pago:",identifier:"id-dec-21",wordToReplace:"id-dec-21",defaultRadioId:"id-dec-21_opA",replacement:"",extraReplacements:[],radios:[{label:"Ingreso o transferencia bancaria",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante ingreso en cuenta o transferencia bancaria. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo en la siguiente cuenta bancaria: <br><br>    - Entidad bancaria:\xa0id-dec-21_opA_1 <br><br>    - IBAN identificador de la cuenta:\xa0id-dec-21_opA_2 <br><br>    - Titular de la cuenta:\xa0id-dec-21_opA_3",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante ingreso en cuenta o transferencia bancaria. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo en la siguiente cuenta bancaria: Entidad bancaria:\xa0id-dec-21_opA_1 IBAN identificador de la cuenta:\xa0id-dec-21_opA_2 Titular de la cuenta:\xa0id-dec-21_opA_3",extraReplacements:[],radioId:"id-dec-21_opA",identifier:"id-dec-21_opA",checked:!1,subSteps:[{question:"Nombre o denominaci\xf3n completa de la entidad bancaria en la que se encuentra abierta la cuenta en la que el comprador deber\xe1 ingresar el precio:",placeholder:"P. ej: BANCO BILBAO VIZCAYA ARGENTARIA, S.A.",wordToReplace:"id-dec-21_opA_1",identifier:"id-dec-21_opA_1",type:"iText",replacement:""},{question:"IBAN o n\xfamero identificador de la cuenta bancaria donde el comprador ingresar\xe1 el precio:",placeholder:"P. ej: ES7900815992191881555999",wordToReplace:"id-dec-21_opA_2",identifier:"id-dec-21_opA_2",type:"iText",replacement:""},{question:"Nombre y apellidos completos del titular de la cuenta bancaria en la que el comprador ingresar\xe1 el precio del veh\xedculo se desea vender:",placeholder:"P. ej. Martino Montano Holgu\xedn",wordToReplace:"id-dec-21_opA_3",identifier:"id-dec-21_opA_3",type:"iText",replacement:""}]},{label:"En efectivo",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante entrega en efectivo. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante entrega en efectivo. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",extraReplacements:[],radioId:"id-dec-21_opB",identifier:"id-dec-21_opB",checked:!0,subSteps:[]},{label:"Cheque",replacementOriginal:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante cheque. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",replacement:"Las partes acuerdan que el pago del precio del veh\xedculo ser\xe1 mediante cheque. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo.",extraReplacements:[],radioId:"id-dec-21_opC",identifier:"id-dec-21_opC",checked:!0,subSteps:[]},{label:"Otro",replacementOriginal:"El pago del precio por la Parte Compradora se realizar\xe1 mediante: id-dec-21_opD_1. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo",replacement:"El pago del precio por la Parte Compradora se realizar\xe1 mediante: id-dec-21_opD_1. Este pago se realizar\xe1 en la fecha de entrega del Veh\xedculo",extraReplacements:[],radioId:"id-dec-21_opD",identifier:"id-dec-21_opD",checked:!0,subSteps:[{question:"Especifique el m\xe9todo de pago mediante el cual el comprador pagar\xe1 al vendedor el precio:",placeholder:"El 40% en cheque y el resto en efectivo",wordToReplace:"id-dec-21_opD_1",identifier:"id-dec-21_opD_1",type:"iText",replacement:""}]}]},{question:"Lugar en el que el vendedor entregar\xe1 el veh\xedculo al comprador:",placeholder:"P. ej: Paseo de las Yeser\xedas 11",wordToReplace:"id-dec-22",identifier:"id-dec-22",type:"iText",replacement:""},{type:"iRadioC",question:"El vendedor debe hacer entrega del veh\xedculo en favor del comprador:",identifier:"id-dec-23",wordToReplace:"id-dec-23",defaultRadioId:"id-dec-23_opA",replacement:"",extraReplacements:[],radios:[{label:"en el momento de firmar este contrato",replacementOriginal:"en el momento de firma de este contrato",replacement:"en el momento de firma de este contrato",extraReplacements:[],radioId:"id-dec-23_opA",identifier:"id-dec-23_opA",checked:!1,subSteps:[]},{label:"en una fecha posterior a la fecha de firma de este contrato",replacementOriginal:"dentro del plazo de id-dec-23_opB_1 desde la fecha recogida en el encabezado de este Contrato.",replacement:"dentro del plazo de id-dec-23_opB_1 desde la fecha recogida en el encabezado de este Contrato.",extraReplacements:[],radioId:"id-dec-23_opB",identifier:"id-dec-23_opB",checked:!1,subSteps:[{question:"Plazo (desde la firma de este contrato) en el que el vendedor debe hacer entrega del veh\xedculo en favor del comprador (en meses, semanas y d\xedas):",placeholder:"Ej. 30 d\xedas",wordToReplace:"id-dec-23_opB_1",identifier:"id-dec-23_opB_1",type:"iText",replacement:"",extraReplacements:[]}]}]},{type:"iRadioC",question:"adem\xe1s del permiso de circulaci\xf3n, la ficha t\xe9cnica, y el recibo del impuesto de circulaci\xf3n del a\xf1o anterior, el comprador recibi\xf3 otro documento/accesorio relativo al veh\xedculo que se desea vender?",identifier:"id-dec-24",wordToReplace:"id-dec-24",defaultRadioId:"id-dec-24_opA",replacement:"",extraReplacements:[],radios:[{label:"S\xed",replacementOriginal:"9. Otros: id-dec-24_opA_1",replacement:"9. Otros: id-dec-24_opA_1",extraReplacements:[],radioId:"id-dec-24_opA",identifier:"id-dec-24_opA",checked:!1,subSteps:[{question:"Indique qu\xe9 otros documentos o accesorios recibe el comprador:",wordToReplace:"id-dec-24_opA_1",identifier:"id-dec-24_opA_1",type:"iText",replacement:"",extraReplacements:[]}]},{label:"No",replacementOriginal:"",replacement:"",extraReplacements:[],radioId:"id-dec-24_opB",identifier:"id-dec-24_opB",checked:!1,subSteps:[]}]},{type:"end",identifier:"end",wordToReplace:"end",title:"Contrato de alquiler",description:"El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de\n      inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino).",checkoutProcess:{isInited:!1,phase:0}}],Ze=function(){function e(e,n,t,l,i,o,r,a){this.stepModelService=e,this.commonsService=n,this.sharedService=t,this.documentCreatorService=l,this.formsService=i,this.toastr=o,this.checkoutService=r,this.route=a,this.form=new f.b,this.currentStep=0,this.progresBarPercentage="0%",this.steps=We,this.formAlreadyPaid=!1,this.indications={areIndications:!0,indicationsType:"outsideText",value:""}}return e.prototype.ngOnInit=function(){var e=this;this.commonsService.toggleSpinner(),this.route.queryParams.subscribe(function(n){n.transactionId?(e.formAlreadyPaid=!0,e.formsService.getPaidCertifiedForm(n.transactionId).subscribe(function(n){if(n.certifiedForm){var t=n.certifiedForm;e.form.fields=JSON.parse(t.fields),e.form.title=t.title,e.form.uri=t.uri,e.form.id="contrato-compraventa-vehiculo",e.form.amount=t.amount,e.form.topLabelTitle=t.topLabelTitle,e.setInitiaState()}else n.transactionNotFound?e.commonsService.toastMessage("error","Transaction Id does not exist","Transaction id not found"):n.formExpired&&e.commonsService.toastMessage("error","The period of 30 days to change the document has expired","Transaction expired")})):window.sessionStorage["Contrato de Arras Penitenciales"]?(e.form=JSON.parse(window.sessionStorage["Contrato de Arras Penitenciales"]),e.steps=e.form.fields,e.formAlreadyPaid=e.form.alreadyPaid,e.setInitiaState()):e.formsService.getCertifiedForm("contrato-compraventa-vehiculo").subscribe(function(n){e.form.fields=e.steps,e.form.title=n.title,e.form.uri=n.uri,e.form.id="contrato-compraventa-vehiculo",e.form.amount=n.amount,e.form.image=n.image,e.form.topLabelTitle=n.topLabelTitle,e.setInitiaState()})})},e.prototype.ngAfterViewInit=function(){this.commonsService.resizeEditor(!1)},e.prototype.ngOnDestroy=function(){this.documentCreatorService.destroy(),window.removeEventListener("resize",this.commonsService.resizeEditor.bind(this))},e.prototype.setInitiaState=function(){var e=this;this.stepModelService.init(this.form.fields),this.sharedService.setForm(this.form),this.form.fields.forEach(function(n,t){n.isCurrentStep&&(e.currentStep=t,e.updateProgressBarPercentage(),"end"===e.steps[e.currentStep].type&&e.steps[e.currentStep].checkoutProcess.isInited&&!e.formAlreadyPaid&&e.toogleModal(e.modalEnd.nativeElement))}),this.documentCreatorService.init(this.form.uri).then(function(n){e.commonsService.resizeEditor(!0),window.addEventListener("resize",e.commonsService.resizeEditor.bind(e)),e.documentCreatorService.resizeDocumentContainer(),e.stepModelService.buildDocument(!1),window.sessionStorage["Contrato de Arras Penitenciales"]||e.stepModelService.setInitialState(),e.commonsService.toggleSpinner()})},e.prototype.toogleModal=function(e){this.commonsService.toggleModal(e,!0)},e.prototype.moveStep=function(e){"next"===e?this.validateBeforeNextStep(this.steps[this.currentStep])&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep+1].isCurrentStep=!0,this.currentStep+=1):"previous"===e&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep-1].isCurrentStep=!0,this.currentStep-=1),this.updateProgressBarPercentage(),"end"===this.steps[this.currentStep].type&&this.prepareForCheckout()},e.prototype.validateBeforeNextStep=function(e){return!e.mandatory||""!==e.replacement||(this.toastr.error("Form cannot be empty","Empty field",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),this.input.nativeElement.style.borderBottom="3px solid red",!1)},e.prototype.updateProgressBarPercentage=function(){var e=this;if(this.progressBar&&this.currentStep)for(var n=Math.round(this.currentStep/(this.steps.length-1)*100),t=parseInt(this.progresBarPercentage,10),l=n>t?n-t:t-n,i=function(l){setTimeout(function(){var i=n>t?t+l:t-l;e.progressBar.nativeElement.style.width=i+"%",e.progresBarPercentage=i+"%"},10*l)},o=0;o<l+1;o++)i(o);else this.progresBarPercentage=Math.round(this.currentStep/(this.steps.length-1)*100)+"%"},e.prototype.showIndication=function(){var e=this.steps[this.currentStep];e.indications.areIndications&&("outsideText"===e.indications.indicationsType||window.innerWidth<885?(this.indications=e.indications,this.toogleModal(this.modalIndication.nativeElement)):this.documentCreatorService.showIndicationInsideText(e.wordToReplace,e.indications.value))},e.prototype.onInputSelectChanged=function(e){this.stepModelService.onInputRadioCSelected(e.target.value,this.steps[this.currentStep].wordToReplace)},e.prototype.onInputNumberChanged=function(e){isNaN(e)?(this.toastr.error("Number not valid","Must be a number",{positionClass:"toast-bottom-right",progressBar:!0,progressAnimation:"decreasing"}),this.input.nativeElement.style.borderBottom="3px solid red"):(this.input.nativeElement.style.borderBottom="",e.includes(",")&&(e=e.replace(",","")),e.includes(".")&&(e=e.replace(".","")),this.stepModelService.input(e,this.steps[this.currentStep].wordToReplace))},e.prototype.prepareForCheckout=function(){this.form.fields=this.steps,this.sharedService.setForm(this.form)},e.prototype.startCheckout=function(){this.steps[this.currentStep].checkoutProcess.isInited=!0},e.prototype.onFormPaid=function(e){var n=this;this.formAlreadyPaid=!0,this.form.alreadyPaid=!0,this.form.uri=e.uri,this.form.fields=JSON.parse(e.fields),this.stepModelService.init(this.form.fields),this.documentCreatorService.destroy(),this.sharedService.setForm(this.form),this.documentCreatorService.init(this.form.uri).then(function(t){n.commonsService.resizeEditor(!0),window.addEventListener("resize",n.commonsService.resizeEditor.bind(n)),n.stepModelService.buildDocument(),n.documentCreatorService.saveUri().then(function(t){n.checkoutService.sendMail(e.transactionId,t).subscribe(function(e){console.log(e)})})})},e.prototype.previewDocumentButton=function(e){this.commonsService.previewDocumentButton(e),this.documentCreatorService.resizeEvent()},e.prototype.onExitPayment=function(){this.toogleModal(this.modalEnd.nativeElement)},e.prototype.toogleCheckout=function(){this.formAlreadyPaid?this.toogleModal(this.modalDownload.nativeElement):(this.toogleModal(this.modalEnd.nativeElement),this.startCheckout())},e.prototype.downloadWord=function(){this.documentCreatorService.downloadWord(this.form.id,this.form.uri)},e.prototype.downloadPdf=function(){this.documentCreatorService.downloadPdf(this.form.id,this.form.uri)},e}(),Je=l.ob({encapsulation:2,styles:[],data:{}});function Xe(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,14,"div",[["class","form-creator__fields-area__top__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,10,"div",[["class","form-creator__fields-area__top__author-date"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,5,"span",[["class","form-creator__fields-area__top__author-date__author"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"div",[["class","form-creator__fields-area__top__author-date__author__image-container"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,0,"img",[["alt","avatar"],["src","/assets/images/avatar.jpg"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,2,"span",[["routerLink","/static-pages/silvia-profile"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Ab(e,6).onClick()&&i),i},null,null)),l.pb(6,16384,null,0,m.m,[m.l,m.a,[8,null],l.E,l.k],{routerLink:[0,"routerLink"]},null),(e()(),l.Ib(-1,null,["Silvia Camejo Alarc\xf3n"])),(e()(),l.qb(8,0,null,null,3,"span",[["class","form-creator__fields-area__top__author-date__date"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Last updated:"])),(e()(),l.Ib(-1,null,[" 20 abril 2019 "])),(e()(),l.qb(12,0,null,null,2,"div",[["class","form-creator__fields-area__top__before-start-button"]],null,null,null,null,null)),(e()(),l.qb(13,0,null,null,1,"div",[["class","form-creator__fields-area__top__before-start-button__information-modal-icon trigger"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,0,"span",[["class","icon icon-info-solid"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,48))&&i),i},null,null))],function(e,n){e(n,6,0,"/static-pages/silvia-profile")},null)}function $e(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","progress-container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,2,"div",[["class","progress progress-large"]],null,null,null,null,null)),(e()(),l.qb(2,0,[[6,0],["progressBar",1]],null,1,"span",[],[[4,"width",null]],null,null,null,null)),(e()(),l.Ib(3,null,["",""]))],null,function(e,n){var t=n.component;e(n,2,0,t.progresBarPercentage),e(n,3,0,t.progresBarPercentage)})}function en(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,7,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,6,"div",[["class","form-creator__fields-area__middle__initial-screen"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,1,"h3",[["class","form-creator__fields-area__middle__initial-screen__form-title"]],null,null,null,null,null)),(e()(),l.Ib(3,null,[" "," "])),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__middle__initial-screen__description"]],null,null,null,null,null)),(e()(),l.Ib(5,null,[" "," "])),(e()(),l.qb(6,0,null,null,1,"button",[["class","button-filled button-filled--start-form"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e.parent,48))&&i),i},null,null)),(e()(),l.Ib(-1,null,[" Rellenar formulario "]))],null,function(e,n){var t=n.component;e(n,3,0,t.steps[t.currentStep].title),e(n,5,0,t.steps[t.currentStep].description)})}function nn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function tn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[[5,0],["input",1]],null,0,"input",[["type","text"]],[[8,"value",0],[8,"placeholder",0]],[[null,"keyup"]],function(e,n,t){var i=!0,o=e.component;return"keyup"===n&&(i=!1!==o.stepModelService.input(l.Ab(e,10).value,o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,nn)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].replacement,t.steps[t.currentStep].placeholder?t.steps[t.currentStep].placeholder:"")})}function ln(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function on(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[[5,0],["input",1]],null,0,"input",[["type","text"]],[[8,"value",0],[8,"placeholder",0]],[[null,"keyup"]],function(e,n,t){var i=!0;return"keyup"===n&&(i=!1!==e.component.onInputNumberChanged(l.Ab(e,10).value)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,ln)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].replacement,t.steps[t.currentStep].placeholder?t.steps[t.currentStep].placeholder:"")})}function rn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function an(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,13,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,12,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,11,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,10,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,[[5,0],["input",1]],null,0,"input",[["type","number"]],[[8,"value",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.buildForEach(l.Ab(e,10).value,o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,rn)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question),e(n,10,0,t.steps[t.currentStep].value)})}function sn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,null)}function un(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,14,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,13,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,12,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,11,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,4,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,3,"div",[["class","form-creator__fields-area__field__middle__date-container"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(10,null,["",""])),(e()(),l.qb(11,0,[[5,0],["input",1]],null,0,"input",[["type","date"]],[[8,"value",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.input(l.Ab(e,11).value,o.steps[o.currentStep].wordToReplace)&&i),i},null,null)),(e()(),l.qb(12,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,sn)),l.pb(14,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,14,0,t.steps[t.currentStep].mandatory)},function(e,n){var t=n.component;e(n,10,0,t.steps[t.currentStep].question),e(n,11,0,t.steps[t.currentStep].replacement)})}function cn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" N\xfamero de personas que firman el contrato en tanto que arrendadores (propietario): "])),(e()(),l.qb(10,0,[[5,0],["input",1]],null,0,"input",[["max","4"],["min","1"],["type","range"]],null,[[null,"change"]],function(e,n,t){var i=!0;return"change"===n&&(i=!1!==e.component.onRangeSelected(l.Ab(e,10).value)&&i),i},null,null)),(e()(),l.qb(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(12,null,["",""])),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],null,function(e,n){e(n,12,0,l.Ab(n,10).value)})}function dn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var l=!0,i=e.component;return"change"===n&&(l=!1!==i.stepModelService.onInputRadioBSelected(e.context.$implicit.radioId,i.steps[i.currentStep].wordToReplace)&&l),l},null,null)),(e()(),l.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(4,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.checked),e(n,4,0,n.context.$implicit.label)})}function pn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,dn)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].radios)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function _n(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"input",[["class","with-gap"],["name","group1"],["type","radio"],["value","Valor de la pregunta numero 1"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var l=!0,i=e.component;return"change"===n&&(l=!1!==i.stepModelService.onInputRadioCSelected(e.context.$implicit.radioId,i.steps[i.currentStep].wordToReplace)&&l),l},null,null)),(e()(),l.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(4,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.checked),e(n,4,0,n.context.$implicit.label)})}function mn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__radio-input--fill-form radio"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,_n)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].radios)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function fn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),l.pb(1,147456,null,0,P.r,[l.k,l.E,[8,null]],{value:[0,"value"]},null),l.pb(2,147456,null,0,P.y,[l.k,l.E,[8,null]],{value:[0,"value"]},null),(e()(),l.Ib(3,null,[" "," "]))],function(e,n){e(n,1,0,l.sb(1,"",n.context.$implicit.radioId,"")),e(n,2,0,l.sb(1,"",n.context.$implicit.radioId,""))},function(e,n){e(n,0,0,n.context.$implicit.checked),e(n,3,0,n.context.$implicit.label)})}function hn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,16,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,15,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,14,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,13,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,6,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,3,"div",[["class","input-select"]],null,null,null,null,null)),(e()(),l.qb(11,0,null,null,2,"select",[["class","browser-default"]],null,[[null,"change"]],function(e,n,t){var l=!0;return"change"===n&&(l=!1!==e.component.onInputSelectChanged(t)&&l),l},null,null)),(e()(),l.ib(16777216,null,null,1,null,fn)),l.pb(13,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(14,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,13,0,t.steps[t.currentStep].radios)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function bn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.qb(1,0,[[5,0],["input",1]],null,0,"input",[["class","filled-in"],["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(e,n,t){var i=!0,o=e.component;return"change"===n&&(i=!1!==o.stepModelService.onInputCheckboxSelected(e.context.$implicit.identifier,o.steps[o.currentStep].wordToReplace,l.Ab(e,1).checked)&&i),i},null,null)),(e()(),l.qb(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(3,null,["","."]))],null,function(e,n){e(n,1,0,n.context.$implicit.checked),e(n,3,0,n.context.$implicit.label)})}function En(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,15,"div",[["class","form-creator__fields-area__middle__container fade-in"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,14,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,13,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,12,"div",[["class","form-creator__fields-area__field__field-area form-creator__fields-area__field__field-area--input-text"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,2,"div",[["class","form-creator__fields-area__field__top form-creator__fields-area__field__top--fill-form"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,1,"div",[["class","indication"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,0,"span",[["class","icon icon-info-circle-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.showIndication()&&l),l},null,null)),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__field__middle"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,1,"span",[["class","form-creator__fields-area__field__middle__question"]],null,null,null,null,null)),(e()(),l.Ib(9,null,["",""])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__field__middle__checkbox-input"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,bn)),l.pb(12,278528,null,0,w.j,[l.Q,l.N,l.t],{ngForOf:[0,"ngForOf"]},null),(e()(),l.qb(13,0,null,null,2,"div",[["class","form-creator__fields-area__field__bottom"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,1,"span",[["class","form-creator__fields-area__field__bottom__mandatory-label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Obligatorio * "]))],function(e,n){var t=n.component;e(n,12,0,t.steps[t.currentStep].checkboxes)},function(e,n){var t=n.component;e(n,9,0,t.steps[t.currentStep].question)})}function gn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,12,"div",[["class","form-creator__fields-area__middle__container"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,11,"div",[["class","form-creator__fields-area__field"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,10,"div",[["class","form-creator__fields-area__field__container"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,9,"div",[["class","form-creator__fields-area__end-step"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,8,"div",[["class","form-creator__fields-area__end-step__container"]],null,null,null,null,null)),(e()(),l.qb(5,0,null,null,0,"span",[["class"," form-creator__fields-area__end-step__check icon icon-check-circle-solid"]],null,null,null,null,null)),(e()(),l.qb(6,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Finalizado"])),(e()(),l.qb(8,0,null,null,1,"button",[["class","button-filled button-filled--start-form trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toogleCheckout()&&l),l},null,null)),(e()(),l.Ib(-1,null,["Descargar"])),(e()(),l.qb(10,0,null,null,2,"div",[["class","form-creator__fields-area__end-step__icons"]],null,null,null,null,null)),(e()(),l.qb(11,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,null,null,null,null)),(e()(),l.qb(12,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,null,null,null,null))],null,null)}function yn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,18,"div",[["class","form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,0,"span",[["class","icon icon-file-regular"]],null,null,null,null,null)),(e()(),l.qb(3,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["1."])),(e()(),l.qb(5,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Elige un documento"])),(e()(),l.qb(7,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,0,"span",[["class","icon icon-list-alt-regular"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["2."])),(e()(),l.qb(11,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Rellena el formulario"])),(e()(),l.qb(13,0,null,null,5,"div",[["class","form-creator__fields-area__bottom__step"]],null,null,null,null,null)),(e()(),l.qb(14,0,null,null,0,"span",[["class","icon icon-print-solid"]],null,null,null,null,null)),(e()(),l.qb(15,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__number"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["3."])),(e()(),l.qb(17,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__step__description"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Gu\xe1rdalo e impr\xedmelo"]))],null,null)}function vn(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("next")&&l),l},null,null)),(e()(),l.qb(1,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Siguiente"])),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-right-solid"]],null,null,null,null,null))],null,null)}function An(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,11,"div",[["class","form-creator__fields-area__bottom"]],null,null,null,null,null)),(e()(),l.qb(1,0,null,null,10,"div",[["class","form-creator__fields-area__bottom__container"]],null,null,null,null,null)),(e()(),l.qb(2,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__arrow-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.moveStep("previous")&&l),l},null,null)),(e()(),l.qb(3,0,null,null,0,"span",[["class","icon icon-chevron-left-solid"]],null,null,null,null,null)),(e()(),l.qb(4,0,null,null,1,"span",[["class","form-creator__fields-area__bottom__arrow-button__label"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Anterior"])),(e()(),l.qb(6,0,null,null,3,"div",[["class","form-creator__fields-area__bottom__preview-button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.previewDocumentButton(!0)&&l),l},null,null)),(e()(),l.Ib(-1,null,[" Preview "])),(e()(),l.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["\u2b07"])),(e()(),l.ib(16777216,null,null,1,null,vn)),l.pb(11,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,11,0,"end"!==t.steps[t.currentStep].type)},null)}function Tn(e){return l.Kb(0,[l.Gb(402653184,1,{modal:0}),l.Gb(402653184,2,{modalEnd:0}),l.Gb(402653184,3,{modalDownload:0}),l.Gb(402653184,4,{modalIndication:0}),l.Gb(671088640,5,{input:0}),l.Gb(671088640,6,{progressBar:0}),(e()(),l.qb(6,0,null,null,41,"div",[["class","form-creator__container"]],null,null,null,null,null)),(e()(),l.qb(7,0,null,null,33,"div",[["class","form-creator__fields-area"],["id","fields-area"]],null,null,null,null,null)),(e()(),l.qb(8,0,null,null,32,"div",[["class","form-creator__fields-area__container"]],null,null,null,null,null)),(e()(),l.qb(9,0,null,null,4,"div",[["class","form-creator__fields-area__top"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,Xe)),l.pb(11,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,$e)),l.pb(13,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(14,0,null,null,22,"div",[["class","form-creator__fields-area__middle"]],null,null,null,null,null)),(e()(),l.ib(16777216,null,null,1,null,en)),l.pb(16,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,tn)),l.pb(18,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,on)),l.pb(20,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,an)),l.pb(22,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,un)),l.pb(24,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,cn)),l.pb(26,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,pn)),l.pb(28,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,mn)),l.pb(30,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,hn)),l.pb(32,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,En)),l.pb(34,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,gn)),l.pb(36,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,yn)),l.pb(38,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.ib(16777216,null,null,1,null,An)),l.pb(40,16384,null,0,w.k,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.qb(41,0,null,null,6,"div",[["class","form-creator__text-area"],["id","text-area"]],null,null,null,null,null)),(e()(),l.qb(42,0,null,null,1,"div",[["id","wodoformbaseddocs"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(43,0,null,null,0,"div",[["id","editorContainer"],["style","width:100%; height:100%; margin:0px; padding:0px"]],null,null,null,null,null)),(e()(),l.qb(44,0,null,null,3,"button",[["class","button-filled button-filled--preview-document"],["id","scrollToTop"],["style","display: none;"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.previewDocumentButton(!1)&&l),l},null,null)),(e()(),l.Ib(-1,null,["Form "])),(e()(),l.qb(46,0,null,null,1,"span",[["style","font-size:20px;"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["\u2191"])),(e()(),l.qb(48,0,[[1,0],["modal",1]],null,55,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(49,0,null,null,54,"div",[["class","modal__content modal__content--privacy"]],null,null,null,null,null)),(e()(),l.qb(50,0,null,null,2,"div",[["class","modal__content__top modal__content__top--privacy"]],null,null,null,null,null)),(e()(),l.qb(51,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Indicaciones antes de comenzar el formulario"])),(e()(),l.qb(53,0,null,null,47,"div",[["class","modal__content__modal-middle modal__content__modal-middle--privacy"],["id","modal-middle-privacy"]],null,null,null,null,null)),(e()(),l.qb(54,0,null,null,46,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.qb(55,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" El contrato de alquiler es el documento que regula la cesi\xf3n y el uso de inmueble y los derechos y obligaciones de arrendador (el propietario) y arrendatario (inquilino). Para que tenga validez, debe realizarse siguiendo las pautas del nuevo decreto de medidas urgentes en materia de alquiler, en vigor desde el 6 de marzo de 2019, que introduce algunos cambios en la Ley de Arrendamientos Urbanos (LAU). "])),(e()(),l.qb(57,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(59,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Lo m\xe1s habitual es firmar contrato por un a\xf1o,\xa0renovable hasta cinco. Incluso si se han pactado periodos m\xe1s cortos, el inquilino tiene derecho a prorrogarlo hasta 5 a\xf1os. Adem\xe1s, si el arrendador es una persona jur\xeddica (una empresa o entidad), se ampl\xeda a 7 a\xf1os. Esta es una de las principales del nuevo decreto, ya que hasta su entrada en vigor la renovaci\xf3n quedaba limitada a 3 a\xf1os. "])),(e()(),l.qb(61,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Pr\xf3rroga t\xe1cita"])),(e()(),l.qb(63,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,[" Adem\xe1s de la duraci\xf3n inicial del contrato,\xa0 exista la posibilidad de una pr\xf3rroga t\xe1cita: si al final de los 5 o 7 a\xf1os previstos ninguna de las partes comunica que quiere extinguir el contrato, este se ampl\xeda de nuevo de manera anual hasta tres a\xf1os m\xe1s. El plazo para comunicar la extinci\xf3n del contrato antes de que se active la pr\xf3rroga t\xe1cita es de cuatro meses para el propietario y de dos meses para el inquilino. "])),(e()(),l.qb(65,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Garant\xeda ante la venta de la vivienda"])),(e()(),l.qb(67,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["En caso de venta de la vivienda,\xa0se garantiza el derecho del inquilino\xa0a permanecer en ella durante el periodo del su contrato (cinco o siete a\xf1os). Es otro de los cambios destacados, ya que hasta ahora la venta del inmueble a una tercera persona pod\xeda conllevar que se exigiera extinguir el contrato."])),(e()(),l.qb(69,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Irregularidades en la duraci\xf3n de un contrato de alquiler"])),(e()(),l.qb(71,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Algunos arrendadores proponen realizar un contrato de once meses para hacerlo pasar por un alquiler temporal y evitarse as\xed la obligaci\xf3n de extensi\xf3n del plazo. La OCU destaca que si la vivienda\xa0se est\xe1 usando como vivienda habitual, aunque el contrato diga otra cosa, aplica la LAU y se puede prorrogar."])),(e()(),l.qb(73,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Extinci\xf3n del contrato de alquiler"])),(e()(),l.qb(75,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Existe la posibilidad de que el arrendador pueda recuperar el piso despu\xe9s del primer a\xf1o\xa0si demuestra necesidad de la vivienda para \xe9l mismo o para alg\xfan familiar directo\xa0(en primer grado de consanguinidad). Esta excepci\xf3n se hab\xeda usado a menudo como excusa para terminar contratos antes de ahora, pero ahora solo ser\xe1 v\xe1lida si se ha incluido ese supuesto de manera expresa en el contrato inicial."])),(e()(),l.qb(77,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Por lo que respecta al inquilino, la normativa vigente reconoce su derecho a desistir del contrato despu\xe9s de los seis primeros meses. La extinci\xf3n del contrato antes de la fecha prevista debe comunicarse al menos con dos meses de antelaci\xf3n."])),(e()(),l.qb(79,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un mes de fianza y dos de dep\xf3sito"])),(e()(),l.qb(81,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Con el nuevo decreto se prev\xe9, para los alquileres de vivienda,\xa0la entrega de un mes de fianza y un m\xe1ximo de dos mensualidades m\xe1s\xa0como garant\xeda adicional. Este dep\xf3sito, seg\xfan la OCU, es recomendable como garant\xeda del pago de la renta, los gastos asociados y de la conservaci\xf3n de la vivienda en buen estado."])),(e()(),l.qb(83,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Actualizaci\xf3n del precio del alquiler seg\xfan el IPC"])),(e()(),l.qb(85,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La actualizaci\xf3n anual de la renta es uno de los puntos clave de todo contrato de alquiler. Existe libertad para que\xa0las partes fijen la manera de actualizar el alquiler, pero el incremento nunca podr\xe1 ser superior a la\xa0subida marcada por el IPC. Si no se ha especificado nada en el contrato a este respecto, no se podr\xe1 actualizar la renta durante la vigencia del mismo."])),(e()(),l.qb(87,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Un inventario detallado"])),(e()(),l.qb(89,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La fianza se devuelve una vez se comprueba que no quedan deudas pendientes y el buen estado del inmueble, pero a menudo es fuente de problemas. Algunos inquilinos\xa0optan por no pagar el \xfaltimo mes de renta a cuenta de la fianza,\xa0a pesar de que es una pr\xe1ctica ilegal. En otros casos los arrendadores se encuentran con desperfectos que superan el importe de la fianza. Para evitar problemas, es aconsejable incluir junto al contrato un inventario detallado de la vivienda, incluso con fotos. A la devoluci\xf3n de las llaves debe revisarse la vivienda por ambas partes y firmar un documento que se\xf1ale los desperfectos causados, si los hay."])),(e()(),l.qb(91,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Qui\xe9n se hace cargo de los gastos"])),(e()(),l.qb(93,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["La LAU contempla un reparto de los gastos entre las partes, pero la OCU recomienda precisarlo en el contrato con el m\xe1ximo detalle. En principio,\xa0el arrendador paga impuestos como el IBI,\xa0la comunidad de propietarios y los gastos de conservaci\xf3n de la vivienda y sus instalaciones. El inquilino se hace cargo de los suministros y de las peque\xf1as reparaciones derivadas del uso ordinario de la vivienda. En aquellas ciudades donde hay tasa de basuras, debe pactarse a qui\xe9n corresponde, y lo habitual es que se haga cargo el inquilino."])),(e()(),l.qb(95,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Los\xa0gastos de gesti\xf3n inmobiliaria\xa0(si los hay) y de formalizaci\xf3n del contrato ir\xe1n a cuenta del propietario si se trata de una persona jur\xeddica. En el caso de ser una persona f\xedsica, la comisi\xf3n de la agencia generalmente la abona quien haya contratado sus servicios."])),(e()(),l.qb(97,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Cl\xe1usulas abusivas"])),(e()(),l.qb(99,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Aunque las partes pueden\xa0pactar cl\xe1usulas espec\xedficas, estas no pueden eliminar los derechos obligatorios recogidos por la normativa vigente. Por ejemplo, no se puede impedir la pr\xf3rroga hasta los cinco a\xf1os ni exigir un pago por desestimiento superior al que contempla la ley."])),(e()(),l.qb(101,0,null,null,2,"div",[["class","modal__content__modal-bottom modal__content__modal-bottom--privacy"]],null,null,null,null,null)),(e()(),l.qb(102,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,n,t){var i=!0,o=e.component;return"click"===n&&(o.toogleModal(l.Ab(e,48)),i=!1!==o.moveStep("next")&&i),i},null,null)),(e()(),l.Ib(-1,null,["Rellenar"])),(e()(),l.qb(104,0,[[2,0],["modalEnd",1]],null,2,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(105,0,null,null,1,"app-checkout",[["class","modal__content modal__content--privacy"]],null,[[null,"formPaid"],[null,"exitModal"],[null,"downloadWordOutput"],[null,"downloadPdfOutput"]],function(e,n,t){var l=!0,i=e.component;return"formPaid"===n&&(l=!1!==i.onFormPaid(t)&&l),"exitModal"===n&&(l=!1!==i.onExitPayment()&&l),"downloadWordOutput"===n&&(l=!1!==i.downloadWord()&&l),"downloadPdfOutput"===n&&(l=!1!==i.downloadPdf()&&l),l},Z,x)),l.pb(106,114688,null,0,b,[I.a,L.a,T.a,A.a,q.a,m.l,N.j],{form:[0,"form"]},{formPaid:"formPaid",exitModal:"exitModal",downloadPdfOutput:"downloadPdfOutput",downloadWordOutput:"downloadWordOutput"}),(e()(),l.qb(107,0,[[3,0],["modalDownload",1]],null,9,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(108,0,null,null,8,"div",[["class","modal__content"],["style","padding: 2rem"]],null,null,null,null,null)),(e()(),l.qb(109,0,null,null,4,"div",[["class","modal__content__modal-middle modal__content__modal-middle--change-password"]],null,null,null,null,null)),(e()(),l.qb(110,0,null,null,3,"div",[["class","modal__content__modal-middle__container"]],null,null,null,null,null)),(e()(),l.qb(111,0,null,null,2,"div",[["class","download-documents-modal"]],null,null,null,null,null)),(e()(),l.qb(112,0,null,null,0,"span",[["class","icon icon-file-word-solid trigger"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadWord()&&l),l},null,null)),(e()(),l.qb(113,0,null,null,0,"span",[["class","icon icon-file-pdf-solid"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.downloadPdf()&&l),l},null,null)),(e()(),l.qb(114,0,null,null,2,"div",[["class","modal__content__modal-bottom"]],null,null,null,null,null)),(e()(),l.qb(115,0,null,null,1,"button",[["class","button-filled"],["id","modal-button"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e,107))&&i),i},null,null)),(e()(),l.Ib(-1,null,["Cancelar"])),(e()(),l.qb(117,0,[[4,0],["modalIndication",1]],null,9,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.qb(118,0,null,null,8,"div",[["class","modal__content modal__content--question-indication"]],null,null,null,null,null)),(e()(),l.qb(119,0,null,null,2,"div",[["class","modal__content__top modal__content__top--indication"]],null,null,null,null,null)),(e()(),l.qb(120,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),l.Ib(-1,null,["Indication"])),(e()(),l.qb(122,0,null,null,1,"div",[["class","modal__content__modal-middle modal__content__modal-middle--question-indication"]],null,null,null,null,null)),(e()(),l.qb(123,0,null,null,0,"div",[["class","modal__content__modal-middle__container"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.qb(124,0,null,null,2,"div",[["class","new-modal-content__footer new-modal-content__footer--indicactions"]],null,null,null,null,null)),(e()(),l.qb(125,0,null,null,1,"button",[["class","btn next-btn"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.toogleModal(l.Ab(e,117))&&i),i},null,null)),(e()(),l.Ib(-1,null,["Entendido"]))],function(e,n){var t=n.component;e(n,11,0,"start"===t.steps[t.currentStep].type),e(n,13,0,"start"!==t.steps[t.currentStep].type),e(n,16,0,"start"===t.steps[t.currentStep].type),e(n,18,0,"iText"===t.steps[t.currentStep].type),e(n,20,0,"iNumber"===t.steps[t.currentStep].type),e(n,22,0,"iForEach"===t.steps[t.currentStep].type),e(n,24,0,"iDate"===t.steps[t.currentStep].type),e(n,26,0,"inputRange"===t.steps[t.currentStep].type),e(n,28,0,"iRadioB"===t.steps[t.currentStep].type),e(n,30,0,"iRadioC"===t.steps[t.currentStep].type&&"select"!==t.steps[t.currentStep].subType),e(n,32,0,"iRadioC"===t.steps[t.currentStep].type&&"select"===t.steps[t.currentStep].subType),e(n,34,0,"iCheckbox"===t.steps[t.currentStep].type),e(n,36,0,"end"===t.steps[t.currentStep].type),e(n,38,0,"start"===t.steps[t.currentStep].type),e(n,40,0,"start"!==t.steps[t.currentStep].type),e(n,106,0,t.form)},function(e,n){e(n,123,0,n.component.indications.value)})}function In(e){return l.Kb(0,[(e()(),l.qb(0,0,null,null,1,"app-contrato-compraventa-vehiculo",[],null,null,null,Tn,Je)),l.pb(1,4440064,null,0,Ze,[Ge,A.a,y,Qe,T.a,N.j,L.a,m.a],null,null)],function(e,n){e(n,1,0)},null)}var Nn=l.mb("app-contrato-compraventa-vehiculo",Ze,In,{},{},[]),Rn=t("yIEL"),Sn=t("Z+Mw"),On=t("PCNd"),Cn=function(){return function(){}}();t.d(n,"CertifiedFormsModuleNgFactory",function(){return wn});var wn=l.nb(i,[],function(e){return l.xb([l.yb(512,l.j,l.db,[[8,[o.a,r.a,a.a,s.a,u.a,c.a,d.a,p.a,_.a,C,be,je,Nn]],[3,l.j],l.y]),l.yb(4608,w.m,w.l,[l.v,[2,w.u]]),l.yb(4608,P.w,P.w,[]),l.yb(4608,P.e,P.e,[]),l.yb(4608,$.a,$.a,[A.a]),l.yb(4608,Rn.a,Rn.a,[]),l.yb(4608,y,y,[]),l.yb(4608,ge,ge,[A.a,q.a]),l.yb(4608,ye,ye,[ge]),l.yb(4608,Qe,Qe,[A.a,q.a]),l.yb(4608,Ge,Ge,[Qe,A.a]),l.yb(1073742336,w.b,w.b,[]),l.yb(1073742336,P.u,P.u,[]),l.yb(1073742336,P.j,P.j,[]),l.yb(1073742336,P.s,P.s,[]),l.yb(1073742336,Sn.c,Sn.c,[]),l.yb(1073742336,On.a,On.a,[]),l.yb(1073742336,m.p,m.p,[[2,m.v],[2,m.l]]),l.yb(1073742336,Cn,Cn,[]),l.yb(1073742336,i,i,[]),l.yb(256,l.v,"es",[]),l.yb(256,Sn.a,{modules:Sn.d},[]),l.yb(1024,m.j,function(){return[[{path:"",component:v,children:[{path:"pacto-de-socios",component:X},{path:"contrato-arras-penitenciales",component:Ae},{path:"contrato-compraventa-vehiculo",component:Ze}]}]]},[]),l.yb(256,l.M,"xlf",[])])})},gusg:function(e,n,t){var l;e.exports=function e(n,t,i){function o(a,s){if(!t[a]){if(!n[a]){if(!s&&"function"==typeof l&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){return o(n[a][1][e]||e)},c,c.exports,e,n,t,i)}return t[a].exports}for(var r="function"==typeof l&&l,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,t){(function(t){"use strict";var l=e("promise-polyfill");n.exports=t.Promise||l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":38}],2:[function(e,n,t){"use strict";var l=e("./lib/promise"),i={};function o(e){var n,t,o,r,a=JSON.stringify(e);return!e.forceScriptReload&&(r=i[a])?r:(o=document.createElement("script"),n=e.dataAttributes||{},t=e.container||document.head,o.src=e.src,o.id=e.id,o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",e.crossorigin),Object.keys(n).forEach(function(e){o.setAttribute("data-"+e,n[e])}),r=new l(function(n,l){o.addEventListener("load",function(){n(o)}),o.addEventListener("error",function(){l(new Error(e.src+" failed to load."))}),o.addEventListener("abort",function(){l(new Error(e.src+" has aborted."))}),t.appendChild(o)}),i[a]=r,r)}o.clearCache=function(){i={}},n.exports=o},{"./lib/promise":1}],3:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/Android/.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/CrOS/i.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,n,t){"use strict";var l=e("./is-edge"),i=e("./is-samsung");n.exports=function(e){return!(-1===(e=e||navigator.userAgent).indexOf("Chrome")&&-1===e.indexOf("CriOS")||l(e)||i(e))}},{"./is-edge":6,"./is-samsung":18}],6:[function(e,n,t){"use strict";n.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Edge/")}},{}],7:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/Firefox/i.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,t){(function(t){"use strict";var l=e("./is-ie11");n.exports=function(e){return-1!==(e=e||t.navigator.userAgent).indexOf("MSIE")||l(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":10}],9:[function(e,n,t){"use strict";n.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 10")}},{}],10:[function(e,n,t){"use strict";n.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Trident/7")}},{}],11:[function(e,n,t){"use strict";n.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 9")}},{}],12:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/FxiOS/i.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,n,t){"use strict";var l=e("./is-ios"),i=/webkit/i;n.exports=function(e){return e=e||navigator.userAgent,l(e)&&function(e){return e.match(i)}(e)&&-1===e.indexOf("CriOS")}},{"./is-ios":16}],14:[function(e,n,t){(function(t){"use strict";var l=e("./is-ios");n.exports=function(e){return!!l(e=e||t.navigator.userAgent)&&(!!function(e){return/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":16}],15:[function(e,n,t){(function(t){"use strict";var l=e("./is-ios-webview");n.exports=function(e,n){return n=void 0!==n?n:t.statusbar.visible,l(e)&&n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios-webview":14}],16:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/iPhone|iPod|iPad/i.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,n,t){(function(t){"use strict";var l=e("./is-ios-firefox"),i=e("./is-firefox");n.exports=function(e){return l(e=e||t.navigator.userAgent)||/iPhone|iPod|iPad|Mobile|Tablet/i.test(e)&&i(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-firefox":7,"./is-ios-firefox":12}],18:[function(e,n,t){(function(e){"use strict";n.exports=function(n){return/SamsungBrowser/i.test(n=n||e.navigator.userAgent)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,n,t){(function(t){"use strict";var l=e("./is-android"),i=e("./is-ios-firefox"),o=e("./is-ios-webview"),r=e("./is-chrome"),a=e("./is-samsung");function s(e){return(e=e||t.navigator.userAgent).indexOf("Opera Mini")>-1}n.exports=function(e){return!(o(e=e||t.navigator.userAgent)||i(e)||function(e){return!!l(e=e||t.navigator.userAgent)&&/Version\/[\d\.]+/.test(e)&&!s(e)}(e)||s(e)||function(e){var n;return!!(n=(e=e||t.navigator.userAgent).match(/CriOS\/(\d+)\./))&&parseInt(n[1],10)<48}(e)||function(e){return!r(e)&&!a(e)&&/samsung/i.test(e)}(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-android":3,"./is-chrome":5,"./is-ios-firefox":12,"./is-ios-webview":14,"./is-samsung":18}],20:[function(e,n,t){"use strict";function l(e){return e.className.trim().split(/\s+/)}function i(e){var n=Array.prototype.slice.call(arguments,1),t=l(e).filter(function(e){return-1===n.indexOf(e)}).concat(n).join(" ");e.className=t}function o(e){var n=Array.prototype.slice.call(arguments,1),t=l(e).filter(function(e){return-1===n.indexOf(e)}).join(" ");e.className=t}n.exports={add:i,remove:o,toggle:function(e,n,t){t?i(e,n):o(e,n)}}},{}],21:[function(e,n,t){"use strict";function l(){this._events={}}l.prototype.on=function(e,n){this._events[e]?this._events[e].push(n):this._events[e]=[n]},l.prototype.off=function(e,n){var t,l=this._events[e];l&&(t=l.indexOf(n),l.splice(t,1))},l.prototype._emit=function(e){var n,t=this._events[e];t&&(n=Array.prototype.slice.call(arguments,1),t.forEach(function(e){e.apply(null,n)}))},l.prototype.hasListener=function(e){var n=this._events[e];return!!n&&n.length>0},l.createChild=function(e){e.prototype=Object.create(l.prototype,{constructor:e})},n.exports=l},{}],22:[function(e,n,t){"use strict";var l=e("./lib/set-attributes"),i=e("./lib/default-attributes"),o=e("./lib/assign");n.exports=function(e){var n=document.createElement("iframe"),t=o({},i,e);return t.style&&"string"!=typeof t.style&&(o(n.style,t.style),delete t.style),l(n,t),n.getAttribute("id")||(n.id=n.name),n}},{"./lib/assign":23,"./lib/default-attributes":24,"./lib/set-attributes":25}],23:[function(e,n,t){"use strict";n.exports=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){"object"==typeof n&&Object.keys(n).forEach(function(t){e[t]=n[t]})}),e}},{}],24:[function(e,n,t){"use strict";n.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],25:[function(e,n,t){"use strict";n.exports=function(e,n){var t;for(var l in n)n.hasOwnProperty(l)&&(null==(t=n[l])?e.removeAttribute(l):e.setAttribute(l,t))}},{}],26:[function(e,n,t){"use strict";n.exports=function(e){return function(){var n=arguments;setTimeout(function(){try{e.apply(null,n)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}},{}],27:[function(e,n,t){"use strict";n.exports=function(e){var n=!1;return function(){n||(n=!0,e.apply(null,arguments))}}},{}],28:[function(e,n,t){"use strict";n.exports=function(e,n){if(!n)return e;e.then(function(e){n(null,e)}).catch(function(e){n(e)})}},{}],29:[function(e,n,t){"use strict";var l=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function r(e){return function(){var n,t=Array.prototype.slice.call(arguments);return"function"==typeof t[t.length-1]&&(n=t.pop(),n=i(l(n))),o(e.apply(this,t),n)}}r.wrapPrototype=function(e,n){var t,l;return t=(n=n||{}).ignoreMethods||[],l=!0===n.transformPrivateMethods,Object.getOwnPropertyNames(e.prototype).filter(function(n){var i,o="constructor"!==n&&"function"==typeof e.prototype[n],r=-1===t.indexOf(n);return i=!!l||"_"!==n.charAt(0),o&&i&&r}).forEach(function(n){e.prototype[n]=r(e.prototype[n])}),e},n.exports=r},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(e,n,t){"use strict";var l,i=e("./lib/card-types"),o=e("./lib/clone"),r=e("./lib/find-best-match"),a=e("./lib/is-valid-input-type"),s=e("./lib/add-matching-cards-to-results"),u={},c={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},d=[c.VISA,c.MASTERCARD,c.AMERICAN_EXPRESS,c.DINERS_CLUB,c.DISCOVER,c.JCB,c.UNIONPAY,c.MAESTRO,c.ELO,c.MIR,c.HIPER,c.HIPERCARD];function p(e){return u[e]||i[e]}function _(e,n){var t=l.indexOf(e);if(!n&&-1===t)throw new Error('"'+e+'" is not a supported card type.');return t}function m(e){var n,t=[];return a(e)?0===e.length?l.map(function(e){return o(p(e))}):(l.forEach(function(n){var l=p(n);s(e,l,t)}),(n=r(t))?[n]:t):[]}l=o(d),m.getTypeInfo=function(e){return o(p(e))},m.removeCard=function(e){var n=_(e);l.splice(n,1)},m.addCard=function(e){var n=_(e.type,!0);u[e.type]=e,-1===n&&l.push(e.type)},m.updateCard=function(e,n){var t,l=u[e]||i[e];if(!l)throw new Error('"'+e+'" is not a recognized type. Use `addCard` instead.');if(n.type&&l.type!==n.type)throw new Error("Cannot overwrite type parameter.");t=o(l,!0),Object.keys(t).forEach(function(e){n[e]&&(t[e]=n[e])}),u[t.type]=t},m.changeOrder=function(e,n){var t=_(e);l.splice(t,1),l.splice(n,0,e)},m.resetModifications=function(){l=o(d),u={}},m.types=c,n.exports=m},{"./lib/add-matching-cards-to-results":31,"./lib/card-types":32,"./lib/clone":33,"./lib/find-best-match":34,"./lib/is-valid-input-type":35}],31:[function(e,n,t){"use strict";var l=e("./clone"),i=e("./matches");n.exports=function(e,n,t){var o,r,a,s;for(o=0;o<n.patterns.length;o++)if(i(e,r=n.patterns[o])){s=l(n),a=Array.isArray(r)?String(r[0]).length:String(r).length,e.length>=a&&(s.matchStrength=a),t.push(s);break}}},{"./clone":33,"./matches":36}],32:[function(e,n,t){"use strict";n.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}},{}],33:[function(e,n,t){"use strict";n.exports=function(e){return e?JSON.parse(JSON.stringify(e)):null}},{}],34:[function(e,n,t){"use strict";n.exports=function(e){if(function(e){var n=e.filter(function(e){return e.matchStrength}).length;return n>0&&n===e.length}(e))return e.reduce(function(e,n){return e?e.matchStrength<n.matchStrength?n:e:n})}},{}],35:[function(e,n,t){"use strict";n.exports=function(e){return"string"==typeof e||e instanceof String}},{}],36:[function(e,n,t){"use strict";n.exports=function(e,n){return Array.isArray(n)?function(e,n,t){var l=String(n).length,i=e.substr(0,l),o=parseInt(i,10);return n=parseInt(String(n).substr(0,i.length),10),t=parseInt(String(t).substr(0,i.length),10),o>=n&&o<=t}(e,n[0],n[1]):function(e,n){return(n=String(n)).substring(0,e.length)===e.substring(0,n.length)}(e,n)}},{}],37:[function(e,n,t){(function(e){"use strict";var t,l,i=[],o={},r="/*framebus*/";function a(e){var n,l=c(this);return!d(e)&&!d(l)&&!1!==(n=p(e,Array.prototype.slice.call(arguments,1),l))&&(E(t.top||t.self,n,l),!0)}function s(e,n){var t=c(this);return!y(e,n,t)&&(o[t]=o[t]||{},o[t][e]=o[t][e]||[],o[t][e].push(n),!0)}function u(e,n){var t,l,i=c(this);if(y(e,n,i))return!1;if(!(l=o[i]&&o[i][e]))return!1;for(t=0;t<l.length;t++)if(l[t]===n)return l.splice(t,1),!0;return!1}function c(e){return e&&e._origin||"*"}function d(e){return"string"!=typeof e}function p(e,n,t){var l=!1,i={event:e,origin:t},o=n[n.length-1];"function"==typeof o&&(i.reply=g(o,t),n=n.slice(0,-1)),i.args=n;try{l=r+JSON.stringify(i)}catch(a){throw new Error("Could not stringify event: "+a.message)}return l}function _(e){var n,t,l,i;if(e.data.slice(0,r.length)!==r)return!1;try{n=JSON.parse(e.data.slice(r.length))}catch(o){return!1}return null!=n.reply&&(t=e.origin,l=e.source,i=n.reply,n.reply=function(e){var n;return!!l&&!1!==(n=p(i,[e],t))&&void l.postMessage(n,t)},n.args.push(n.reply)),n}function m(n){t||((t=n||e).addEventListener?t.addEventListener("message",h,!1):t.attachEvent?t.attachEvent("onmessage",h):null===t.onmessage?t.onmessage=h:t=null)}function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})}function h(e){var n;d(e.data)||(n=_(e))&&(b("*",n.event,n.args,e),b(e.origin,n.event,n.args,e),function(e,n,t){var l,o;for(l=i.length-1;l>=0;l--)!0===(o=i[l]).closed?i=i.slice(l,1):t!==o&&E(o.top,e,n)}(e.data,n.origin,e.source))}function b(e,n,t,l){var i;if(o[e]&&o[e][n])for(i=0;i<o[e][n].length;i++)o[e][n][i].apply(l,t)}function E(e,n,t){var l,i=0;try{for(e.postMessage(n,t),function(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}(e)&&E(e.opener.top,n,t);l=e.frames[i];)E(l,n,t),i++}catch(o){}}function g(e,n){var t=f();return l.target(n).subscribe(t,function i(o,r){e(o,r),l.target(n).unsubscribe(t,i)}),t}function y(e,n,t){return!!d(e)||"function"!=typeof n||!!d(t)}m(),n.exports=l={target:function(e){var n,t={};for(n in l)l.hasOwnProperty(n)&&(t[n]=l[n]);return t._origin=e||"*",t},_packagePayload:p,_unpackPayload:_,_attach:m,_detach:function(){null!=t&&(t.removeEventListener?t.removeEventListener("message",h,!1):t.detachEvent?t.detachEvent("onmessage",h):t.onmessage===h&&(t.onmessage=null),t=null,i=[],o={})},_dispatch:b,_broadcast:E,_subscribeReplier:g,_subscriptionArgsInvalid:y,_onmessage:h,_uuid:f,_getSubscribers:function(){return o},_win:function(){return t},include:function(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(i.push(e),!0)},publish:a,pub:a,trigger:a,emit:a,subscribe:s,sub:s,on:s,unsubscribe:u,unsub:u,off:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,n,t){"use strict";var l=setTimeout;function i(e){return Boolean(e&&void 0!==e.length)}function o(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function a(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var l;try{l=t(e._value)}catch(i){return void u(n.promise,i)}s(n.promise,l)}else(1===e._state?s:u)(n.promise,e._value)})):e._deferreds.push(n)}function s(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof r)return e._state=3,e._value=n,void c(e);if("function"==typeof t)return void p((l=t,i=n,function(){l.apply(i,arguments)}),e)}e._state=1,e._value=n,c(e)}catch(o){u(e,o)}var l,i}function u(e,n){e._state=2,e._value=n,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)a(e,e._deferreds[n]);e._deferreds=null}function d(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function p(e,n){var t=!1;try{e(function(e){t||(t=!0,s(n,e))},function(e){t||(t=!0,u(n,e))})}catch(l){if(t)return;t=!0,u(n,l)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,n){var t=new this.constructor(o);return a(this,new d(e,n,t)),t},r.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},r.all=function(e){return new r(function(n,t){if(!i(e))return t(new TypeError("Promise.all accepts an array"));var l=Array.prototype.slice.call(e);if(0===l.length)return n([]);var o=l.length;function r(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,function(n){r(e,n)},t)}l[e]=i,0==--o&&n(l)}catch(s){t(s)}}for(var a=0;a<l.length;a++)r(a,l[a])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(n){n(e)})},r.reject=function(e){return new r(function(n,t){t(e)})},r.race=function(e){return new r(function(n,t){if(!i(e))return t(new TypeError("Promise.race accepts an array"));for(var l=0,o=e.length;l<o;l++)r.resolve(e[l]).then(n,t)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n.exports=r},{}],39:[function(e,n,t){(function(t){"use strict";var l=t.navigator&&t.navigator.userAgent,i=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome-os"),r=e("@braintree/browser-detection/is-chrome"),a=e("@braintree/browser-detection/is-ios"),s=e("@braintree/browser-detection/is-ie9"),u=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;n.exports={isIE9:s,isAndroidChrome:function(e){var n=e||l;return(i(n)||o(n))&&r(n)},isIos:a,isKitKatWebview:function(e){var n=e||l;return i(n)&&u.test(n)},isSamsungBrowser:function(e){return/SamsungBrowser/.test(e=e||l)||function(e){return!r(e)&&e.indexOf("Samsung")>-1}(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16}],40:[function(e,n,t){"use strict";var l=e("./lib/device");n.exports=function(){return!l.isSamsungBrowser()}},{"./lib/device":39}],41:[function(e,n,t){"use strict";var l=e("../lib/braintree-error"),i=e("./errors"),o=e("../lib/assign").assign,r=e("../lib/promise"),a=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),u=e("@braintree/wrap-promise");function c(e){this._client=e.client}c.prototype.getRewardsBalance=function(e){var n,t=e.nonce;return t?(delete(n=o({_meta:{source:"american-express"},paymentMethodNonce:t},e)).nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:n}).catch(function(e){return r.reject(new l({type:i.AMEX_NETWORK_ERROR.type,code:i.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:e}}))})):r.reject(new l({type:i.AMEX_NONCE_REQUIRED.type,code:i.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},c.prototype.getExpressCheckoutProfile=function(e){return e.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+e.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:e.nonce}}).catch(function(e){return r.reject(new l({type:i.AMEX_NETWORK_ERROR.type,code:i.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:e}}))}):r.reject(new l({type:i.AMEX_NONCE_REQUIRED.type,code:i.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},c.prototype.teardown=function(){return s(this,a(c.prototype)),r.resolve()},n.exports=u.wrapPrototype(c)},{"../lib/assign":94,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":42,"@braintree/wrap-promise":29}],42:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={AMEX_NONCE_REQUIRED:{type:l.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:l.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":97}],43:[function(e,n,t){"use strict";var l=e("./american-express"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("@braintree/wrap-promise");n.exports={create:a(function(e){var n="American Express";return i.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:n})}).then(function(n){return e.client=n,new l(e)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./american-express":41,"@braintree/wrap-promise":29}],44:[function(e,n,t){(function(t){"use strict";var l=e("../lib/braintree-error"),i=e("../lib/analytics"),o=e("./errors"),r=e("../lib/promise"),a=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),u=e("@braintree/wrap-promise");function c(e){this._client=e.client,Object.defineProperty(this,"merchantIdentifier",{value:this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,configurable:!1,writable:!1})}c.prototype.createPaymentRequest=function(e){var n=this._client.getConfiguration().gatewayConfiguration.applePayWeb,t={countryCode:n.countryCode,currencyCode:n.currencyCode,merchantCapabilities:n.merchantCapabilities||["supports3DS"],supportedNetworks:n.supportedNetworks.map(function(e){return"mastercard"===e?"masterCard":e})};return Object.assign({},t,e)},c.prototype.performValidation=function(e){var n,a=this;return e&&e.validationURL?(n={validationUrl:e.validationURL,domainName:e.domainName||t.location.hostname,merchantIdentifier:e.merchantIdentifier||this.merchantIdentifier},null!=e.displayName&&(n.displayName=e.displayName),this._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:n}}).then(function(e){return i.sendEvent(a._client,"applepay.performValidation.succeeded"),r.resolve(e)}).catch(function(e){return i.sendEvent(a._client,"applepay.performValidation.failed"),r.reject(new l("CLIENT_REQUEST_ERROR"===e.code?{type:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:o.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:e.details.originalError}}:{type:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:o.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:e}}))})):r.reject(new l(o.APPLE_PAY_VALIDATION_URL_REQUIRED))},c.prototype.tokenize=function(e){var n=this;return e.token?this._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},e.token,{paymentData:btoa(JSON.stringify(e.token.paymentData))})}}).then(function(e){return i.sendEvent(n._client,"applepay.tokenize.succeeded"),r.resolve(e.applePayCards[0])}).catch(function(e){return i.sendEvent(n._client,"applepay.tokenize.failed"),r.reject(new l({type:o.APPLE_PAY_TOKENIZATION.type,code:o.APPLE_PAY_TOKENIZATION.code,message:o.APPLE_PAY_TOKENIZATION.message,details:{originalError:e}}))}):r.reject(new l(o.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},c.prototype.teardown=function(){return s(this,a(c.prototype)),r.resolve()},n.exports=u.wrapPrototype(c)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":45,"@braintree/wrap-promise":29}],45:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={APPLE_PAY_NOT_ENABLED:{type:l.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:l.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:l.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:l.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:l.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:l.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":97}],46:[function(e,n,t){"use strict";var l=e("../lib/braintree-error"),i=e("./apple-pay"),o=e("../lib/analytics"),r=e("../lib/basic-component-verification"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),u=e("./errors"),c=e("../lib/promise"),d=e("@braintree/wrap-promise");n.exports={create:d(function(e){return r.verify({name:"Apple Pay",client:e.client,authorization:e.authorization}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Apple Pay"})}).then(function(n){return e.client=n,e.client.getConfiguration().gatewayConfiguration.applePayWeb?(o.sendEvent(e.client,"applepay.initialized"),new i(e)):c.reject(new l(u.APPLE_PAY_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./apple-pay":44,"./errors":45,"@braintree/wrap-promise":29}],47:[function(e,n,t){"use strict";var l=e("@braintree/browser-detection/is-ie"),i=e("@braintree/browser-detection/is-ie9");n.exports={isIe:l,isIe9:i}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie9":11}],48:[function(e,n,t){"use strict";var l=e("./constants").BRAINTREE_VERSION,i=e("./request/graphql"),o=e("./request"),r=e("../lib/is-verified-domain"),a=e("../lib/braintree-error"),s=e("../lib/convert-to-braintree-error"),u=e("./get-configuration").getConfiguration,c=e("../lib/add-metadata"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=e("../lib/once"),m=e("../lib/deferred"),f=e("../lib/assign").assign,h=e("../lib/analytics"),b=e("./errors"),E=e("../lib/constants").VERSION,g=e("../lib/constants").GRAPHQL_URLS,y=e("../lib/methods"),v=e("../lib/convert-methods-to-error"),A=e("../lib/assets"),T=e("../lib/constants").FRAUDNET_FNCLS,I=e("../lib/constants").FRAUDNET_SOURCE,N=e("../lib/constants").FRAUDNET_URL,R={};function S(e){var n,t;if(e=e||{},n=JSON.stringify(e),!(t=e.gatewayConfiguration))throw new a(b.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in t&&!r(t[e]))throw new a({type:b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:b.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(n)},this._request=o,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=t.clientApiUrl+"/v1/",t.graphQL&&(this._graphQL=new i({graphQL:t.graphQL}))}S.initialize=function(e){var n,t=R[e.authorization];return t?(h.sendEvent(t,"custom.client.load.cached"),t):(t=u(e).then(function(t){return e.debug&&(t.isDebug=!0),n=new S(t)}),R[e.authorization]=t,h.sendEvent(t,"custom.client.load.initialized"),t.then(function(e){return h.sendEvent(n,"custom.client.load.succeeded"),e}).catch(function(n){return delete R[e.authorization],d.reject(n)}))},S.clearCache=function(){R={}},S.prototype._findOrCreateFraudnetJSON=function(e){var n,t,l,i,o=document.querySelector('script[fncls="'+T+'"]');o||((o=document.body.appendChild(document.createElement("script"))).type="application/json",o.setAttribute("fncls",T)),n=this.getConfiguration(),t={rda_tenant:"bt_card",mid:n.gatewayConfiguration.merchantId},(l=n.authorizationFingerprint)&&l.split("&").forEach(function(e){var n=e.split("=");"customer_id"===n[0]&&n.length>1&&(t.cid=n[1])}),i={f:e.substr(0,32),fp:t,bu:!1,s:I},o.text=JSON.stringify(i)},S.prototype.request=function(e,n){var t=this,i=new d(function(n,i){var o,r,u,d,p,_=Boolean("payment_methods/credit_cards"===e.endpoint&&t.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(o="options.endpoint"):o="options.method"),o)throw new a({type:b.CLIENT_OPTION_REQUIRED.type,code:b.CLIENT_OPTION_REQUIRED.code,message:o+" is required when making a request."});if(d={method:e.method,graphQL:t._graphQL,timeout:e.timeout,metadata:t._configuration.analyticsMetadata},"clientApi"===(r="api"in e?e.api:"clientApi"))u=t._clientApiBaseUrl,d.data=c(t._configuration,e.data);else{if("graphQLApi"!==r)throw new a({type:b.CLIENT_OPTION_INVALID.type,code:b.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});u=g[t._configuration.gatewayConfiguration.environment],e.endpoint="",d.method="post",d.data=f({clientSdkMetadata:{source:t._configuration.analyticsMetadata.source,integration:t._configuration.analyticsMetadata.integration,sessionId:t._configuration.analyticsMetadata.sessionId}},e.data),d.headers={Authorization:"Bearer "+((p=t._configuration).authorizationFingerprint||p.authorization),"Braintree-Version":l}}d.url=u+e.endpoint,d.sendAnalyticsEvent=function(e){h.sendEvent(t,e)},t._request(d,function(e,l,o){var u,c;(c=function(e,n){var t;if(-1===e?t=new a(b.CLIENT_REQUEST_TIMEOUT):403===e?t=new a(b.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?t=new a(b.CLIENT_RATE_LIMITED):e>=500?t=new a(b.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(t=s(n,{type:b.CLIENT_REQUEST_ERROR.type,code:b.CLIENT_REQUEST_ERROR.code,message:b.CLIENT_REQUEST_ERROR.message})),t)return t.details=t.details||{},t.details.httpStatus=e,t}(o,e))?i(c):"graphQLApi"===r&&l.errors?i(s(l.errors,{type:b.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:b.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:b.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(u=f({_httpStatus:o},l),_&&u.creditCards&&u.creditCards.length>0&&(t._findOrCreateFraudnetJSON(u.creditCards[0].nonce),A.loadScript({src:N,forceScriptReload:!0})),n(u))})});return"function"==typeof n?(n=_(m(n)),void i.then(function(e){n(null,e,e._httpStatus)}).catch(function(e){n(e,null,e&&e.details&&e.details.httpStatus)})):i},S.prototype.toJSON=function(){return this.getConfiguration()},S.prototype.getVersion=function(){return E},S.prototype.teardown=p(function(){return delete R[this.getConfiguration().authorization],v(this,y(S.prototype)),d.resolve()}),n.exports=S},{"../lib/add-metadata":91,"../lib/analytics":92,"../lib/assets":93,"../lib/assign":94,"../lib/braintree-error":97,"../lib/constants":102,"../lib/convert-methods-to-error":103,"../lib/convert-to-braintree-error":104,"../lib/deferred":108,"../lib/is-verified-domain":127,"../lib/methods":129,"../lib/once":130,"../lib/promise":132,"./constants":49,"./errors":50,"./get-configuration":51,"./request":63,"./request/graphql":61,"@braintree/wrap-promise":29}],49:[function(e,n,t){"use strict";n.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],50:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:l.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:l.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:l.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:l.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:l.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:l.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:l.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:l.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:l.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:l.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:l.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":97}],51:[function(e,n,t){(function(t){"use strict";var l=e("../lib/braintree-error"),i=e("../lib/promise"),o=e("@braintree/wrap-promise"),r=e("./request"),a=e("../lib/vendor/uuid"),s=e("../lib/constants"),u=e("../lib/create-authorization-data"),c=e("./errors"),d=e("./request/graphql"),p=e("../lib/constants").GRAPHQL_URLS,_=e("../lib/is-date-string-before-or-on"),m=e("./constants").BRAINTREE_VERSION;n.exports={getConfiguration:o(function(e){return new i(function(n,i){var o,f,h,b,E=a(),g={merchantAppId:t.location.host,platform:s.PLATFORM,sdkVersion:s.VERSION,source:s.SOURCE,integration:s.INTEGRATION,integrationType:s.INTEGRATION,sessionId:E};try{o=u(e.authorization)}catch(y){return void i(new l(c.CLIENT_INVALID_AUTHORIZATION))}h=o.configUrl,(f=o.attrs)._meta=g,f.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,f.configVersion="3",b={url:h,method:"GET",data:f},f.authorizationFingerprint&&o.graphQL?(_(o.graphQL.date,m)&&(b.graphQL=new d({graphQL:{url:o.graphQL.url,features:["configuration"]}})),b.metadata=g):f.tokenizationKey&&(b.graphQL=new d({graphQL:{url:p[o.environment],features:["configuration"]}}),b.metadata=g),r(b,function(t,o,r){var a;t?i(new l({type:(a=403===r?c.CLIENT_AUTHORIZATION_INSUFFICIENT:c.CLIENT_GATEWAY_NETWORK).type,code:a.code,message:a.message,details:{originalError:t}})):n({authorization:e.authorization,authorizationType:f.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:f.authorizationFingerprint,analyticsMetadata:g,gatewayConfiguration:o})})})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":97,"../lib/constants":102,"../lib/create-authorization-data":106,"../lib/is-date-string-before-or-on":125,"../lib/promise":132,"../lib/vendor/uuid":136,"./constants":49,"./errors":50,"./request":63,"./request/graphql":61,"@braintree/wrap-promise":29}],52:[function(e,n,t){"use strict";var l=e("../lib/braintree-error"),i=e("./client"),o=e("../lib/promise"),r=e("@braintree/wrap-promise"),a=e("../lib/errors");n.exports={create:r(function(e){return e.authorization?i.initialize(e):o.reject(new l({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}),VERSION:"3.54.1"}},{"../lib/braintree-error":97,"../lib/errors":111,"../lib/promise":132,"./client":48,"@braintree/wrap-promise":29}],53:[function(e,n,t){"use strict";var l=e("../../lib/querystring"),i=e("../browser-detection"),o=e("../../lib/assign").assign,r=e("./prep-body"),a=e("./parse-body"),s=e("./xhr"),u=s.isAvailable,c=e("./graphql/request"),d=e("./default-request");n.exports={request:function(e,n){!function e(n,t,p){var _,m,f,h,b,E,g,y=n.url,v=n.graphQL,A=n.timeout,T=s.getRequestObject(),I=p,N=Boolean(v&&v.isGraphQLRequest(y,n.data));n.headers=o({"Content-Type":"application/json"},n.headers),y=(f=N?new c(n):new d(n)).getUrl(),h=f.getBody(),b=f.getMethod(),E=f.getHeaders(),"GET"===b&&(y=l.queryify(y,h),h=null),u?T.onreadystatechange=function(){if(4===T.readyState){if(0===T.status&&N)return delete n.graphQL,void e(n,t,p);if(g=a(T.responseText),m=f.adaptResponseBody(g),(_=f.determineStatus(T.status,g))>=400||_<200){if(N&&("UNKNOWN"===(o=!(l=g).data&&l.errors&&l.errors[0]&&l.errors[0].extensions&&l.errors[0].extensions.errorClass)||"INTERNAL"===o))return delete n.graphQL,void e(n,t,p);if(t<1&&function(e){return(!e||408===e)&&i.isIe()}(_))return void e(n,++t,p);I(m||"error",null,_||500)}else I(null,m,_);var l,o}}:(n.headers&&(y=l.queryify(y,E)),T.onload=function(){I(null,a(T.responseText),T.status)},T.onerror=function(){I("error",null,500)},T.onprogress=function(){},T.ontimeout=function(){I("timeout",null,-1)});try{T.open(b,y,!0)}catch(R){if(!N)throw R;return delete n.graphQL,void e(n,t,p)}T.timeout=A,u&&Object.keys(E).forEach(function(e){T.setRequestHeader(e,E[e])});try{T.send(r(b,h))}catch(S){}}(e,0,n)}}},{"../../lib/assign":94,"../../lib/querystring":133,"../browser-detection":47,"./default-request":54,"./graphql/request":62,"./parse-body":66,"./prep-body":67,"./xhr":68}],54:[function(e,n,t){"use strict";function l(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}l.prototype.getUrl=function(){return this._url},l.prototype.getBody=function(){return this._data},l.prototype.getMethod=function(){return this._method},l.prototype.getHeaders=function(){return this._headers},l.prototype.adaptResponseBody=function(e){return e},l.prototype.determineStatus=function(e){return e},n.exports=l},{}],55:[function(e,n,t){(function(e){"use strict";n.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(e,n,t){"use strict";var l=e("./error"),i=e("../../../../lib/assign").assign,o={AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},r={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},a={VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},s={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},u={VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"};function c(e,n){return e.reduce(function(e,t){return n.hasOwnProperty(t)?e.concat(n[t]):e},[])}n.exports=function(e,n){return e.data&&!e.errors?function(n,t){var l,d=e.data.clientConfiguration;return l={environment:d.environment.toLowerCase(),clientApiUrl:d.clientApiUrl,assetsUrl:d.assetsUrl,analytics:{url:d.analyticsUrl},merchantId:d.merchantId,venmo:"off"},d.supportedFeatures&&(l.graphQL={url:t._graphQL._config.url,features:d.supportedFeatures.map(function(e){return e.toLowerCase()})}),d.braintreeApi&&(l.braintreeApi=d.braintreeApi),d.applePayWeb&&(l.applePayWeb=d.applePayWeb,l.applePayWeb.supportedNetworks=c(d.applePayWeb.supportedCardBrands,r),delete l.applePayWeb.supportedCardBrands),d.ideal&&(l.ideal=d.ideal),d.kount&&(l.kount={kountMerchantId:d.kount.merchantId}),d.creditCard?(l.challenges=d.creditCard.challenges.map(function(e){return e.toLowerCase()}),l.creditCards={supportedCardTypes:c(d.creditCard.supportedCardBrands,o)},l.threeDSecureEnabled=d.creditCard.threeDSecureEnabled,l.threeDSecure=d.creditCard.threeDSecure):(l.challenges=[],l.creditCards={supportedCardTypes:[]},l.threeDSecureEnabled=!1),d.googlePay&&(l.androidPay={displayName:d.googlePay.displayName,enabled:!0,environment:d.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:d.googlePay.googleAuthorization,supportedNetworks:c(d.googlePay.supportedCardBrands,s)}),d.venmo&&(l.payWithVenmo={merchantId:d.venmo.merchantId,accessToken:d.venmo.accessToken,environment:d.venmo.environment.toLowerCase()}),d.paypal?(l.paypalEnabled=!0,l.paypal=i({},d.paypal),l.paypal.currencyIsoCode=l.paypal.currencyCode,l.paypal.environment=l.paypal.environment.toLowerCase(),delete l.paypal.currencyCode):l.paypalEnabled=!1,d.unionPay&&(l.unionPay={enabled:!0,merchantAccountId:d.unionPay.merchantAccountId}),d.visaCheckout&&(l.visaCheckout={apikey:d.visaCheckout.apiKey,externalClientId:d.visaCheckout.externalClientId,supportedCardTypes:c(d.visaCheckout.supportedCardBrands,a)}),d.masterpass&&(l.masterpass={merchantCheckoutId:d.masterpass.merchantCheckoutId,supportedNetworks:c(d.masterpass.supportedCardBrands,u)}),d.usBankAccount&&(l.usBankAccount={routeId:d.usBankAccount.routeId,plaid:{publicKey:d.usBankAccount.plaidPublicKey}}),l}(0,n):l(e)}},{"../../../../lib/assign":94,"./error":58}],57:[function(e,n,t){"use strict";var l=e("./error"),i={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},o={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},r={PSDTWO:"psd2"};n.exports=function(e){var n,t,a,s,u,c;return e.data&&!e.errors?(u=(s=(a=e.data.tokenizeCreditCard).creditCard).last4?s.last4.substr(2,4):"",(c=s.binData)&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(e){c[e]=c[e]?o[c[e]]:"Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(e){c[e]||(c[e]="Unknown")})),n={creditCards:[{binData:c,consumed:!1,description:u?"ending in "+u:"",nonce:a.token,details:{expirationMonth:s.expirationMonth,expirationYear:s.expirationYear,bin:s.bin||"",cardType:i[s.brandCode]||"Unknown",lastFour:s.last4||"",lastTwo:u},type:"CreditCard",threeDSecureInfo:null}]},a.authenticationInsight&&(n.creditCards[0].authenticationInsight={regulationEnvironment:r[t=a.authenticationInsight.customerAuthenticationRegulationEnvironment]||t.toLowerCase()}),n):l(e)}},{"./error":58}],58:[function(e,n,t){"use strict";n.exports=function(e){var n=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===n?function(e){var n,t,l=function(n){var t=[];return e.errors.forEach(function(e){e.extensions&&e.extensions.inputPath&&function e(n,t,l){var i,o=t.extensions.legacyCode,r=n[0];1!==n.length?(l.forEach(function(e){e.field===r&&(i=e)}),i||l.push(i={field:r,fieldErrors:[]}),e(n.slice(1),t,i.fieldErrors)):l.push({code:o,field:r,message:t.message})}(e.extensions.inputPath.slice(1),e,t)}),t}();return 0===l.length?{error:{message:e.errors[0].message}}:{error:{message:(n=l,t=n[0].field,{creditCard:"Credit card is invalid"}[t])},fieldErrors:l}}(e):n?function(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],59:[function(e,n,t){"use strict";n.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],60:[function(e,n,t){"use strict";var l=e("../../../../lib/assign").assign;function i(e,n){var t=e.creditCard,i=t&&t.billingAddress,o=t&&t.expirationDate,r=t&&(t.expirationMonth||o&&o.split("/")[0].trim()),a=t&&(t.expirationYear||o&&o.split("/")[1].trim()),s={input:{creditCard:{number:t&&t.number,expirationMonth:r,expirationYear:a,cvv:t&&t.cvv,cardholderName:t&&t.cardholderName},options:{}}};return n.hasAuthenticationInsight&&(s.authenticationInsightInput={merchantAccountId:e.merchantAccountId}),i&&(s.input.creditCard.billingAddress=i),s.input=function(e,n){var t;return e.creditCard&&e.creditCard.options&&"boolean"==typeof e.creditCard.options.validate?t=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?t=!0:e.tokenizationKey&&(t=!1),"boolean"==typeof t&&(n.options=l({validate:t},n.options)),n}(e,s.input),s}n.exports=function(e){var n,t,l,o={hasAuthenticationInsight:Boolean(e.authenticationInsight&&e.merchantAccountId)};return{query:(n=o,t=n.hasAuthenticationInsight,l="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",t&&(l+=", $authenticationInsightInput: AuthenticationInsightInput!"),l+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",t&&(l+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),l+="  } }"),variables:i(e,o),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":94}],61:[function(e,n,t){"use strict";var l=e("../../browser-detection"),i={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},o=["creditCard.options.unionPayEnrollment"];function r(e){this._config=e.graphQL}r.prototype.getGraphQLEndpoint=function(){return this._config.url},r.prototype.isGraphQLRequest=function(e,n){var t,r=this.getClientApiPath(e);return!(!this._isGraphQLEnabled()||!r||l.isIe9())&&(t=this._config.features.some(function(e){return i[e]===r}),!function(e){return o.some(function(n){return void 0!==n.split(".").reduce(function(e,n){return e&&e[n]},e)})}(n)&&t)},r.prototype.getClientApiPath=function(e){var n,t=e.split("/client_api/v1/");return t.length>1&&(n=t[1].split("?")[0]),n},r.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},n.exports=r},{"../../browser-detection":47}],62:[function(e,n,t){"use strict";var l=e("../../constants").BRAINTREE_VERSION,i=e("../../../lib/assign").assign,o=e("./generators/credit-card-tokenization"),r=e("./adapters/credit-card-tokenization"),a=e("./generators/configuration"),s=e("./adapters/configuration"),u={"payment_methods/credit_cards":o,configuration:a},c={"payment_methods/credit_cards":r,configuration:s};function d(e){var n=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._clientSdkMetadata={source:e.metadata.source,integration:e.metadata.integration,sessionId:e.metadata.sessionId},this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=u[n],this._adapter=c[n],this._sendAnalyticsEvent("graphql.init")}d.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},d.prototype.getBody=function(){var e=function e(n){var t={};return Object.keys(n).forEach(function(l){var i,o=-1===(i=l).indexOf("_")?i:i.toLowerCase().replace(/(\_\w)/g,function(e){return e[1].toUpperCase()});t[o]="object"==typeof n[l]?e(n[l]):"number"==typeof n[l]?String(n[l]):n[l]}),t}(this._data),n=this._generator(e),t=i({clientSdkMetadata:this._clientSdkMetadata},n);return JSON.stringify(t)},d.prototype.getMethod=function(){return"POST"},d.prototype.getHeaders=function(){var e;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),i({},this._headers,{Authorization:"Bearer "+e,"Braintree-Version":l})},d.prototype.adaptResponseBody=function(e){return this._adapter(e,this)},d.prototype.determineStatus=function(e,n){var t,l;return 200===e?(l=n.errors&&n.errors[0]&&n.errors[0].extensions&&n.errors[0].extensions.errorClass,t=n.data&&!n.errors?200:"VALIDATION"===l?422:"AUTHORIZATION"===l?403:"AUTHENTICATION"===l?401:function(e,n){return!e&&n.errors[0].message}(l,n)?403:500):t=e||500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+t),t},n.exports=d},{"../../../lib/assign":94,"../../constants":49,"./adapters/configuration":56,"./adapters/credit-card-tokenization":57,"./generators/configuration":59,"./generators/credit-card-tokenization":60}],63:[function(e,n,t){"use strict";var l,i=e("../../lib/once"),o=e("./jsonp-driver"),r=e("./ajax-driver"),a=e("./get-user-agent"),s=e("./is-http");n.exports=function(e,n){n=i(n||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},null==l&&(l=!(s()&&/MSIE\s(8|9)/.test(a()))),l?r.request(e,n):o.request(e,n)}},{"../../lib/once":130,"./ajax-driver":53,"./get-user-agent":55,"./is-http":64,"./jsonp-driver":65}],64:[function(e,n,t){(function(e){"use strict";n.exports=function(){return"http:"===e.location.protocol}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(e,n,t){(function(t){"use strict";var l,i=e("../../lib/vendor/uuid"),o=e("../../lib/querystring"),r={};function a(e){try{delete t[e]}catch(n){t[e]=null}}n.exports={request:function(e,n){var s,u="callback_json_"+i().replace(/-/g,""),c=e.url,d=e.method,p=e.timeout;c=o.queryify(c,e.data),function(e,n,l){t[l]=function(t){var i=t.status||500,o=null,s=null;delete t.status,i>=400||i<200?o=t:s=t,a(l),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(e),clearTimeout(r[l]),n(o,s,i)}}(s=function(e,n){var l=document.createElement("script"),i=!1;return l.src=e,l.async=!0,l.onerror=function(){t[n]({message:"error",status:500})},l.onload=l.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,l.onload=l.onreadystatechange=null)},l}(c=o.queryify(c,{_method:d,callback:u}),u),n,u),function(e,n){r[n]=setTimeout(function(){r[n]=null,t[n]({error:"timeout",status:-1}),t[n]=function(){a(n)}},e)}(p,u),l||(l=document.getElementsByTagName("head")[0]),l.appendChild(s)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":133,"../../lib/vendor/uuid":136}],66:[function(e,n,t){"use strict";n.exports=function(e){try{e=JSON.parse(e)}catch(n){}return e}},{}],67:[function(e,n,t){"use strict";n.exports=function(e,n){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=n&&(n="string"==typeof n?n:JSON.stringify(n)),n}},{}],68:[function(e,n,t){(function(e){"use strict";var t=e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest;n.exports={isAvailable:t,getRequestObject:function(){return t?new e.XMLHttpRequest:new e.XDomainRequest}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:l.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:l.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:l.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":97}],70:[function(e,n,t){"use strict";var l,i=e("../lib/constants").FRAUDNET_FNCLS,o=e("../lib/constants").FRAUDNET_SOURCE,r=e("../lib/constants").FRAUDNET_URL,a=e("../lib/assets").loadScript,s=e("../lib/promise");function u(){}function c(e){e&&e.parentNode&&e.parentNode.removeChild(e)}u.prototype.initialize=function(){var e=this;return this.sessionId=l=function(){var e,n="";for(e=0;e<32;e++)n+=Math.floor(16*Math.random()).toString(16);return n}(),this._beaconId="https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+this.sessionId+"&t="+(new Date).getTime()/1e3+"&a=14",this._parameterBlock=function(e,n){var t=document.body.appendChild(document.createElement("script"));return t.type="application/json",t.setAttribute("fncls",i),t.text=JSON.stringify({f:e,s:o,b:n}),t}(this.sessionId,this._beaconId),a({src:r}).then(function(n){return e._thirdPartyBlock=n,e}).catch(function(){return null})},u.prototype.teardown=function(){c(document.querySelector('iframe[title="ppfniframe"]')),c(document.querySelector('iframe[title="pbf"]')),c(this._parameterBlock),c(this._thirdPartyBlock)},n.exports={setup:function(){var e=new u;return l?(e.sessionId=l,s.resolve(e)):e.initialize()},clearSessionIdCache:function(){l=null}}},{"../lib/assets":93,"../lib/constants":102,"../lib/promise":132}],71:[function(e,n,t){"use strict";var l=e("./kount"),i=e("./fraudnet"),o=e("../lib/braintree-error"),r=e("../lib/basic-component-verification"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),u=e("../lib/methods"),c=e("../lib/convert-methods-to-error"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=e("./errors");n.exports={create:p(function(e){var n,t="Data Collector",m={},f=[];return r.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:t})}).then(function(t){var i,r=t.getConfiguration();if(!e.kount&&!e.paypal)return d.reject(new o(_.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS));if(!0===e.kount){if(!r.gatewayConfiguration.kount)return d.reject(new o(_.DATA_COLLECTOR_KOUNT_NOT_ENABLED));try{i=l.setup({environment:r.gatewayConfiguration.environment,merchantId:r.gatewayConfiguration.kount.kountMerchantId})}catch(a){return d.reject(new o({type:_.DATA_COLLECTOR_KOUNT_ERROR.type,code:_.DATA_COLLECTOR_KOUNT_ERROR.code,message:a.message}))}n=i.deviceData,f.push(i)}else n={};return d.resolve()}).then(function(){return!0!==e.paypal?d.resolve():i.setup().then(function(e){e&&(n.correlation_id=e.sessionId,f.push(e))})}).then(function(){return 0===f.length?d.reject(new o(_.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(m.deviceData=JSON.stringify(n),m.rawDeviceData=n,m.teardown=function(e,n){return p(function(){return new d(function(t){n.forEach(function(e){e&&e.teardown()}),c(e,u(e)),t()})})}(m,f),m)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/methods":129,"../lib/promise":132,"./errors":69,"./fraudnet":70,"./kount":72,"@braintree/wrap-promise":29}],72:[function(e,n,t){"use strict";var l=e("./vendor/sjcl"),i=e("../lib/camel-case-to-snake-case"),o="https://assets.qa.braintreepayments.com/data",r={development:o,qa:o,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},a={};function s(e){var n=s.getCachedDeviceData(e.merchantId);if(n)return this.deviceData=n,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(e),l.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),s.setCachedDeviceData(e.merchantId,this.deviceData),this._iframe=this._setupIFrame()}s.getCachedDeviceData=function(e){return a[e]},s.setCachedDeviceData=function(e,n){a[e]=n},s.prototype.teardown=function(){this._isCached||(l.random.stopCollectors(),this._removeIframe())},s.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},s.prototype._getDeviceData=function(){return i({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},s.prototype._generateDeviceSessionId=function(){var e;return e=l.random.randomWords(4,0),l.codec.hex.fromBits(e)},s.prototype._setupIFrame=function(){var e,n,t=this;return e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(n=document.createElement("iframe")).width=1,n.id="braintreeDataFrame-"+this._deviceSessionId,n.height=1,n.frameBorder=0,n.scrolling="no",n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),setTimeout(function(){n.src=t._currentEnvironment.url+"/logo.htm"+e,n.innerHTML='<img src="'+t._currentEnvironment.url+"/logo.gif"+e+'" />'},10),n},s.prototype._initializeEnvironment=function(e){var n=r[e.environment];if(null==n)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:n,name:e.environment,id:e.merchantId}},n.exports={setup:function(e){return new s(null!=e?e:{})},Kount:s,environmentUrls:r}},{"../lib/camel-case-to-snake-case":101,"./vendor/sjcl":73}],73:[function(e,n,t){"use strict";var l={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function i(e,n,t){if(4!==n.length)throw new l.exception.invalid("invalid aes block size");var i=e.b[t],o=n[0]^i[0],r=n[t?3:1]^i[1],a=n[2]^i[2];n=n[t?1:3]^i[3];var s,u,c,d,p=i.length/4-2,_=4,m=[0,0,0,0];e=(s=e.l[t])[0];var f=s[1],h=s[2],b=s[3],E=s[4];for(d=0;d<p;d++)s=e[o>>>24]^f[r>>16&255]^h[a>>8&255]^b[255&n]^i[_],u=e[r>>>24]^f[a>>16&255]^h[n>>8&255]^b[255&o]^i[_+1],c=e[a>>>24]^f[n>>16&255]^h[o>>8&255]^b[255&r]^i[_+2],n=e[n>>>24]^f[o>>16&255]^h[r>>8&255]^b[255&a]^i[_+3],_+=4,o=s,r=u,a=c;for(d=0;4>d;d++)m[t?3&-d:d]=E[o>>>24]<<24^E[r>>16&255]<<16^E[a>>8&255]<<8^E[255&n]^i[_++],s=o,o=r,r=a,a=n,n=s;return m}function o(e,n){var t,l,i,o=e.u,r=e.b,a=o[0],s=o[1],u=o[2],c=o[3],d=o[4],p=o[5],_=o[6],m=o[7];for(t=0;64>t;t++)l=(l=16>t?n[t]:n[15&t]=((l=n[t+1&15])>>>7^l>>>18^l>>>3^l<<25^l<<14)+((i=n[t+14&15])>>>17^i>>>19^i>>>10^i<<15^i<<13)+n[15&t]+n[t+9&15]|0)+m+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(_^d&(p^_))+r[t],m=_,_=p,p=d,d=c+l|0,c=u,u=s,a=l+((s=a)&u^c&(s^u))+(s>>>2^s>>>13^s>>>22^s<<30^s<<19^s<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+s|0,o[2]=o[2]+u|0,o[3]=o[3]+c|0,o[4]=o[4]+d|0,o[5]=o[5]+p|0,o[6]=o[6]+_|0,o[7]=o[7]+m|0}function r(e,n){var t,i=l.random.B[e],o=[];for(t in i)i.hasOwnProperty(t)&&o.push(i[t]);for(t=0;t<o.length;t++)o[t](n)}function a(e,n){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),n,"loadtime"):e.addEntropy((new Date).valueOf(),n,"loadtime")}function s(e){e.b=u(e).concat(u(e)),e.C=new l.cipher.aes(e.b)}function u(e){for(var n=0;4>n&&(e.g[n]=e.g[n]+1|0,!e.g[n]);n++);return e.C.encrypt(e.g)}function c(e,n){return function(){n.apply(e,arguments)}}l.cipher.aes=function(e){this.l[0][0][0]||this.G();var n,t,i,o,r=this.l[0][4],a=this.l[1],s=1;if(4!==(n=e.length)&&6!==n&&8!==n)throw new l.exception.invalid("invalid aes key size");for(this.b=[i=e.slice(0),o=[]],e=n;e<4*n+28;e++)t=i[e-1],(0==e%n||8===n&&4==e%n)&&(t=r[t>>>24]<<24^r[t>>16&255]<<16^r[t>>8&255]<<8^r[255&t],0==e%n&&(t=t<<8^t>>>24^s<<24,s=s<<1^283*(s>>7))),i[e]=i[e-n]^t;for(n=0;e;n++,e--)t=i[3&n?e:e-4],o[n]=4>=e||4>n?t:a[0][r[t>>>24]]^a[1][r[t>>16&255]]^a[2][r[t>>8&255]]^a[3][r[255&t]]},l.cipher.aes.prototype={encrypt:function(e){return i(this,e,0)},decrypt:function(e){return i(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,n,t,l,i,o,r,a=this.l[0],s=this.l[1],u=a[4],c=s[4],d=[],p=[];for(e=0;256>e;e++)p[(d[e]=e<<1^283*(e>>7))^e]=e;for(n=t=0;!u[n];n^=l||1,t=p[t]||1)for(u[n]=o=(o=t^t<<1^t<<2^t<<3^t<<4)>>8^255&o^99,c[o]=n,r=16843009*(i=d[e=d[l=d[n]]])^65537*e^257*l^16843008*n,i=257*d[o]^16843008*o,e=0;4>e;e++)a[e][n]=i=i<<24^i>>>8,s[e][o]=r=r<<24^r>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),s[e]=s[e].slice(0)}},l.bitArray={bitSlice:function(e,n,t){return e=l.bitArray.M(e.slice(n/32),32-(31&n)).slice(1),void 0===t?e:l.bitArray.clamp(e,t-n)},extract:function(e,n,t){var l=Math.floor(-n-t&31);return(-32&(n+t-1^n)?e[n/32|0]<<32-l^e[n/32+1|0]>>>l:e[n/32|0]>>>l)&(1<<t)-1},concat:function(e,n){if(0===e.length||0===n.length)return e.concat(n);var t=e[e.length-1],i=l.bitArray.getPartial(t);return 32===i?e.concat(n):l.bitArray.M(n,i,0|t,e.slice(0,e.length-1))},bitLength:function(e){var n=e.length;return 0===n?0:32*(n-1)+l.bitArray.getPartial(e[n-1])},clamp:function(e,n){if(32*e.length<n)return e;var t=(e=e.slice(0,Math.ceil(n/32))).length;return n&=31,0<t&&n&&(e[t-1]=l.bitArray.partial(n,e[t-1]&2147483648>>n-1,1)),e},partial:function(e,n,t){return 32===e?n:(t?0|n:n<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,n){if(l.bitArray.bitLength(e)!==l.bitArray.bitLength(n))return!1;var t,i=0;for(t=0;t<e.length;t++)i|=e[t]^n[t];return 0===i},M:function(e,n,t,i){var o;for(o=0,void 0===i&&(i=[]);32<=n;n-=32)i.push(t),t=0;if(0===n)return i.concat(e);for(o=0;o<e.length;o++)i.push(t|e[o]>>>n),t=e[o]<<32-n;return e=l.bitArray.getPartial(o=e.length?e[e.length-1]:0),i.push(l.bitArray.partial(n+e&31,32<n+e?t:i.pop(),1)),i},Y:function(e,n){return[e[0]^n[0],e[1]^n[1],e[2]^n[2],e[3]^n[3]]},byteswapM:function(e){var n,t;for(n=0;n<e.length;++n)e[n]=(t=e[n])>>>24|t>>>8&65280|(65280&t)<<8|t<<24;return e}},l.codec.utf8String={fromBits:function(e){var n,t,i="",o=l.bitArray.bitLength(e);for(n=0;n<o/8;n++)0==(3&n)&&(t=e[n/4]),i+=String.fromCharCode(t>>>8>>>8>>>8),t<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var n,t=[],i=0;for(n=0;n<e.length;n++)i=i<<8|e.charCodeAt(n),3==(3&n)&&(t.push(i),i=0);return 3&n&&t.push(l.bitArray.partial(8*(3&n),i)),t}},l.codec.hex={fromBits:function(e){var n,t="";for(n=0;n<e.length;n++)t+=(0xf00000000000+(0|e[n])).toString(16).substr(4);return t.substr(0,l.bitArray.bitLength(e)/4)},toBits:function(e){var n,t,i=[];for(t=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",n=0;n<e.length;n+=8)i.push(0^parseInt(e.substr(n,8),16));return l.bitArray.clamp(i,4*t)}},l.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},l.hash.sha256.hash=function(e){return(new l.hash.sha256).update(e).finalize()},l.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=l.codec.utf8String.toBits(e));var n,t=this.o=l.bitArray.concat(this.o,e);if(9007199254740991<(e=this.h=(n=this.h)+l.bitArray.bitLength(e)))throw new l.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var i=new Uint32Array(t),r=0;for(n=512+n-(512+n&511);n<=e;n+=512)o(this,i.subarray(16*r,16*(r+1))),r+=1;t.splice(0,16*r)}else for(n=512+n-(512+n&511);n<=e;n+=512)o(this,t.splice(0,16));return this},finalize:function(){var e,n,t=this.u;for(e=(n=l.bitArray.concat(n=this.o,[l.bitArray.partial(1,1)])).length+2;15&e;e++)n.push(0);for(n.push(Math.floor(this.h/4294967296)),n.push(0|this.h);n.length;)o(this,n.splice(0,16));return this.reset(),t},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var n,t,l=0,i=2;64>l;i++){for(t=!0,n=2;n*n<=i;n++)if(0==i%n){t=!1;break}t&&(8>l&&(this.K[l]=e(Math.pow(i,.5))),this.b[l]=e(Math.pow(i,1/3)),l++)}}},l.prng=function(e){this.c=[new l.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},l.prng.prototype={randomWords:function(e,n){var t,i,o=[];if((t=this.isReady(n))===this.m)throw new l.exception.notReady("generator isn't seeded");if(t&this.A){t=!(t&this.w);var r,a=0;for(this.L=(i=[])[0]=(new Date).valueOf()+this.P,r=0;16>r;r++)i.push(4294967296*Math.random()|0);for(r=0;r<this.c.length&&(i=i.concat(this.c[r].finalize()),a+=this.i[r],this.i[r]=0,t||!(this.H&1<<r));r++);for(this.H>=1<<this.c.length&&(this.c.push(new l.hash.sha256),this.i.push(0)),this.f-=a,a>this.j&&(this.j=a),this.H++,this.b=l.hash.sha256.hash(this.b.concat(i)),this.C=new l.cipher.aes(this.b),t=0;4>t&&(this.g[t]=this.g[t]+1|0,!this.g[t]);t++);}for(t=0;t<e;t+=4)0==(t+1)%this.O&&s(this),i=u(this),o.push(i[0],i[1],i[2],i[3]);return s(this),o.slice(0,e)},setDefaultParanoia:function(e,n){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==n)throw new l.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,n,t){t=t||"user";var i,o,a=(new Date).valueOf(),s=this.v[t],u=this.isReady(),c=0;switch(void 0===(i=this.J[t])&&(i=this.J[t]=this.T++),void 0===s&&(s=this.v[t]=0),this.v[t]=(this.v[t]+1)%this.c.length,typeof e){case"number":void 0===n&&(n=1),this.c[s].update([i,this.F++,1,n,a,1,0|e]);break;case"object":if("[object Uint32Array]"===(t=Object.prototype.toString.call(e))){for(o=[],t=0;t<e.length;t++)o.push(e[t]);e=o}else for("[object Array]"!==t&&(c=1),t=0;t<e.length&&!c;t++)"number"!=typeof e[t]&&(c=1);if(!c){if(void 0===n)for(t=n=0;t<e.length;t++)for(o=e[t];0<o;)n++,o>>>=1;this.c[s].update([i,this.F++,2,n,a,e.length].concat(e))}break;case"string":void 0===n&&(n=e.length),this.c[s].update([i,this.F++,3,n,a,e.length]),this.c[s].update(e);break;default:c=1}if(c)throw new l.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[s]+=n,this.f+=n,u===this.m&&(this.isReady()!==this.m&&r("seeded",Math.max(this.j,this.f)),r("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return this.j>=(e=this.I[e||this.D])?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:c(this,this.V),mouseCollector:c(this,this.W),keyboardCollector:c(this,this.U),accelerometerCollector:c(this,this.R),touchCollector:c(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new l.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,n){this.B[e][this.S++]=n},removeEventListener:function(e,n){var t,l,i=this.B[e],o=[];for(l in i)i.hasOwnProperty(l)&&i[l]===n&&o.push(l);for(t=0;t<o.length;t++)delete i[l=o[t]]},U:function(){a(this,1)},W:function(e){var n,t;try{n=e.x||e.clientX||e.offsetX||0,t=e.y||e.clientY||e.offsetY||0}catch(l){t=n=0}0!=n&&0!=t&&this.addEntropy([n,t],2,"mouse"),a(this,0)},X:function(e){this.addEntropy([(e=e.touches[0]||e.changedTouches[0]).pageX||e.clientX,e.pageY||e.clientY],1,"touch"),a(this,0)},V:function(){a(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var n=window.orientation;"number"==typeof n&&this.addEntropy(n,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),a(this,0)}},l.random=new l.prng(6);e:try{var d,p,_,m;if(m=void 0!==n&&n.exports){var f;try{f=e("crypto")}catch(h){f=null}m=p=f}if(m&&p.randomBytes)d=p.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),l.random.addEntropy(d,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(_=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(_);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(_)}l.random.addEntropy(_,1024,"crypto['getRandomValues']")}}catch(h){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(h))}void 0!==n&&n.exports&&(n.exports=l)},{crypto:void 0}],74:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:l.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:l.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:l.types.MERCHANT}}},{"../lib/braintree-error":97}],75:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/assign").assign,o=e("../lib/convert-methods-to-error"),r=e("../lib/find"),a=e("../lib/generate-google-pay-configuration"),s=e("../lib/braintree-error"),u=e("./errors"),c=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function m(e){this._client=e.client,this._googlePayVersion=e.googlePayVersion||1,this._googleMerchantId=e.googleMerchantId}m.prototype._initialize=function(){return this._isUnsupportedGooglePayAPIVersion()?d.reject(new s({code:u.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:u.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})):d.resolve(this)},m.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in _)},m.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=a(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},m.prototype._createV1PaymentDataRequest=function(e){var n=this._getDefaultConfig(),t=e.cardRequirements&&e.cardRequirements.allowedCardNetworks||n.cardRequirements.allowedCardNetworks;return(e=i({},n,e)).cardRequirements.allowedCardNetworks=t,e},m.prototype._createV2PaymentDataRequest=function(e){var n=this._getDefaultConfig();return e.allowedPaymentMethods&&e.allowedPaymentMethods.forEach(function(e){var t=r(n.allowedPaymentMethods,"type",e.type);t&&function(e,n){Object.keys(n).forEach(function(t){e[t]="object"==typeof n[t]?i({},n[t],e[t]):e[t]||n[t]})}(e,t)}),i({},n,e)},m.prototype.createPaymentDataRequest=function(e){var n=i({},e),t=this._googlePayVersion,o=_[t];return l.sendEvent(this._client,"google-payment.v"+t+".createPaymentDataRequest"),this[o](n)},m.prototype.parseResponse=function(e){var n=this._client;return d.resolve().then(function(){var t,i=JSON.parse(2===e.apiVersion?e.paymentMethodData.tokenizationData.token:e.paymentMethodToken.token),o=i.error;return o?d.reject(o):(l.sendEvent(n,"google-payment.parseResponse.succeeded"),i.paypalAccounts?(t=i.paypalAccounts[0],l.sendEvent(n,"google-payment.parseResponse.succeeded.paypal"),d.resolve({nonce:t.nonce,type:t.type,description:t.description})):(t=i.androidPayCards[0],l.sendEvent(n,"google-payment.parseResponse.succeeded.google-payment"),d.resolve({nonce:t.nonce,type:t.type,description:t.description,details:{cardType:t.details.cardType,lastFour:t.details.lastFour,lastTwo:t.details.lastTwo},binData:t.binData})))}).catch(function(e){return l.sendEvent(n,"google-payment.parseResponse.failed"),d.reject(new s({code:u.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:u.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:u.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:e}}))})},m.prototype.teardown=function(){return o(this,c(m.prototype)),d.resolve()},n.exports=p.wrapPrototype(m)},{"../lib/analytics":92,"../lib/assign":94,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/find":112,"../lib/generate-google-pay-configuration":124,"../lib/methods":129,"../lib/promise":132,"./errors":74,"@braintree/wrap-promise":29}],76:[function(e,n,t){"use strict";var l=e("../lib/basic-component-verification"),i=e("../lib/braintree-error"),o=e("./errors"),r=e("./google-payment"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),u=e("../lib/promise"),c=e("@braintree/wrap-promise");n.exports={create:c(function(e){return l.verify({name:"Google Pay",client:e.client,authorization:e.authorization}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Google Pay"})}).then(function(n){return e.client=n,e.client.getConfiguration().gatewayConfiguration.androidPay?new r(e)._initialize():u.reject(new i(o.GOOGLE_PAYMENT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":74,"./google-payment":75,"@braintree/wrap-promise":29}],77:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error"),i=e("../shared/errors"),o=e("../shared/constants").allowedAttributes;n.exports=function(e,n){var t;return o.hasOwnProperty(e)?null==n||function(e,n){return"string"===o[e]?"string"==typeof n||"number"==typeof n:"boolean"===o[e]&&("true"===String(n)||"false"===String(n))}(e,n)||(t=new l({type:i.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:i.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+n+'" is not allowed for "'+e+'" attribute.'})):t=new l({type:i.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:i.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+e+'" attribute is not supported in Hosted Fields.'}),t}},{"../../lib/braintree-error":97,"../shared/constants":85,"../shared/errors":86}],78:[function(e,n,t){"use strict";var l=e("../shared/constants"),i=e("../../lib/use-min");n.exports=function(e,n,t){return e+"/web/"+l.VERSION+"/html/hosted-fields-frame"+i(t)+".html#"+n}},{"../../lib/use-min":134,"../shared/constants":85}],79:[function(e,n,t){"use strict";var l=e("../shared/constants").navigationDirections,i=e("../shared/browser-detection"),o=e("../shared/focus-intercept"),r=e("../shared/find-parent-tags"),a=["INPUT","SELECT","TEXTAREA"],s=["hidden","button","reset","submit","checkbox","radio","file"];function u(e){return i.hasSoftwareKeyboard()?a.indexOf(e.tagName)>-1&&s.indexOf(e.type)<0:"hidden"!==e.type}function c(e){var n,t;for(n=0;n<e.length;n++)if(u(t=e[n]))return t;return null}n.exports={removeExtraFocusElements:function(e,n){var t=Array.prototype.slice.call(e.elements);[c(t),c(t.reverse())].forEach(function(e){e&&o.matchFocusElement(e.getAttribute("id"))&&n(e.getAttribute("id"))})},createFocusChangeHandler:function(e){return function(n,t){var i,a,s,c,d=document.getElementById("bt-"+n+"-"+t);if(d)if(s=r(d,"form")[0],document.forms.length<1||!s)e.onRemoveFocusIntercepts();else{i=(s=[].slice.call(s.elements)).indexOf(d),c=function(e,n){switch(e){case l.BACK:return{checkIndexBounds:function(e){return e<0},indexChange:-1};case l.FORWARD:return{checkIndexBounds:function(e){return e>n-1},indexChange:1}}return{}}(t,s.length);do{if(c.checkIndexBounds(i+=c.indexChange))return;a=s[i]}while(!u(a));o.matchFocusElement(a.getAttribute("id"))?e.onTriggerInputFocus(a.getAttribute("data-braintree-type")):a.focus()}}}}},{"../shared/browser-detection":84,"../shared/constants":85,"../shared/find-parent-tags":87,"../shared/focus-intercept":88}],80:[function(e,n,t){(function(t){"use strict";var l=e("../shared/constants").allowedStyles;n.exports=function(e){var n,i=document.createElement("input"),o={};return"."===e[0]&&(e=e.substring(1)),i.className=e,i.style.display="none !important",i.style.position="fixed !important",i.style.left="-99999px !important",i.style.top="-99999px !important",t.document.body.appendChild(i),n=t.getComputedStyle(i),l.forEach(function(e){var t=n[e];t&&(o[e]=t)}),t.document.body.removeChild(i),o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/constants":85}],81:[function(e,n,t){(function(t){"use strict";var l=e("../../lib/assign").assign,i=e("../../lib/create-assets-url"),o=e("../../lib/destructor"),r=e("@braintree/class-list"),a=e("@braintree/iframer"),s=e("../../lib/bus"),u=e("../../lib/create-deferred-client"),c=e("../../lib/braintree-error"),d=e("./compose-url"),p=e("./get-styles-from-class"),_=e("../shared/constants"),m=e("../shared/errors"),f=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,h=e("../../lib/vendor/uuid"),b=e("../shared/find-parent-tags"),E=e("../shared/browser-detection"),g=_.events,y=e("@braintree/event-emitter"),v=e("./inject-frame"),A=e("../../lib/analytics"),T=_.allowedFields,I=e("../../lib/methods"),N=e("../../lib/convert-methods-to-error"),R=e("../../lib/errors"),S=e("../shared/get-card-types"),O=e("./attribute-validation-error"),C=e("../../lib/promise"),w=e("@braintree/wrap-promise"),P=e("./focus-change"),D=e("../shared/focus-intercept").destroy,L=5;function q(e){var n,b,T,O,w,x=this,k={},M={},F=[],U=h();if(this._merchantConfigurationOptions=l({},e),e.client?(T=(b=e.client.getConfiguration()).gatewayConfiguration.assetsUrl,O=b.isDebug):(T=i.create(e.authorization),O=Boolean(e.isDebug)),this._clientPromise=u.create({client:e.client,authorization:e.authorization,debug:O,assetsUrl:T,name:"Hosted Fields"}),w=d(T,U,O),!e.fields||0===Object.keys(e.fields).length)throw new c({type:R.INSTANTIATION_OPTION_REQUIRED.type,code:R.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});y.call(this),this._injectedNodes=[],this._destructor=new o,this._fields=k,this._state={fields:{},cards:S("")},this._bus=new s({channel:U,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown(function(){x._bus.teardown()}),A.sendEvent(this._clientPromise,e.client?"custom.hosted-fields.initialized":"custom.hosted-fields.initialized.deferred-client"),Object.keys(e.fields).forEach((function(n){var t,l,i,o;if(!_.allowedFields.hasOwnProperty(n))throw new c({type:m.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:m.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+n+'" is not a valid field.'});if("string"==typeof(l=(t=e.fields[n]).container||t.selector)&&(l=document.querySelector(l)),!l||1!==l.nodeType)throw new c({type:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:m.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:t.selector,fieldContainer:t.container,fieldKey:n}});if(l.querySelector('iframe[name^="braintree-"]'))throw new c({type:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:m.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:t.selector,fieldContainer:t.container,fieldKey:n}});if(t.maxlength&&"number"!=typeof t.maxlength)throw new c({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:n}});if(t.minlength&&"number"!=typeof t.minlength)throw new c({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:n}});i=a({type:n,name:"braintree-hosted-field-"+n,style:_.defaultIFrameStyle,title:"Secure Credit Card Frame - "+_.allowedFields[n].label}),this._injectedNodes.push.apply(this._injectedNodes,v(i,l,function(){x._bus.emit(g.TRIGGER_INPUT_FOCUS,n)})),this._setupLabelFocus(n,l),k[n]={frameElement:i,containerElement:l},o=new C(function(e){M[n]=e}),F.push(o),this._state.fields[n]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:l},setTimeout(function(){E.isIE()||E.isEdge()?(i.src="about:blank",setTimeout(function(){i.src=w},0)):i.src=w},0)}).bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach(function(e){var n=x._merchantConfigurationOptions.styles[e];"string"==typeof n&&(x._merchantConfigurationOptions.styles[e]=p(n))}),this._bus.on(g.REMOVE_FOCUS_INTERCEPTS,D),this._bus.on(g.TRIGGER_FOCUS_CHANGE,P.createFocusChangeHandler({onRemoveFocusIntercepts:function(e){x._bus.emit(g.REMOVE_FOCUS_INTERCEPTS,e)},onTriggerInputFocus:function(e){x._bus.emit(g.TRIGGER_INPUT_FOCUS,e)}})),this._bus.on(g.READY_FOR_CLIENT,function(e){x._clientPromise.then(function(n){e(n)})}),this._bus.on(g.CARD_FORM_ENTRY_HAS_BEGUN,function(){A.sendEvent(x._clientPromise,"hosted-fields.input.started")}),this._bus.on(g.BIN_AVAILABLE,function(e){x._emit("binAvailable",{bin:e})}),n=setTimeout(function(){A.sendEvent(x._clientPromise,"custom.hosted-fields.load.timed-out"),x._emit("timeout")},f),C.all(F).then(function(e){var t=e[0];clearTimeout(n),t(x._merchantConfigurationOptions),x._cleanUpFocusIntercepts(),x._emit("ready")}),this._bus.on(g.FRAME_READY,function(e,n){M[e.field](n)}),this._bus.on(g.INPUT_EVENT,function(e){return function(n){var t,l=n.merchantPayload,i=l.emittedBy,o=e[i].containerElement;Object.keys(l.fields).forEach(function(n){l.fields[n].container=e[n].containerElement}),t=l.fields[i],"blur"===n.type&&function(e){var n;E.isIos()&&document.activeElement===document.body&&((n=e.querySelector("input"))||((n=document.createElement("input")).type="button",n.style.height="0px",n.style.width="0px",n.style.opacity="0",n.style.padding="0",n.style.position="absolute",n.style.left="-200%",n.style.top="0px",e.insertBefore(n,e.firstChild)),n.focus(),n.blur())}(o),r.toggle(o,_.externalClasses.FOCUSED,t.isFocused),r.toggle(o,_.externalClasses.VALID,t.isValid),r.toggle(o,_.externalClasses.INVALID,!t.isPotentiallyValid),this._state={cards:l.cards,fields:l.fields},this._emit(n.type,l)}}(k).bind(this)),E.isIos()&&this._bus.on(g.TRIGGER_INPUT_FOCUS,function(e){var n=k[e].containerElement;setTimeout(function(){var e,l,i;e=n.getBoundingClientRect(),l=Math.floor(e.height/2),i=Math.floor(e.width/2),e.top<(t.innerHeight-l||document.documentElement.clientHeight-l)&&e.right>i&&e.bottom>l&&e.left<(t.innerWidth-i||document.documentElement.clientWidth-i)||n.scrollIntoView()},L)}),this._destructor.registerFunctionForTeardown(function(){var e,n,t;for(e=0;e<x._injectedNodes.length;e++)(t=(n=x._injectedNodes[e]).parentNode).removeChild(n),r.remove(t,_.externalClasses.FOCUSED,_.externalClasses.INVALID,_.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){D()}),this._destructor.registerFunctionForTeardown(function(){var e=I(q.prototype).concat(I(y.prototype));N(x,e)})}y.createChild(q),q.prototype._setupLabelFocus=function(e,n){var t,l,i=E.isIos(),o=this._bus;if(!i&&null!=n.id){for(t=(t=Array.prototype.slice.call(document.querySelectorAll('label[for="'+n.id+'"]'))).concat(b(n,"label")),l=0;l<t.length;l++)t[l].addEventListener("click",r,!1);this._destructor.registerFunctionForTeardown(function(){for(l=0;l<t.length;l++)t[l].removeEventListener("click",r,!1)})}function r(){o.emit(g.TRIGGER_INPUT_FOCUS,e)}},q.prototype._getAnyFieldContainer=function(){var e=this;return Object.keys(this._fields).reduce(function(n,t){return n||e._fields[t].containerElement},null)},q.prototype._cleanUpFocusIntercepts=function(){var e,n;document.forms.length<1?this._bus.emit(g.REMOVE_FOCUS_INTERCEPTS):(e=this._getAnyFieldContainer(),(n=b(e,"form")[0])?P.removeExtraFocusElements(n,(function(e){this._bus.emit(g.REMOVE_FOCUS_INTERCEPTS,e)}).bind(this)):this._bus.emit(g.REMOVE_FOCUS_INTERCEPTS))},q.prototype._attachInvalidFieldContainersToError=function(e){e.details&&e.details.invalidFieldKeys&&e.details.invalidFieldKeys.length>0&&(e.details.invalidFields={},e.details.invalidFieldKeys.forEach((function(n){e.details.invalidFields[n]=this._fields[n].containerElement}).bind(this)))},q.prototype.teardown=function(){var e=this;return new C(function(n,t){e._destructor.teardown(function(l){A.sendEvent(e._clientPromise,"custom.hosted-fields.teardown-completed"),l?t(l):n()})})},q.prototype.tokenize=function(e){var n=this;return e||(e={}),new C(function(t,l){n._bus.emit(g.TOKENIZATION_REQUEST,e,function(e){var i=e[0],o=e[1];i?(n._attachInvalidFieldContainersToError(i),l(new c(i))):t(o)})})},q.prototype.addClass=function(e,n){var t;return T.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(g.ADD_CLASS,e,n):t=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when adding a class.'}),t?C.reject(t):C.resolve()},q.prototype.removeClass=function(e,n){var t;return T.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(g.REMOVE_CLASS,e,n):t=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when removing a class.'}),t?C.reject(t):C.resolve()},q.prototype.setAttribute=function(e){var n,t;return T.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(n=O(e.attribute,e.value))?t=n:this._bus.emit(g.SET_ATTRIBUTE,e.field,e.attribute,e.value):t=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):t=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),t?C.reject(t):C.resolve()},q.prototype.setMonthOptions=function(e){var n,t=this,l=this._merchantConfigurationOptions.fields;return l.expirationMonth?l.expirationMonth.select||(n="Expiration month field must be a select element."):n="Expiration month field must exist to use setMonthOptions.",n?C.reject(new c({type:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:m.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:n})):new C(function(n){t._bus.emit(g.SET_MONTH_OPTIONS,e,n)})},q.prototype.setMessage=function(e){this._bus.emit(g.SET_MESSAGE,e.field,e.message)},q.prototype.removeAttribute=function(e){var n,t;return T.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(n=O(e.attribute))?t=n:this._bus.emit(g.REMOVE_ATTRIBUTE,e.field,e.attribute):t=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):t=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),t?C.reject(t):C.resolve()},q.prototype.setPlaceholder=function(e,n){return this.setAttribute({field:e,attribute:"placeholder",value:n})},q.prototype.clear=function(e){var n;return T.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(g.CLEAR_FIELD,e):n=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when clearing a field.'}),n?C.reject(n):C.resolve()},q.prototype.focus=function(e){var n;return T.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(g.TRIGGER_INPUT_FOCUS,e):n=new c({type:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:m.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new c({type:m.HOSTED_FIELDS_FIELD_INVALID.type,code:m.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when focusing a field.'}),n?C.reject(n):C.resolve()},q.prototype.getState=function(){return this._state},n.exports=w.wrapPrototype(q)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/assign":94,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/create-assets-url":105,"../../lib/create-deferred-client":107,"../../lib/destructor":109,"../../lib/errors":111,"../../lib/methods":129,"../../lib/promise":132,"../../lib/vendor/uuid":136,"../shared/browser-detection":84,"../shared/constants":85,"../shared/errors":86,"../shared/find-parent-tags":87,"../shared/focus-intercept":88,"../shared/get-card-types":89,"./attribute-validation-error":77,"./compose-url":78,"./focus-change":79,"./get-styles-from-class":80,"./inject-frame":82,"@braintree/class-list":20,"@braintree/event-emitter":21,"@braintree/iframer":22,"@braintree/wrap-promise":29}],82:[function(e,n,t){"use strict";var l=e("../shared/focus-intercept"),i=e("../shared/constants").navigationDirections;n.exports=function(e,n,t){var o=e.getAttribute("type"),r=document.createElement("div"),a=document.createDocumentFragment(),s=l.generate(o,i.BACK,t),u=l.generate(o,i.FORWARD,t);return r.style.clear="both",a.appendChild(s),a.appendChild(e),a.appendChild(u),a.appendChild(r),n.appendChild(a),[e,r]}},{"../shared/constants":85,"../shared/focus-intercept":88}],83:[function(e,n,t){"use strict";var l=e("./external/hosted-fields"),i=e("../lib/basic-component-verification"),o=e("./shared/errors"),r=e("restricted-input/supports-input-formatting"),a=e("@braintree/wrap-promise"),s=e("../lib/braintree-error"),u=e("../lib/promise");n.exports={supportsInputFormatting:r,create:a(function(e){return i.verify({name:"Hosted Fields",authorization:e.authorization,client:e.client}).then(function(){var n=new l(e);return new u(function(e,t){n.on("ready",function(){e(n)}),n.on("timeout",function(){t(new s(o.HOSTED_FIELDS_TIMEOUT))})})})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/promise":132,"./external/hosted-fields":81,"./shared/errors":86,"@braintree/wrap-promise":29,"restricted-input/supports-input-formatting":40}],84:[function(e,n,t){"use strict";var l=e("@braintree/browser-detection/is-android"),i=e("@braintree/browser-detection/is-chrome-os"),o=e("@braintree/browser-detection/is-ios");n.exports={isIE:e("@braintree/browser-detection/is-ie"),isEdge:e("@braintree/browser-detection/is-edge"),isIe9:e("@braintree/browser-detection/is-ie9"),isIe10:e("@braintree/browser-detection/is-ie10"),isAndroid:l,isChromeOS:i,isFirefox:e("@braintree/browser-detection/is-firefox"),isIos:o,isIosWebview:e("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:function(){return l()||i()||o()}}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-edge":6,"@braintree/browser-detection/is-firefox":7,"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie10":9,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-webview":14}],85:[function(e,n,t){"use strict";var l=e("../../lib/enumerate"),i=e("./errors"),o={VERSION:"3.54.1",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:i.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:i.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","opacity","outline","padding","text-shadow","transition"],allowedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};o.events=l(["ADD_CLASS","AUTOFILL_EXPIRATION_DATE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),n.exports=o},{"../../lib/enumerate":110,"./errors":86}],86:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={HOSTED_FIELDS_TIMEOUT:{type:l.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:l.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:l.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:l.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:l.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:l.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:l.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:l.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":97}],87:[function(e,n,t){"use strict";n.exports=function(e,n){for(var t=e.parentNode,l=[];null!=t;)null!=t.tagName&&t.tagName.toLowerCase()===n&&l.push(t),t=t.parentNode;return l}},{}],88:[function(e,n,t){"use strict";var l=e("./browser-detection"),i=e("@braintree/class-list"),o=e("./constants"),r=Object.keys(o.allowedFields),a=o.navigationDirections,s={generate:function(e,n,t){var o=document.createElement("input");return l.hasSoftwareKeyboard()||l.isFirefox()||l.isIE()?(o.setAttribute("aria-hidden","true"),o.setAttribute("autocomplete","off"),o.setAttribute("data-braintree-direction",n),o.setAttribute("data-braintree-type",e),o.setAttribute("id","bt-"+e+"-"+n),o.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),i.add(o,"focus-intercept"),o.addEventListener("focus",function(e){t(e),l.hasSoftwareKeyboard()||o.blur()}),o):document.createDocumentFragment()},destroy:function(e){var n;e?n=[document.getElementById(e)]:(n=document.querySelectorAll("[data-braintree-direction]"),n=[].slice.call(n)),n.forEach(function(e){e&&1===e.nodeType&&s.matchFocusElement(e.getAttribute("id"))&&e.parentNode.removeChild(e)})},matchFocusElement:function(e){var n,t,l;return!!e&&3===(n=e.split("-")).length&&(t="bt"===n[0],l=r.indexOf(n[1])>-1,Boolean(t&&l&&(n[2]===a.BACK||n[2]===a.FORWARD)))}};n.exports=s},{"./browser-detection":84,"./constants":85,"@braintree/class-list":20}],89:[function(e,n,t){"use strict";var l=e("credit-card-type");n.exports=function(e){var n=l(e);return n.forEach(function(e){"mastercard"===e.type&&(e.type="master-card")}),n}},{"credit-card-type":30}],90:[function(e,n,t){"use strict";var l=e("./american-express"),i=e("./apple-pay"),o=e("./client"),r=e("./data-collector"),a=e("./hosted-fields"),s=e("./local-payment"),u=e("./masterpass"),c=e("./payment-request"),d=e("./paypal"),p=e("./paypal-checkout"),_=e("./google-payment"),m=e("./three-d-secure"),f=e("./unionpay"),h=e("./us-bank-account"),b=e("./vault-manager"),E=e("./venmo"),g=e("./visa-checkout");n.exports={americanExpress:l,applePay:i,client:o,dataCollector:r,hostedFields:a,localPayment:s,masterpass:u,googlePayment:_,paymentRequest:c,paypal:d,paypalCheckout:p,threeDSecure:m,unionpay:f,usBankAccount:h,vaultManager:b,venmo:E,visaCheckout:g,VERSION:"3.54.1"}},{"./american-express":43,"./apple-pay":46,"./client":52,"./data-collector":71,"./google-payment":76,"./hosted-fields":83,"./local-payment":139,"./masterpass":142,"./payment-request":147,"./paypal":154,"./paypal-checkout":151,"./three-d-secure":165,"./unionpay":169,"./us-bank-account":175,"./vault-manager":178,"./venmo":180,"./visa-checkout":187}],91:[function(e,n,t){"use strict";var l=e("./create-authorization-data"),i=e("./json-clone"),o=e("./constants");n.exports=function(e,n){var t,r=n?i(n):{},a=l(e.authorization).attrs,s=i(e.analyticsMetadata);for(t in r.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION,r._meta)r._meta.hasOwnProperty(t)&&(s[t]=r._meta[t]);return r._meta=s,a.tokenizationKey?r.tokenizationKey=a.tokenizationKey:r.authorizationFingerprint=a.authorizationFingerprint,r}},{"./constants":102,"./create-authorization-data":106,"./json-clone":128}],92:[function(e,n,t){"use strict";var l=e("./promise"),i=e("./constants"),o=e("./add-metadata");n.exports={sendEvent:function(e,n,t){var r=Date.now();return l.resolve(e).then(function(e){var l=Date.now(),a=e.getConfiguration(),s=e._request,u=a.gatewayConfiguration.analytics.url,c={analytics:[{kind:i.ANALYTICS_PREFIX+n,isAsync:Math.floor(l/1e3)!==Math.floor(r/1e3),timestamp:r}]};s({url:u,method:"post",data:o(a,c),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},t)})}}},{"./add-metadata":91,"./constants":102,"./promise":132}],93:[function(e,n,t){"use strict";var l=e("@braintree/asset-loader/load-script");n.exports={loadScript:l}},{"@braintree/asset-loader/load-script":2}],94:[function(e,n,t){"use strict";var l="function"==typeof Object.assign?Object.assign:i;function i(e){var n,t,l;for(n=1;n<arguments.length;n++)for(l in t=arguments[n])t.hasOwnProperty(l)&&(e[l]=t[l]);return e}n.exports={assign:l,_assign:i}},{}],95:[function(e,n,t){"use strict";var l=e("./braintree-error"),i=e("./promise"),o=e("./errors");n.exports={verify:function(e){var n,t,r;return e?(r=e.name,t=e.authorization,null==(n=e.client)&&null==t?i.reject(new l({type:o.INSTANTIATION_OPTION_REQUIRED.type,code:o.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+r+"."})):t||"3.54.1"===n.getVersion()?i.resolve():i.reject(new l({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n.getVersion()+") and "+r+" (version 3.54.1) components must be from the same SDK version."}))):i.reject(new l({type:o.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:o.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":97,"./errors":111,"./promise":132}],96:[function(e,n,t){"use strict";var l=e("./once");function i(e,n){0===e.length?(e(),n(null)):e(n)}n.exports=function(e,n){var t,o=e.length,r=o,a=l(n);if(0!==o)for(t=0;t<o;t++)i(e[t],s);else a(null);function s(e){e?a(e):0==(r-=1)&&a(null)}}},{"./once":130}],97:[function(e,n,t){"use strict";var l=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}(i.prototype=Object.create(Error.prototype)).constructor=i,i.types=l(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},n.exports=i},{"./enumerate":110}],98:[function(e,n,t){"use strict";var l=e("../is-verified-domain");n.exports={checkOrigin:function(e,n){var t,i=document.createElement("a");return i.href=n,t="https:"===i.protocol?i.host.replace(/:443$/,""):"http:"===i.protocol?i.host.replace(/:80$/,""):i.host,i.protocol+"//"+t===e||(i.href=e,l(e))}}},{"../is-verified-domain":127}],99:[function(e,n,t){"use strict";var l=e("../enumerate");n.exports=l(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":110}],100:[function(e,n,t){"use strict";var l=e("framebus"),i=e("./events"),o=e("./check-origin").checkOrigin,r=e("../braintree-error");function a(e){if(this.channel=(e=e||{}).channel,!this.channel)throw new r({type:r.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}a.prototype.on=function(e,n){var t,i,r=n,a=this;this._isDestroyed||(this.merchantUrl&&(r=function(){o(this.origin,a.merchantUrl)&&n.apply(this,arguments)}),t=this._namespaceEvent(e),(i=Array.prototype.slice.call(arguments))[0]=t,i[1]=r,this._log("on",i),l.on.apply(l,i),this._listeners.push({eventName:e,handler:r,originalHandler:n}))},a.prototype.emit=function(e){var n;this._isDestroyed||((n=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",n),l.emit.apply(l,n))},a.prototype._offDirect=function(e){var n=Array.prototype.slice.call(arguments);this._isDestroyed||(n[0]=this._namespaceEvent(e),this._log("off",n),l.off.apply(l,n))},a.prototype.off=function(e,n){var t,l,i=n;if(!this._isDestroyed){if(this.merchantUrl)for(t=0;t<this._listeners.length;t++)(l=this._listeners[t]).originalHandler===n&&(i=l.handler);this._offDirect(e,i)}},a.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},a.prototype.teardown=function(){var e,n;for(n=0;n<this._listeners.length;n++)this._offDirect((e=this._listeners[n]).eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},a.prototype._log=function(e,n){this._isVerbose&&console.log(e,n)},a.events=i,n.exports=a},{"../braintree-error":97,"./check-origin":98,"./events":99,framebus:37}],101:[function(e,n,t){"use strict";n.exports=function(e){return Object.keys(e).reduce(function(n,t){return n[function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(t)]=e[t],n},{})}},{}],102:[function(e,n,t){"use strict";n.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.54.1",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.54.1"}},{}],103:[function(e,n,t){"use strict";var l=e("./braintree-error"),i=e("./errors");n.exports=function(e,n){n.forEach(function(n){e[n]=function(){throw new l({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:n+" cannot be called after teardown."})}})}},{"./braintree-error":97,"./errors":111}],104:[function(e,n,t){"use strict";var l=e("./braintree-error");n.exports=function(e,n){return e instanceof l?e:new l({type:n.type,code:n.code,message:n.message,details:{originalError:e}})}},{"./braintree-error":97}],105:[function(e,n,t){"use strict";var l=e("./constants").ASSETS_URLS;n.exports={create:function(e){return l.production}}},{"./constants":102}],106:[function(e,n,t){"use strict";var l=e("../lib/vendor/polyfill").atob,i=e("../lib/constants").CLIENT_API_URLS;n.exports=function(e){var n,t,o,r,a={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(r=(o=e.split("_"))[0],t={merchantId:o.slice(2).join("_"),environment:r},a.environment=t.environment,a.attrs.tokenizationKey=e,a.configUrl=i[t.environment]+"/merchants/"+t.merchantId+"/client_api/v1/configuration"):(n=JSON.parse(l(e)),a.environment=n.environment,a.attrs.authorizationFingerprint=n.authorizationFingerprint,a.configUrl=n.configUrl,a.graphQL=n.graphQL),a}},{"../lib/constants":102,"../lib/vendor/polyfill":135}],107:[function(e,n,t){(function(t){"use strict";var l=e("./braintree-error"),i=e("./promise"),o=e("./assets"),r=e("./errors");n.exports={create:function(e){var n=i.resolve();return e.client?i.resolve(e.client):(t.braintree&&t.braintree.client||(n=o.loadScript({src:e.assetsUrl+"/web/3.54.1/js/client.min.js"}).catch(function(e){return i.reject(new l({type:r.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:r.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:r.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))})),n.then(function(){return"3.54.1"!==t.braintree.client.VERSION?i.reject(new l({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.braintree.client.VERSION+") and "+e.name+" (version 3.54.1) components must be from the same SDK version."})):t.braintree.client.create({authorization:e.authorization,debug:e.debug})}))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":93,"./braintree-error":97,"./errors":111,"./promise":132}],108:[function(e,n,t){"use strict";n.exports=function(e){return function(){var n=arguments;setTimeout(function(){e.apply(null,n)},1)}}},{}],109:[function(e,n,t){"use strict";var l=e("./batch-execute-functions");function i(){this._teardownRegistry=[],this._isTearingDown=!1}i.prototype.registerFunctionForTeardown=function(e){"function"==typeof e&&this._teardownRegistry.push(e)},i.prototype.teardown=function(e){this._isTearingDown?e(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,l(this._teardownRegistry,(function(n){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof e&&e(n)}).bind(this)))},n.exports=i},{"./batch-execute-functions":96}],110:[function(e,n,t){"use strict";n.exports=function(e,n){return n=null==n?"":n,e.reduce(function(e,t){return e[t]=n+t,e},{})}},{}],111:[function(e,n,t){"use strict";var l=e("./braintree-error");n.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:l.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:l.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:l.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:l.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:l.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":97}],112:[function(e,n,t){"use strict";n.exports=function(e,n,t){var l;for(l=0;l<e.length;l++)if(e[l].hasOwnProperty(n)&&e[l][n]===t)return e[l];return null}},{}],113:[function(e,n,t){(function(t){"use strict";var l=e("./strategies/popup"),i=e("./strategies/popup-bridge"),o=e("./strategies/modal"),r=e("../../bus"),a=e("../shared/events"),s=e("../shared/errors"),u=e("../shared/constants"),c=e("../../vendor/uuid"),d=e("@braintree/iframer"),p=e("../../braintree-error"),_=e("../shared/browser-detection"),m=e("../../is-https"),f=e("./../../assign").assign,h=["name","dispatchFrameUrl","openFrameUrl"];function b(){}function E(e){!function(e){if(!e)throw new Error("Valid configuration is required");if(h.forEach(function(n){if(!e.hasOwnProperty(n))throw new Error("A valid frame "+n+" must be provided")}),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")}(e),this._serviceId=c().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl,height:e.height,width:e.width,top:e.top,left:e.left},this.state=e.state||{},this._bus=new r({channel:this._serviceId}),this._setBusEvents()}E.prototype.initialize=function(e){var n=(function(){e(),this._bus.off(a.DISPATCH_FRAME_READY,n)}).bind(this);this._bus.on(a.DISPATCH_FRAME_READY,n),this._writeDispatchFrame()},E.prototype._writeDispatchFrame=function(){var e=u.DISPATCH_FRAME_NAME+"_"+this._serviceId;this._dispatchFrame=d({"aria-hidden":!0,name:e,title:e,src:this._options.dispatchFrameUrl,class:u.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},E.prototype._setBusEvents=function(){this._bus.on(a.DISPATCH_FRAME_REPORT,(function(e,n){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._frame.close(),this._onCompleteCallback=null,n&&n()}).bind(this)),this._bus.on(r.events.CONFIGURATION_REQUEST,(function(e){e(this.state)}).bind(this))},E.prototype.open=function(e,n){var t;if(this._frame=this._getFrameForEnvironment(e=e||{}),this._frame.initialize(n),!(this._frame instanceof i)){if(f(this.state,e.state),this._onCompleteCallback=n,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(n&&(t=_.isIE()&&!m.isHTTPS()?new p(s.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new p(s.FRAME_SERVICE_FRAME_OPEN_FAILED),n(t)));this._pollForPopupClose()}},E.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&this._frame.redirect(e)},E.prototype.close=function(){this.isFrameClosed()||this._frame.close()},E.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},E.prototype.createHandler=function(e){return e=e||{},{close:(function(){e.beforeClose&&e.beforeClose(),this.close()}).bind(this),focus:(function(){e.beforeFocus&&e.beforeFocus(),this.focus()}).bind(this)}},E.prototype.createNoopHandler=function(){return{close:b,focus:b}},E.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},E.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},E.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},E.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval((function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new p(s.FRAME_SERVICE_FRAME_CLOSED)))}).bind(this),u.POPUP_POLL_INTERVAL),this._popupInterval},E.prototype._getFrameForEnvironment=function(e){var n=_.supportsPopups(),r=Boolean(t.popupBridge),a=f({},this._options,e);return r?new i(a):n?new l(a):new o(a)},n.exports=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../braintree-error":97,"../../bus":100,"../../is-https":126,"../../vendor/uuid":136,"../shared/browser-detection":120,"../shared/constants":121,"../shared/errors":122,"../shared/events":123,"./../../assign":94,"./strategies/modal":115,"./strategies/popup":118,"./strategies/popup-bridge":116,"@braintree/iframer":22}],114:[function(e,n,t){"use strict";var l=e("./frame-service");n.exports={create:function(e,n){var t=new l(e);t.initialize(function(){n(t)})}}},{"./frame-service":113}],115:[function(e,n,t){(function(t){"use strict";var l=e("@braintree/iframer"),i=e("../../../assign").assign,o=e("../../shared/browser-detection"),r={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function a(){}function s(e){this._closed=null,this._frame=null,this._options=e||{},this._container=this._options.container||document.body}s.prototype.initialize=a,s.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:i({},r),title:"Lightbox Frame"};o.isIos()?(o.isIosWKWebview()&&(this._lockScrolling(),e.style={}),this._el=document.createElement("div"),i(this._el.style,r,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=l(e),this._el.appendChild(this._frame)):this._el=this._frame=l(e),this._closed=!1,this._container.appendChild(this._el)},s.prototype.focus=a,s.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,o.isIosWKWebview()&&this._unlockScrolling()},s.prototype.isClosed=function(){return Boolean(this._closed)},s.prototype.redirect=function(e){this._frame.src=e},s.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,t.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},s.prototype._lockScrolling=function(){var e=document.documentElement;this._savedBodyProperties={left:(t.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(t.pageYOffset||e.scrollTop)-(e.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",t.scrollTo(0,0)},n.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../assign":94,"../../shared/browser-detection":120,"@braintree/iframer":22}],116:[function(e,n,t){(function(t){"use strict";var l=e("../../../braintree-error"),i=e("../../shared/errors");function o(){}function r(e){this._closed=null,this._options=e}r.prototype.initialize=function(e){var n=this;t.popupBridge.onComplete=function(t,o){var r=!o&&!t;n._closed=!0,t||r?e(new l(i.FRAME_SERVICE_FRAME_CLOSED)):e(null,o)}},r.prototype.open=function(e){var n;n=(e=e||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,t.popupBridge.open(n)},r.prototype.focus=o,r.prototype.close=o,r.prototype.isClosed=function(){return Boolean(this._closed)},r.prototype.redirect=function(e){this.open({openFrameUrl:e})},n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../braintree-error":97,"../../shared/errors":122}],117:[function(e,n,t){"use strict";var l=e("../../../shared/constants"),i=e("./position");function o(e,n,t){return void 0!==n?n:i[e](t)}n.exports=function(e){var n=e.height||l.DEFAULT_POPUP_HEIGHT,t=e.width||l.DEFAULT_POPUP_WIDTH,i=o("top",e.top,n),r=o("left",e.left,t);return[l.POPUP_BASE_OPTIONS,"height="+n,"width="+t,"top="+i,"left="+r].join(",")}},{"../../../shared/constants":121,"./position":119}],118:[function(e,n,t){(function(t){"use strict";var l=e("./compose-options");function i(e){this._frame=null,this._options=e||{},this.open()}i.prototype.initialize=function(){},i.prototype.open=function(){this._frame=t.open(this._options.openFrameUrl,this._options.name,l(this._options))},i.prototype.focus=function(){this._frame.focus()},i.prototype.close=function(){this._frame.close()},i.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},i.prototype.redirect=function(e){this._frame.location.href=e},n.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":117}],119:[function(e,n,t){(function(e){"use strict";function t(e,n,t){return(e-n)/2+t}n.exports={top:function(n){return t(e.outerHeight||document.documentElement.clientHeight,n,null==e.screenY?e.screenTop:e.screenY)},left:function(n){return t(e.outerWidth||document.documentElement.clientWidth,n,null==e.screenX?e.screenLeft:e.screenX)},center:t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],120:[function(e,n,t){"use strict";n.exports={isIos:e("@braintree/browser-detection/is-ios"),isIosWKWebview:e("@braintree/browser-detection/is-ios-wkwebview"),isIE:e("@braintree/browser-detection/is-ie"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-wkwebview":15,"@braintree/browser-detection/supports-popups":19}],121:[function(e,n,t){"use strict";n.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],122:[function(e,n,t){"use strict";var l=e("../../braintree-error");n.exports={FRAME_SERVICE_FRAME_CLOSED:{type:l.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:l.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:l.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":97}],123:[function(e,n,t){"use strict";var l=e("../../enumerate");n.exports=l(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":110}],124:[function(e,n,t){"use strict";var l="3.54.1",i=e("./assign").assign;function o(e,n){var t=e.analyticsMetadata,o={gateway:"braintree","braintree:merchantId":e.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":l,"braintree:metadata":JSON.stringify({source:t.source,integration:t.integration,sessionId:t.sessionId,version:l,platform:t.platform})};return i({},o,n)}n.exports=function(e,n,t){var l,i,r=e.gatewayConfiguration.androidPay,a="production"===e.gatewayConfiguration.environment?"PRODUCTION":"TEST";return 2===n?(l={apiVersion:2,apiVersionMinor:0,environment:a,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:r.supportedNetworks.map(function(e){return e.toUpperCase()})},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:authorizationFingerprint":r.googleAuthorizationFingerprint})}}]},t&&(l.merchantInfo={merchantId:t}),r.paypalClientId&&(i={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:r.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:paypalClientId":r.paypalClientId})}},l.allowedPaymentMethods.push(i))):(l={environment:a,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:authorizationFingerprint":r.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:r.supportedNetworks.map(function(e){return e.toUpperCase()})}},"TOKENIZATION_KEY"===e.authorizationType&&(l.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=e.authorization),t&&(l.merchantId=t),n&&(l.apiVersion=n)),l}},{"./assign":94}],125:[function(e,n,t){"use strict";function l(e){var n=e.split("-");return new Date(n[0],n[1],n[2])}n.exports=function(e,n){return l(e)<=l(n)}},{}],126:[function(e,n,t){(function(e){"use strict";n.exports={isHTTPS:function(n){return"https:"===(n||e.location.protocol)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,n,t){"use strict";var l,i={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};n.exports=function(e){var n;return e=e.toLowerCase(),!!/^https:/.test(e)&&((l=l||document.createElement("a")).href=e,n=l.hostname.split(".").slice(-2).join("."),i.hasOwnProperty(n))}},{}],128:[function(e,n,t){"use strict";n.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],129:[function(e,n,t){"use strict";n.exports=function(e){return Object.keys(e).filter(function(n){return"function"==typeof e[n]})}},{}],130:[function(e,n,t){arguments[4][27][0].apply(t,arguments)},{dup:27}],131:[function(e,n,t){"use strict";var l=e("./promise");n.exports=function(){var e,n,t=new l(function(t,l){e=t,n=l});return t.isFulfilled=!1,t.isResolved=!1,t.isRejected=!1,t.resolve=function(n){t.isFulfilled||(t.isFulfilled=!0,t.isResolved=!0,e(n))},t.reject=function(e){t.isFulfilled||(t.isFulfilled=!0,t.isRejected=!0,n(e))},t}},{"./promise":132}],132:[function(e,n,t){(function(t){"use strict";var l=t.Promise||e("promise-polyfill");n.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":38}],133:[function(e,n,t){(function(e){"use strict";function t(e,n){var l,i,o,r,a=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],l=n?(r=e)&&"object"==typeof r&&"number"==typeof r.length&&"[object Array]"===Object.prototype.toString.call(r)?n+"[]":n+"["+o+"]":o,a.push("object"==typeof i?t(i,l):encodeURIComponent(l)+"="+encodeURIComponent(i)));return a.join("&")}n.exports={parse:function(n){return/\?/.test(n=n||e.location.href)?n.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce(function(e,n){var t=n.split("="),l=decodeURIComponent(t[0]),i=decodeURIComponent(t[1]);return e[l]=i,e},{}):{}},stringify:t,queryify:function(e,n){return e=e||"",null!=n&&"object"==typeof n&&function(e){var n;for(n in e)if(e.hasOwnProperty(n))return!0;return!1}(n)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=t(n)),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(e,n,t){"use strict";n.exports=function(e){return e?"":".min"}},{}],135:[function(e,n,t){(function(e){"use strict";var t="function"==typeof e.atob?e.atob:l;function l(e){var n,t,l,i,o,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");r=0;do{l=a.indexOf(e.charAt(r++)),n=(15&(i=a.indexOf(e.charAt(r++))))<<4|(o=a.indexOf(e.charAt(r++)))>>2&15,t=(3&o)<<6|63&a.indexOf(e.charAt(r++)),s+=String.fromCharCode((63&l)<<2|i>>4&3)+(n?String.fromCharCode(n):"")+(t?String.fromCharCode(t):"")}while(r<e.length);return s}n.exports={atob:function(n){return t.call(e,n)},_atob:l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(e,n,t){"use strict";n.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})}},{}],137:[function(e,n,t){"use strict";n.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["onPaymentStart","paymentType","amount","fallback"]}},{}],138:[function(e,n,t){(function(t){"use strict";var l=e("../../lib/frame-service/external"),i=e("../../lib/braintree-error"),o=e("../../lib/use-min"),r="3.54.1",a=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,s=e("../../lib/analytics"),u=e("../../lib/methods"),c=e("../../lib/convert-methods-to-error"),d=e("../../lib/convert-to-braintree-error"),p=e("../../lib/promise"),_=e("../../lib/querystring"),m=e("@braintree/wrap-promise"),f=e("./constants"),h=e("../shared/errors");function b(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+r,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+o(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=e.merchantAccountId}b.prototype._initialize=function(){var e=this,n=this._client,t=setTimeout(function(){s.sendEvent(n,"local-payment.load.timed-out")},a);return new p(function(i){l.create({name:"localpaymentlandingpage",dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+o(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},function(l){e._frameService=l,clearTimeout(t),s.sendEvent(n,"local-payment.load.succeeded"),i(e)})})},b.prototype.startPayment=m(function(e){var n,t,l=this,r=this._frameService._serviceId;return function(e){var n;if(!e)return!0;for(n=0;n<f.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;n++)if(!e.hasOwnProperty(f.REQUIRED_OPTIONS_FOR_START_PAYMENT[n]))return!0;return!e.fallback.url||!e.fallback.buttonText}(e)?p.reject(new i(h.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION)):(n=e.address||{},t={intent:"sale",returnUrl:_.queryify(l._assetsUrl+"/html/local-payment-redirect-frame"+o(l._isDebug)+".html",{channel:r,r:e.fallback.url,t:e.fallback.buttonText}),cancelUrl:_.queryify(l._assetsUrl+"/html/local-payment-cancel-frame"+o(l._isDebug)+".html",{channel:r}),experienceProfile:{noShipping:!e.shippingAddressRequired},fundingSource:e.paymentType,amount:e.amount,currencyIsoCode:e.currencyCode,firstName:e.givenName,lastName:e.surname,payerEmail:e.email,phone:e.phone,line1:n.streetAddress,line2:n.extendedAddress,city:n.locality,state:n.region,postalCode:n.postalCode,countryCode:n.countryCode,merchantAccountId:l._merchantAccountId},l._paymentType=e.paymentType.toLowerCase(),l._authorizationInProgress?(s.sendEvent(l._client,l._paymentType+".local-payment.start-payment.error.already-opened"),p.reject(new i(h.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(l._authorizationInProgress=!0,new p(function(n,o){l._startPaymentCallback=l._createStartPaymentCallback(n,o),l._frameService.open({},l._startPaymentCallback),l._client.request({method:"post",endpoint:"local_payments/create",data:t}).then(function(n){s.sendEvent(l._client,l._paymentType+".local-payment.start-payment.opened"),l._startPaymentOptions=e,e.onPaymentStart({paymentId:n.paymentResource.paymentToken},function(){l._frameService.redirect(n.paymentResource.redirectUrl)})}).catch(function(e){var n=e.details&&e.details.httpStatus;l._frameService.close(),l._authorizationInProgress=!1,o(422!==n?d(e,{type:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:h.LOCAL_PAYMENT_START_PAYMENT_FAILED.message}):new i({type:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:h.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}))})})))}),b.prototype.tokenize=function(e){var n=this,l=this._client;return e=e||_.parse(),l.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e)}).then(function(e){var i=n._formatTokenizePayload(e);return s.sendEvent(l,t.popupBridge?n._paymentType+".local-payment.tokenization.success-popupbridge":n._paymentType+".local-payment.tokenization.success"),i}).catch(function(e){return s.sendEvent(l,n._paymentType+".local-payment.tokenization.failed"),p.reject(d(e,{type:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:h.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))})},b.prototype.closeWindow=function(){this._authoriztionInProgress&&s.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},b.prototype.focusWindow=function(){this._frameService.focus()},b.prototype._createStartPaymentCallback=function(e,n){var l=this,o=this._client;return function(r,a){l._authorizationInProgress=!1,r?"FRAME_SERVICE_FRAME_CLOSED"===r.code?(s.sendEvent(o,l._paymentType+".local-payment.tokenization.closed.by-user"),n(new i(h.LOCAL_PAYMENT_WINDOW_CLOSED))):r.code&&r.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&n(new i({code:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:h.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:r}})):a&&(t.popupBridge||l._frameService.redirect(l._loadingFrameUrl),l.tokenize(a).then(e).catch(n).then(function(){l._frameService.close()}))}},b.prototype._formatTokenizePayload=function(e){var n,t={};return e.paypalAccounts&&(t=e.paypalAccounts[0]),n={nonce:t.nonce,details:{},type:t.type},t.details&&(t.details.payerInfo&&(n.details=t.details.payerInfo),t.details.correlationId&&(n.correlationId=t.details.correlationId)),n},b.prototype.hasTokenizationParams=function(){var e=_.parse();return Boolean(e.btLpToken&&e.btLpPaymentId&&e.btLpPayerId)},b.prototype._formatTokenizeData=function(e){var n=this._client.getConfiguration();return{merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:e.btLpToken||e.token,paymentToken:e.btLpPaymentId||e.paymentId,payerId:e.btLpPayerId||e.PayerID,unilateral:n.gatewayConfiguration.paypal.unvettedMerchant,intent:"sale"}}},b.prototype.teardown=m(function(){return this._frameService.teardown(),c(this,u(b.prototype)),s.sendEvent(this._client,"local-payment.teardown-completed"),p.resolve()}),n.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/errors":140,"./constants":137,"@braintree/wrap-promise":29}],139:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("./external/local-payment"),s=e("../lib/promise"),u=e("@braintree/wrap-promise"),c=e("../lib/braintree-error"),d=e("./shared/errors");n.exports={create:u(function(e){var n="Local Payment";return i.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:n})}).then(function(n){var t=n.getConfiguration();return e.client=n,!0!==t.gatewayConfiguration.paypalEnabled?s.reject(new c(d.LOCAL_PAYMENT_NOT_ENABLED)):(l.sendEvent(n,"local-payment.initialized"),new a(e)._initialize())})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/local-payment":138,"./shared/errors":140,"@braintree/wrap-promise":29}],140:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:l.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:l.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:l.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:l.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:l.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:l.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:l.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:l.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":97}],141:[function(e,n,t){(function(t){"use strict";var l=e("../../lib/promise"),i=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),r=e("../shared/errors"),a="3.54.1",s=e("../../lib/methods"),u=e("@braintree/wrap-promise"),c=e("../../lib/analytics"),d=e("../../lib/convert-methods-to-error"),p=e("../../lib/convert-to-braintree-error"),_=e("../shared/constants"),m=e("../../lib/constants").INTEGRATION_TIMEOUT_MS;function f(e){var n=e.client.getConfiguration();this._client=e.client,this._assetsUrl=n.gatewayConfiguration.assetsUrl+"/web/"+a,this._isDebug=n.isDebug,this._authInProgress=!1,this._callbackUrl=t.popupBridge&&"function"==typeof t.popupBridge.getReturnUrlPrefix?t.popupBridge.getReturnUrlPrefix()+"return":this._assetsUrl+"/html/masterpass-redirect-frame"+(this._isDebug?"":".min")+".html"}f.prototype._initialize=function(){var e=this;return new l(function(n){var t=setTimeout(function(){c.sendEvent(e._client,"masterpass.load.timed-out")},m);i.create({name:_.LANDING_FRAME_NAME,height:_.POPUP_HEIGHT,width:_.POPUP_WIDTH,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+(e._isDebug?"":".min")+".html",openFrameUrl:e._assetsUrl+"/html/masterpass-landing-frame"+(e._isDebug?"":".min")+".html"},function(l){e._frameService=l,clearTimeout(t),c.sendEvent(e._client,"masterpass.load.succeeded"),n(e)})})},f.prototype.tokenize=function(e){var n=this;return!e||function(e){var n;for(n=0;n<_.REQUIRED_OPTIONS_FOR_TOKENIZE.length;n++)if(!e.hasOwnProperty(_.REQUIRED_OPTIONS_FOR_TOKENIZE[n]))return!0;return!1}(e)?l.reject(new o(r.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):n._authInProgress?l.reject(new o(r.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new l(function(t,l){n._navigateFrameToLoadingPage(e).catch(l),n._frameService.open(e.frameOptions,n._createFrameOpenHandler(t,l))})},f.prototype._navigateFrameToLoadingPage=function(e){var n=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:t.location.protocol+"//"+t.location.hostname,subtotal:e.subtotal,currencyCode:e.currencyCode,callbackUrl:this._callbackUrl}}}).then(function(t){var l,i=n._assetsUrl+"/html/masterpass-loading-frame"+(n._isDebug?"":".min")+".html?",o=n._client.getConfiguration().gatewayConfiguration,r=e.config||{};l={environment:o.environment,requestToken:t.requestToken,callbackUrl:n._callbackUrl,merchantCheckoutId:o.masterpass.merchantCheckoutId,allowedCardTypes:o.masterpass.supportedNetworks,version:_.MASTERPASS_VERSION},Object.keys(r).forEach(function(e){"function"!=typeof r[e]&&(l[e]=r[e])}),i+=Object.keys(l).map(function(e){return e+"="+l[e]}).join("&"),n._frameService.redirect(i)}).catch(function(e){var t=e.details&&e.details.httpStatus;return n._closeWindow(),l.reject(p(e,422===t?r.MASTERPASS_INVALID_PAYMENT_OPTION:r.MASTERPASS_FLOW_FAILED))})},f.prototype._createFrameOpenHandler=function(e,n){var l=this;return t.popupBridge?function(t,i){return l._authInProgress=!1,t?(c.sendEvent(l._client,"masterpass.tokenization.closed-popupbridge.by-user"),void n(p(t,r.MASTERPASS_POPUP_CLOSED))):i.queryItems?void l._tokenizeMasterpass(i.queryItems).then(e).catch(n):(c.sendEvent(l._client,"masterpass.tokenization.failed-popupbridge"),void n(new o(r.MASTERPASS_FLOW_FAILED)))}:function(t,i){if(t)return l._authInProgress=!1,"FRAME_SERVICE_FRAME_CLOSED"===t.code?(c.sendEvent(l._client,"masterpass.tokenization.closed.by-user"),void n(new o(r.MASTERPASS_POPUP_CLOSED))):t.code&&t.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(c.sendEvent(l._client,"masterpass.tokenization.failed.to-open"),void n(new o({code:r.MASTERPASS_POPUP_OPEN_FAILED.code,type:r.MASTERPASS_POPUP_OPEN_FAILED.type,message:r.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:t}}))):(c.sendEvent(l._client,"masterpass.tokenization.failed"),l._closeWindow(),void n(p(t,r.MASTERPASS_FLOW_FAILED)));l._tokenizeMasterpass(i).then(e).catch(n)}},f.prototype._tokenizeMasterpass=function(e){var n=this;return"success"!==e.mpstatus?(c.sendEvent(n._client,"masterpass.tokenization.closed.by-user"),n._closeWindow(),l.reject(new o(r.MASTERPASS_POPUP_CLOSED))):function(e){return[e.oauth_verifier,e.oauth_token,e.checkout_resource_url].some(function(e){return null==e||"null"===e})}(e)?(c.sendEvent(n._client,"masterpass.tokenization.closed.missing-payload"),n._closeWindow(),l.reject(new o(r.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):n._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:e.checkout_resource_url,requestToken:e.oauth_token,verifierToken:e.oauth_verifier}}}).then(function(e){return n._closeWindow(),c.sendEvent(n._client,t.popupBridge?"masterpass.tokenization.success-popupbridge":"masterpass.tokenization.success"),e.masterpassCards[0]}).catch(function(e){return n._closeWindow(),c.sendEvent(n._client,t.popupBridge?"masterpass.tokenization.failed-popupbridge":"masterpass.tokenization.failed"),l.reject(p(e,r.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))})},f.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},f.prototype.teardown=function(){var e=this;return new l(function(n){e._frameService.teardown(),d(e,s(f.prototype)),c.sendEvent(e._client,"masterpass.teardown-completed"),n()})},n.exports=u.wrapPrototype(f)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/promise":132,"../shared/constants":144,"../shared/errors":145,"@braintree/wrap-promise":29}],142:[function(e,n,t){(function(t){"use strict";var l=e("../lib/braintree-error"),i=e("../lib/basic-component-verification"),o=e("./shared/browser-detection"),r=e("./external/masterpass"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),u=e("./shared/errors"),c=e("../lib/promise"),d=e("@braintree/wrap-promise");function p(){return Boolean(t.popupBridge||o.supportsPopups())}n.exports={create:d(function(e){return i.verify({name:"Masterpass",client:e.client,authorization:e.authorization}).then(function(){return p()?c.resolve():c.reject(new l(u.MASTERPASS_BROWSER_NOT_SUPPORTED))}).then(function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"Masterpass"})}).then(function(n){return e.client=n,e.client.getConfiguration().gatewayConfiguration.masterpass?new r(e)._initialize():c.reject(new l(u.MASTERPASS_NOT_ENABLED))})}),isSupported:p,VERSION:"3.54.1"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/masterpass":141,"./shared/browser-detection":143,"./shared/errors":145,"@braintree/wrap-promise":29}],143:[function(e,n,t){"use strict";n.exports={supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":19}],144:[function(e,n,t){"use strict";n.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],145:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:l.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:l.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:l.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:l.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:l.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:l.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:l.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:l.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:l.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:l.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":97}],146:[function(e,n,t){(function(t){"use strict";var l=e("../../lib/analytics"),i=e("../../lib/assign").assign,o=e("../../lib/bus"),r=e("../../lib/convert-methods-to-error"),a=e("../../lib/generate-google-pay-configuration"),s=e("@braintree/iframer"),u=e("../../lib/vendor/uuid"),c=e("../../lib/use-min"),d=e("../../lib/methods"),p=e("../../lib/promise"),_=e("@braintree/event-emitter"),m=e("../../lib/braintree-error"),f=e("../shared/constants"),h=f.events,b=f.errors,E=e("@braintree/wrap-promise"),g={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"},y="18278000977346790994";function v(e){var n=e.enabledPaymentMethods||{};_.call(this),this._componentId=u(),this._client=e.client,this._enabledPaymentMethods={basicCard:!1!==n.basicCard,googlePay:!1!==n.googlePay},this._googlePayVersion=2===e.googlePayVersion?2:1,this._googleMerchantId=y,this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map((function(e){return this._supportedPaymentMethods[e]}).bind(this)),this._bus=new o({channel:this._componentId})}_.createChild(v),v.prototype._constructDefaultSupportedPaymentMethods=function(){var e=this._client.getConfiguration(),n=e.gatewayConfiguration.androidPay,t=e.gatewayConfiguration.creditCards,l={};return this._enabledPaymentMethods.basicCard&&t&&t.supportedCardTypes.length>0&&(l.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:t.supportedCardTypes.reduce(function(e,n){return n in g&&e.push(g[n]),e},[])}}),this._enabledPaymentMethods.googlePay&&n&&n.enabled&&(l.googlePay={supportedMethods:"https://google.com/pay",data:a(e,this._googlePayVersion,this._googleMerchantId)}),l},v.prototype.initialize=function(){var e=this._client.getConfiguration(),n=this;return this._frame=s({allowPaymentRequest:!0,name:"braintree-payment-request-frame",class:"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),0===this._defaultSupportedPaymentMethods.length?p.reject(new m(b.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new p(function(t){var i;n._bus.on(h.FRAME_READY,function(e){e(n._client)}),n._bus.on(h.FRAME_CAN_MAKE_REQUESTS,function(){l.sendEvent(n._client,"payment-request.initialized"),n._bus.on(h.SHIPPING_ADDRESS_CHANGE,function(e){var t={target:{shippingAddress:e},updateWith:function(e){n._bus.emit(h.UPDATE_SHIPPING_ADDRESS,e)}};n._emit("shippingAddressChange",t),n._emit("shippingaddresschange",t)}),n._bus.on(h.SHIPPING_OPTION_CHANGE,function(e){var t={target:{shippingOption:e},updateWith:function(e){n._bus.emit(h.UPDATE_SHIPPING_OPTION,e)}};n._emit("shippingOptionChange",t),n._emit("shippingoptionchange",t)}),t(n)}),n._frame.src=(i=n._componentId,e.gatewayConfiguration.assetsUrl+"/web/3.54.1/html/payment-request-frame"+c(e.isDebug)+".html#"+i),document.body.appendChild(n._frame)})},v.prototype.createSupportedPaymentMethodsConfiguration=function(e,n){var t;if(!e)throw new m(b.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[e])throw new m(b.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return(t=i({},this._supportedPaymentMethods[e])).data=i({},t.data,n),t},v.prototype.tokenize=function(e){var n=this;return new p(function(t,i){n._bus.emit(h.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:e.supportedPaymentMethods||n._defaultSupportedPaymentMethods,details:e.details,options:e.options},function(e){var o=e[0],r=e[1];o?i(n._formatTokenizationError(o)):(l.sendEvent(n._client,"payment-request.tokenize.succeeded"),t({nonce:r.nonce,type:r.type,description:r.description,details:{rawPaymentResponse:r.details.rawPaymentResponse,cardType:r.details.cardType,lastFour:r.details.lastFour,lastTwo:r.details.lastTwo},binData:r.binData}))})})},v.prototype.canMakePayment=function(e){var n,i=this;return t.PaymentRequest?e.supportedPaymentMethods&&(e.supportedPaymentMethods.forEach(function(e){var t=e.supportedMethods;t in f.SUPPORTED_METHODS||(n=t)}),n)?p.reject(new m({type:b.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:b.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:n+" is not a supported payment method."})):new p(function(n,t){i._bus.emit(h.CAN_MAKE_PAYMENT,{supportedPaymentMethods:e.supportedPaymentMethods||i._defaultSupportedPaymentMethods,details:e.details,options:e.options},function(e){var o=e[0],r=e[1];o?t(i._formatCanMakePaymentError(o)):(l.sendEvent(i._client,"payment-request.can-make-payment."+r),n(r))})}):(l.sendEvent(i._client,"payment-request.can-make-payment.not-available"),p.resolve(!1))},v.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),r(this,d(v.prototype)),l.sendEvent(this._client,"payment-request.teardown-completed"),p.resolve()},v.prototype._formatTokenizationError=function(e){var n;switch(e.name){case"AbortError":return n=new m({type:b.PAYMENT_REQUEST_CANCELED.type,code:b.PAYMENT_REQUEST_CANCELED.code,message:b.PAYMENT_REQUEST_CANCELED.message,details:{originalError:e}}),l.sendEvent(this._client,"payment-request.tokenize.canceled"),n;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":n=new m({type:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":n=new m({type:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":n=new m({type:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:e}});break;default:n=new m({code:b.PAYMENT_REQUEST_NOT_COMPLETED.code,type:e.type||m.types.CUSTOMER,message:b.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:e}})}return l.sendEvent(this._client,"payment-request.tokenize.failed"),n},v.prototype._formatCanMakePaymentError=function(e){var n;switch(e.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":n=new m({type:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"NotAllowedError":n=new m({type:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:e}});break;default:n=new m({code:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:e}})}return l.sendEvent(this._client,"payment-request.can-make-payment.failed"),n},n.exports=E.wrapPrototype(v)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/assign":94,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/convert-methods-to-error":103,"../../lib/generate-google-pay-configuration":124,"../../lib/methods":129,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"../shared/constants":148,"@braintree/event-emitter":21,"@braintree/iframer":22,"@braintree/wrap-promise":29}],147:[function(e,n,t){"use strict";var l=e("./external/payment-request"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("@braintree/wrap-promise");n.exports={create:a(function(e){var n="Payment Request";return i.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:n})}).then(function(n){return e.client=n,new l(e).initialize()})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./external/payment-request":146,"@braintree/wrap-promise":29}],148:[function(e,n,t){"use strict";var l=e("../../lib/enumerate"),i=e("./errors"),o={};o.events=l(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),o.errors=i,o.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},n.exports=o},{"../../lib/enumerate":110,"./errors":149}],149:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:l.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:l.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:l.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:l.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":97}],150:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={PAYPAL_NOT_ENABLED:{type:l.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:l.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:l.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:l.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:l.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:l.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":97}],151:[function(e,n,t){"use strict";var l=e("../lib/basic-component-verification"),i=e("@braintree/wrap-promise"),o=e("./paypal-checkout");n.exports={create:i(function(e){return l.verify({name:"PayPal Checkout",client:e.client,authorization:e.authorization}).then(function(){return new o(e)._initialize(e)})}),isSupported:function(){return!0},VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"./paypal-checkout":152,"@braintree/wrap-promise":29}],152:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/create-deferred-client"),o=e("../lib/create-assets-url"),r=e("../lib/promise"),a=e("@braintree/wrap-promise"),s=e("../lib/braintree-error"),u=e("../lib/convert-to-braintree-error"),c=e("./errors"),d=e("../paypal/shared/constants"),p=e("../lib/methods"),_=e("../lib/convert-methods-to-error");function m(e){this._merchantAccountId=e.merchantAccountId}m.prototype._initialize=function(e){return this._clientPromise=i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:o.create(e.authorization),name:"PayPal Checkout"}).then((function(e){return this._configuration=e.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new s(c.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new s(c.PAYPAL_NOT_ENABLED)),this._setupError?r.reject(this._setupError):(l.sendEvent(e,"paypal-checkout.initialized"),e)}).bind(this)),e.client?this._clientPromise.then((function(){return this}).bind(this)):r.resolve(this)},m.prototype.createPayment=function(e){var n,t=this;return e&&d.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(n="paypal_hermes/"+d.FLOW_ENDPOINTS[e.flow],l.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),!0===e.offerCredit&&l.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(l){return l.request({endpoint:n,method:"post",data:t._formatPaymentResourceData(e)})}).then(function(n){return"checkout"===e.flow?n.paymentResource.redirectUrl.match(/EC-\w+/)[0]:n.agreementSetup.tokenId}).catch(function(e){return r.reject(t._setupError?t._setupError:422===(e.details&&e.details.httpStatus)?new s({type:c.PAYPAL_INVALID_PAYMENT_OPTION.type,code:c.PAYPAL_INVALID_PAYMENT_OPTION.code,message:c.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}):u(e,{type:c.PAYPAL_FLOW_FAILED.type,code:c.PAYPAL_FLOW_FAILED.code,message:c.PAYPAL_FLOW_FAILED.message}))})):r.reject(new s(c.PAYPAL_FLOW_OPTION_REQUIRED))},m.prototype.tokenizePayment=function(e){var n,t=this,i={flow:e.billingToken?"vault":"checkout",intent:e.intent},o={ecToken:e.paymentToken,billingToken:e.billingToken,payerId:e.payerID,paymentId:e.paymentID};return l.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(e){return e.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:t._formatTokenizeData(i,o)})}).then(function(e){return n=t._formatTokenizePayload(e),l.sendEvent(t._clientPromise,"paypal-checkout.tokenization.success"),n.creditFinancingOffered&&l.sendEvent(t._clientPromise,"paypal-checkout.credit.accepted"),n}).catch(function(e){return t._setupError?r.reject(t._setupError):(l.sendEvent(t._clientPromise,"paypal-checkout.tokenization.failed"),r.reject(u(e,{type:c.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:c.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:c.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},m.prototype._formatPaymentResourceData=function(e){var n,t=e.intent,l={returnUrl:"https://www.paypal.com/checkoutnow/error",cancelUrl:"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===e.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:e.displayName||this._configuration.gatewayConfiguration.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if("checkout"===e.flow)for(n in l.amount=e.amount,l.currencyIsoCode=e.currency,t&&("capture"===t&&(t="sale"),l.intent=t),e.hasOwnProperty("lineItems")&&(l.lineItems=e.lineItems),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(n)&&(l[n]=e.shippingAddressOverride[n]);else l.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(l.description=e.billingAgreementDescription);return l},m.prototype._formatTokenizeData=function(e,n){var t=this._configuration,l=t.gatewayConfiguration,i={paypalAccount:{correlationId:n.billingToken||n.ecToken,options:{validate:"vault"===e.flow&&!("TOKENIZATION_KEY"===t.authorizationType)}}};return n.billingToken?i.paypalAccount.billingAgreementToken=n.billingToken:(i.paypalAccount.paymentToken=n.paymentId,i.paypalAccount.payerId=n.payerId,i.paypalAccount.unilateral=l.paypal.unvettedMerchant,e.intent&&(i.paypalAccount.intent=e.intent)),this._merchantAccountId&&(i.merchantAccountId=this._merchantAccountId),i},m.prototype._formatTokenizePayload=function(e){var n,t={};return e.paypalAccounts&&(t=e.paypalAccounts[0]),n={nonce:t.nonce,details:{},type:t.type},t.details&&t.details.payerInfo&&(n.details=t.details.payerInfo),t.details&&t.details.creditFinancingOffered&&(n.creditFinancingOffered=t.details.creditFinancingOffered),n},m.prototype.teardown=function(){return _(this,p(m.prototype)),r.resolve()},n.exports=a.wrapPrototype(m)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/convert-to-braintree-error":104,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/methods":129,"../lib/promise":132,"../paypal/shared/constants":155,"./errors":150,"@braintree/wrap-promise":29}],153:[function(e,n,t){(function(t){"use strict";var l=e("../../lib/frame-service/external"),i=e("../../lib/braintree-error"),o=e("../../lib/convert-to-braintree-error"),r=e("../../lib/use-min"),a=e("../../lib/once"),s="3.54.1",u=e("../shared/constants"),c=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,d=e("../../lib/analytics"),p=e("../../lib/methods"),_=e("../../lib/deferred"),m=e("../shared/errors"),f=e("../../lib/convert-methods-to-error"),h=e("../../lib/querystring"),b=e("../../lib/promise"),E=e("@braintree/wrap-promise");function g(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+s,this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+r(this._isDebug)+".html",this._authorizationInProgress=!1}g.prototype._initialize=function(){var e=this,n=this._client,t=setTimeout(function(){d.sendEvent(n,"paypal.load.timed-out")},c);return new b(function(i){l.create({name:u.LANDING_FRAME_NAME,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+r(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},function(l){e._frameService=l,clearTimeout(t),d.sendEvent(n,"paypal.load.succeeded"),i(e)})})},g.prototype.tokenize=function(e,n){var l,o,r=this,s=this._client;return n&&(n=a(_(n))),e&&u.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(l=new b(function(n,l){r._authorizationInProgress?(d.sendEvent(s,"paypal.tokenization.error.already-opened"),l(new i(m.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(r._authorizationInProgress=!0,t.popupBridge||d.sendEvent(s,"paypal.tokenization.opened"),!0===e.offerCredit&&d.sendEvent(s,"paypal.credit.offered"),r._navigateFrameToAuth(e).catch(l),r._frameService.open({},r._createFrameServiceCallback(e,n,l)))}),n?(l.then(function(e){n(null,e)}).catch(n),this._frameService.createHandler({beforeClose:function(){d.sendEvent(s,"paypal.tokenization.closed.by-merchant")}})):l):(o=new i(m.PAYPAL_FLOW_OPTION_REQUIRED),n?(n(o),this._frameService.createNoopHandler()):b.reject(o))},g.prototype._createFrameServiceCallback=function(e,n,l){var o=this,r=this._client;return t.popupBridge?function(t,a){var s=a&&a.path&&"/cancel"===a.path.substring(0,7);o._authorizationInProgress=!1,t||s?(d.sendEvent(r,"paypal.tokenization.closed-popupbridge.by-user"),l(new i(m.PAYPAL_POPUP_CLOSED))):a&&o._tokenizePayPal(e,a.queryItems).then(n).catch(l)}:function(t,a){o._authorizationInProgress=!1,t?"FRAME_SERVICE_FRAME_CLOSED"===t.code?(d.sendEvent(r,"paypal.tokenization.closed.by-user"),l(new i(m.PAYPAL_POPUP_CLOSED))):t.code&&t.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&l(new i({code:m.PAYPAL_POPUP_OPEN_FAILED.code,type:m.PAYPAL_POPUP_OPEN_FAILED.type,message:m.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:t}})):a&&o._tokenizePayPal(e,a).then(n).catch(l)}},g.prototype._tokenizePayPal=function(e,n){var l=this,i=this._client;return t.popupBridge||this._frameService.redirect(this._loadingFrameUrl),i.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,n)}).then(function(e){var n=l._formatTokenizePayload(e);return d.sendEvent(i,t.popupBridge?"paypal.tokenization.success-popupbridge":"paypal.tokenization.success"),n.creditFinancingOffered&&d.sendEvent(i,"paypal.credit.accepted"),l._frameService.close(),n}).catch(function(e){return d.sendEvent(i,t.popupBridge?"paypal.tokenization.failed-popupbridge":"paypal.tokenization.failed"),l._frameService.close(),b.reject(o(e,{type:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:m.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))})},g.prototype._formatTokenizePayload=function(e){var n,t={};return e.paypalAccounts&&(t=e.paypalAccounts[0]),n={nonce:t.nonce,details:{},type:t.type},t.details&&t.details.payerInfo&&(n.details=t.details.payerInfo),t.details&&t.details.creditFinancingOffered&&(n.creditFinancingOffered=t.details.creditFinancingOffered),n},g.prototype._formatTokenizeData=function(e,n){var t=this._client.getConfiguration(),l=t.gatewayConfiguration,i={paypalAccount:{correlationId:n.ba_token||n.token,options:{validate:"vault"===e.flow&&!("TOKENIZATION_KEY"===t.authorizationType)}}};return n.ba_token?i.paypalAccount.billingAgreementToken=n.ba_token:(i.paypalAccount.paymentToken=n.paymentId,i.paypalAccount.payerId=n.PayerID,i.paypalAccount.unilateral=l.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(i.paypalAccount.intent=e.intent)),i},g.prototype._navigateFrameToAuth=function(e){var n=this,l=this._client;return l.request({endpoint:"paypal_hermes/"+u.FLOW_ENDPOINTS[e.flow],method:"post",data:this._formatPaymentResourceData(e)}).then(function(i){var o;o="checkout"===e.flow?i.paymentResource.redirectUrl:i.agreementSetup.approvalUrl,"commit"===e.useraction&&(o=h.queryify(o,{useraction:"commit"})),t.popupBridge&&d.sendEvent(l,"paypal.tokenization.opened-popupbridge"),n._frameService.redirect(o)}).catch(function(e){var t=e.details&&e.details.httpStatus;return n._frameService.close(),n._authorizationInProgress=!1,b.reject(422===t?new i({type:m.PAYPAL_INVALID_PAYMENT_OPTION.type,code:m.PAYPAL_INVALID_PAYMENT_OPTION.code,message:m.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}):o(e,{type:m.PAYPAL_FLOW_FAILED.type,code:m.PAYPAL_FLOW_FAILED.code,message:m.PAYPAL_FLOW_FAILED.message}))})},g.prototype._formatPaymentResourceData=function(e){var n,l=this._client.getConfiguration().gatewayConfiguration,i=this._frameService._serviceId,o={returnUrl:l.paypal.assetsUrl+"/web/"+s+"/html/paypal-redirect-frame"+r(this._isDebug)+".html?channel="+i,cancelUrl:l.paypal.assetsUrl+"/web/"+s+"/html/paypal-cancel-frame"+r(this._isDebug)+".html?channel="+i,offerPaypalCredit:!0===e.offerCredit,experienceProfile:{brandName:e.displayName||l.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if(t.popupBridge&&"function"==typeof t.popupBridge.getReturnUrlPrefix&&(o.returnUrl=t.popupBridge.getReturnUrlPrefix()+"return",o.cancelUrl=t.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===e.flow)for(n in o.amount=e.amount,o.currencyIsoCode=e.currency,e.hasOwnProperty("intent")&&(o.intent=e.intent),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(n)&&(o[n]=e.shippingAddressOverride[n]);else o.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(o.description=e.billingAgreementDescription);return o},g.prototype.closeWindow=function(){this._authorizationInProgress&&d.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},g.prototype.focusWindow=function(){this._frameService.focus()},g.prototype.teardown=E(function(){return this._frameService.teardown(),f(this,p(g.prototype)),d.sendEvent(this._client,"paypal.teardown-completed"),b.resolve()}),n.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/constants":102,"../../lib/convert-methods-to-error":103,"../../lib/convert-to-braintree-error":104,"../../lib/deferred":108,"../../lib/frame-service/external":114,"../../lib/methods":129,"../../lib/once":130,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/constants":155,"../shared/errors":156,"@braintree/wrap-promise":29}],154:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("../lib/braintree-error"),s=e("./shared/errors"),u=e("./external/paypal"),c=e("@braintree/wrap-promise"),d=e("../lib/promise");n.exports={create:c(function(e){return i.verify({name:"PayPal",client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:"PayPal"})}).then(function(n){var t=n.getConfiguration();return e.client=n,!0!==t.gatewayConfiguration.paypalEnabled?d.reject(new a(s.PAYPAL_NOT_ENABLED)):(l.sendEvent(e.client,"paypal.initialized"),new u(e)._initialize())})}),isSupported:function(){return!0},VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./external/paypal":153,"./shared/errors":156,"@braintree/wrap-promise":29}],155:[function(e,n,t){"use strict";n.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],156:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={PAYPAL_NOT_ENABLED:{type:l.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:l.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:l.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:l.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:l.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:l.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:l.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:l.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":97}],157:[function(e,n,t){"use strict";var l=e("../../../lib/assign").assign,i=e("../../../lib/analytics"),o=e("../../../lib/braintree-error"),r=e("../../../lib/promise"),a=e("../../../lib/promise-plus"),s=e("@braintree/event-emitter"),u=e("../../shared/errors"),c="3.54.1";function d(e){s.call(this),this._client=e.client,this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+c}s.createChild(d),d.prototype.setUpEventListeners=function(){throw new o(u.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype.verifyCard=function(e,n){var t,l,o=this;return(l=this._checkForVerifyCardError(e,n=n||{}))?r.reject(l):(this._verifyCardInProgress=!0,t=this._formatVerifyCardOptions(e),this._formatLookupData(t).then(function(e){return i.sendEvent(o._client,"three-d-secure.verification-flow.started"),o._performLookup(t.nonce,e)}).then(function(e){return i.sendEvent(o._client,"three-d-secure.verification-flow.3ds-version."+e.lookup.threeDSecureVersion),o._onLookupComplete(e,t)}).then(function(e){return o.initializeChallengeWithLookupResponse(e,t)}).then(function(e){return o._resetVerificationState(),i.sendEvent(o._client,"three-d-secure.verification-flow.completed"),e}).catch(function(e){return o._resetVerificationState(),i.sendEvent(o._client,"three-d-secure.verification-flow.failed"),r.reject(e)}))},d.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new o(u.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype._presentChallenge=function(){throw new o(u.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype.prepareLookup=function(){throw new o(u.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},d.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},d.prototype._performLookup=function(e,n){var t=this;return this._client.request({endpoint:"payment_methods/"+e+"/three_d_secure/lookup",method:"post",data:n}).catch(function(e){var n,l=e&&e.details&&e.details.httpStatus,a="three-d-secure.verification-flow.lookup-failed";return 404===l?(n=u.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,a+=".404"):422===l?(n=u.THREEDS_LOOKUP_VALIDATION_ERROR,a+=".422"):n=u.THREEDS_LOOKUP_ERROR,i.sendEvent(t._client,a),r.reject(new o({type:n.type,code:n.code,message:n.message,details:{originalError:e}}))})},d.prototype._checkForVerifyCardError=function(e,n){var t;return!0===this._verifyCardInProgress?new o(u.THREEDS_AUTHENTICATION_IN_PROGRESS):(e.nonce?e.amount||(t="an amount"):t="a nonce",t||(t=this._checkForFrameworkSpecificVerifyCardErrors(e,n)),t?new o({type:u.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:u.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+t+"."}):null)},d.prototype.initializeChallengeWithLookupResponse=function(e,n){var t=this;return n=n||{},this._lookupPaymentMethod=e.paymentMethod,t._verifyCardPromisePlus=t._verifyCardPromisePlus||a(),t._handleLookupResponse(e,n),t._verifyCardPromisePlus.then(function(e){return i.sendEvent(t._client,"three-d-secure.verification-flow.liability-shifted."+String(e.liabilityShifted)),i.sendEvent(t._client,"three-d-secure.verification-flow.liability-shift-possible."+String(e.liabilityShiftPossible)),e})},d.prototype._handleLookupResponse=function(e,n){var t,l=Boolean(e.lookup&&e.lookup.acsUrl);i.sendEvent(this._client,"three-d-secure.verification-flow.challenge-presented."+String(l)),l?this._presentChallenge(e,n):((t=this._formatAuthResponse(e.paymentMethod,e.threeDSecureInfo)).verificationDetails=e.threeDSecureInfo,this._verifyCardPromisePlus.resolve(t))},d.prototype._onLookupComplete=function(e){return this._lookupPaymentMethod=e.paymentMethod,this._verifyCardPromisePlus=a(),r.resolve(e)},d.prototype._formatAuthResponse=function(e,n){return{nonce:e.nonce,binData:e.binData,details:e.details,description:e.description&&e.description.replace(/\+/g," "),liabilityShifted:n&&n.liabilityShifted,liabilityShiftPossible:n&&n.liabilityShiftPossible,threeDSecureInfo:e.threeDSecureInfo}},d.prototype._formatVerifyCardOptions=function(e){return l({},e)},d.prototype._formatLookupData=function(e){return r.resolve({amount:e.amount})},d.prototype.cancelVerifyCard=function(){var e,n;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(e=l({},this._lookupPaymentMethod,{liabilityShiftPossible:(n=this._lookupPaymentMethod.threeDSecureInfo)&&n.liabilityShiftPossible,liabilityShifted:n&&n.liabilityShifted,verificationDetails:n&&n.verificationDetails}),r.resolve(e)):r.reject(new o(u.THREEDS_NO_VERIFICATION_PAYLOAD))},d.prototype.teardown=function(){return i.sendEvent(this._client,"three-d-secure.teardown-completed"),r.resolve()},n.exports=d},{"../../../lib/analytics":92,"../../../lib/assign":94,"../../../lib/braintree-error":97,"../../../lib/promise":132,"../../../lib/promise-plus":131,"../../shared/errors":167,"@braintree/event-emitter":21}],158:[function(e,n,t){"use strict";var l=e("./songbird");function i(e){l.call(this,e)}(i.prototype=Object.create(l.prototype,{constructor:l}))._createCardinalConfigurationOptions=function(e){var n=l.prototype._createCardinalConfigurationOptions.call(this,e);return n.payment={framework:"bootstrap3"},n},n.exports=i},{"./songbird":163}],159:[function(e,n,t){"use strict";var l=e("./songbird");function i(e){l.call(this,e)}i.prototype=Object.create(l.prototype,{constructor:l}),n.exports=i},{"./songbird":163}],160:[function(e,n,t){"use strict";var l=e("./legacy"),i=e("./cardinal-modal"),o=e("./bootstrap3-modal"),r=e("./inline-iframe");n.exports={legacy:l,"cardinal-modal":i,"bootstrap3-modal":o,"inline-iframe":r}},{"./bootstrap3-modal":158,"./cardinal-modal":159,"./inline-iframe":161,"./legacy":162}],161:[function(e,n,t){"use strict";var l=e("./songbird"),i=e("../../../lib/braintree-error"),o=e("../../shared/errors"),r=e("../../../lib/enumerate");function a(e){l.call(this,e)}a.prototype=Object.create(l.prototype,{constructor:l}),a.events=r(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),a.prototype.setUpEventListeners=function(e){l.prototype.setUpEventListeners.call(this,e),this.on(a.events.AUTHENTICATION_IFRAME_AVAILABLE,function(n,t){e("authentication-iframe-available",n,t)})},a.prototype._createCardinalConfigurationOptions=function(e){var n=l.prototype._createCardinalConfigurationOptions.call(this,e);return n.payment={framework:"inline"},n},a.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},a.prototype._onInlineSetup=function(e,n,t,l){var r,s;e&&n?"CCA"!==n.paymentType?s=!0:"suppress"!==n.data.mode&&"static"!==n.data.mode&&(s=!0):s=!0,s?l(new i(o.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT)):((r=document.createElement("div")).innerHTML=e,"suppress"===n.data.mode?(r.style.display="none",document.body.appendChild(r),t()):"static"===n.data.mode&&this._emit(a.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:r},function(){t()}))},n.exports=a},{"../../../lib/braintree-error":97,"../../../lib/enumerate":110,"../../shared/errors":167,"./songbird":163}],162:[function(e,n,t){(function(t){"use strict";var l=e("./base"),i=e("../../../lib/braintree-error"),o=e("@braintree/iframer"),r=e("../../../lib/deferred"),a=e("../../../lib/bus"),s=e("../../../lib/vendor/uuid"),u=e("../../shared/constants"),c=e("../../../lib/use-min"),d=e("../../shared/events");function p(e){l.call(this,e)}(p.prototype=Object.create(l.prototype,{constructor:p})).setUpEventListeners=function(){},p.prototype.teardown=function(){return this._bus&&this._bus.teardown(),this._bankIframe&&this._bankIframe.parentNode&&this._bankIframe.parentNode.removeChild(this._bankIframe),l.prototype.teardown.call(this)},p.prototype.transformV1CustomerBillingAddress=function(e){return e.billingAddress.line1=e.billingAddress.streetAddress,e.billingAddress.line2=e.billingAddress.extendedAddress,e.billingAddress.city=e.billingAddress.locality,e.billingAddress.state=e.billingAddress.region,e.billingAddress.countryCode=e.billingAddress.countryCodeAlpha2,delete e.billingAddress.streetAddress,delete e.billingAddress.extendedAddress,delete e.billingAddress.locality,delete e.billingAddress.region,delete e.billingAddress.countryCodeAlpha2,e},p.prototype._createIframe=function(e){var n,l=t.location.href,i=e.response;return l.indexOf("#")>-1&&(l=l.split("#")[0]),this._setupBusForIframe(l,i,e),n=this._assetsUrl+"/html/three-d-secure-bank-frame"+c(this._isDebug)+".html?showLoader="+e.showLoader,this._bankIframe=o({src:n,height:400,width:400,name:u.LANDING_FRAME_NAME+"_"+this._bus.channel,title:"3D Secure Authorization Frame"}),this._bankIframe},p.prototype._setupBusForIframe=function(e,n,l){var i;this._bus=new a({channel:s(),merchantUrl:t.location.href}),i=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(this._bus.channel)+"&",this._bus.on(a.events.CONFIGURATION_REQUEST,function(t){t({acsUrl:n.acsUrl,pareq:n.pareq,termUrl:n.termUrl+"&three_d_secure_version=3.54.1&authentication_complete_base_url="+encodeURIComponent(i),md:n.md,parentUrl:e})}),this._bus.on(d.AUTHENTICATION_COMPLETE,(function(e){this._handleAuthResponse(e,l)}).bind(this))},p.prototype._handleAuthResponse=function(e,n){var t=JSON.parse(e.auth_response);this._bus.teardown(),n.removeFrame(),r((function(){t.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(t.paymentMethod,t.threeDSecureInfo)):t.threeDSecureInfo&&t.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,t.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new i({type:i.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:t.error.message}))}).bind(this))()},p.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e){var n;return"function"!=typeof e.addFrame?n="an addFrame function":"function"!=typeof e.removeFrame&&(n="a removeFrame function"),n},p.prototype._formatVerifyCardOptions=function(e){var n=l.prototype._formatVerifyCardOptions.call(this,e);return n.addFrame=r(e.addFrame),n.removeFrame=r(e.removeFrame),n.showLoader=!1!==e.showLoader,n},p.prototype._formatLookupData=function(e){var n=this;return l.prototype._formatLookupData.call(this,e).then(function(t){return e.customer&&e.customer.billingAddress&&(t.customer=n.transformV1CustomerBillingAddress(e.customer)),t})},p.prototype._presentChallenge=function(e,n){n.addFrame(null,this._createIframe({showLoader:n.showLoader,response:e.lookup,removeFrame:n.removeFrame}))},n.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/braintree-error":97,"../../../lib/bus":100,"../../../lib/deferred":108,"../../../lib/use-min":134,"../../../lib/vendor/uuid":136,"../../shared/constants":166,"../../shared/events":168,"./base":157,"@braintree/iframer":22}],163:[function(e,n,t){(function(t){"use strict";var l=e("./base"),i=e("../../../lib/assign").assign,o=e("../../../lib/deferred"),r=e("../../../lib/braintree-error"),a=e("../../../lib/convert-to-braintree-error"),s=e("../../../lib/analytics"),u=e("../../../lib/assets"),c=e("../../shared/errors"),d=e("../../../lib/enumerate"),p=e("../../shared/constants"),_=e("../../../lib/promise"),m=e("../../../lib/promise-plus"),f=e("../../../lib/constants").INTEGRATION_TIMEOUT_MS,h=e("../../../lib/constants").PLATFORM,b="3.54.1";function E(e){l.call(this,e),this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:h+"/"+b},this._getDfReferenceIdPromisePlus=m(),this.setupSongbird({loggingEnabled:e.loggingEnabled}),this._cardinalEvents=[]}function g(e,n,t){n[t+"Line1"]=e.streetAddress,n[t+"Line2"]=e.extendedAddress,n[t+"Line3"]=e.line3,n[t+"City"]=e.locality,n[t+"State"]=e.region,n[t+"PostalCode"]=e.postalCode,n[t+"CountryCode"]=e.countryCodeAlpha2}E.prototype=Object.create(l.prototype,{constructor:E}),E.events=d(["ON_LOOKUP_COMPLETE"],"songbird-framework:"),E.prototype.setUpEventListeners=function(e){this.on(E.events.ON_LOOKUP_COMPLETE,function(n,t){e("lookup-complete",n,t)})},E.prototype.prepareLookup=function(e){var n=i({},e),t=this;return this.getDfReferenceId().then(function(e){n.dfReferenceId=e}).then(function(){return t._triggerCardinalBinProcess(e.bin)}).catch(function(){}).then(function(){return n.clientMetadata=t._clientMetadata,n.authorizationFingerprint=t._client.getConfiguration().authorizationFingerprint,n.braintreeLibraryVersion="braintree/web/"+b,n})},E.prototype.initializeChallengeWithLookupResponse=function(e,n){return this.setupSongbird().then((function(){return l.prototype.initializeChallengeWithLookupResponse.call(this,e,n)}).bind(this))},E.prototype._triggerCardinalBinProcess=function(e){var n=this,l=Date.now();return e?t.Cardinal.trigger("bin.process",e).then(function(e){n._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-l,n._clientMetadata.issuerDeviceDataCollectionResult=e&&e.Status}):_.resolve()},E.prototype.transformBillingAddress=function(e,n){return n&&(g(n,e,"billing"),e.billingPhoneNumber=n.phoneNumber,e.billingGivenName=n.givenName,e.billingSurname=n.surname),e},E.prototype.transformShippingAddress=function(e){var n=e.shippingAddress;return n&&(g(n,e,"shipping"),delete e.shippingAddress),e},E.prototype.setupSongbird=function(e){var n=this,l=Date.now();return this._songbirdPromise?this._songbirdPromise:(e=e||{},this._songbirdPromise=new _(function(i,o){n._loadCardinalScript(o,e).then(function(){return n._configureCardinalSdk({resolveSongbird:i,setupOptions:e,setupStartTime:l})}).catch(function(e){var l=a(e,{type:c.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:c.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:c.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});n._getDfReferenceIdPromisePlus.reject(l),t.clearTimeout(n._songbirdSetupTimeoutReference),s.sendEvent(n._client,"three-d-secure.cardinal-sdk.init.setup-failed"),o(l)})}),this._songbirdPromise)},E.prototype._configureCardinalSdk=function(e){var n=this._client.getConfiguration().gatewayConfiguration.threeDSecure.cardinalAuthenticationJWT,l=e.resolveSongbird,i=e.setupStartTime,o=this._createCardinalConfigurationOptions(e.setupOptions);this.setCardinalListener("payments.setupComplete",this._createPaymentsSetupCompleteCallback(l)),this._setupFrameworkSpecificListeners(),t.Cardinal.configure(o),t.Cardinal.setup("init",{jwt:n}),this._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-i,this.setCardinalListener("payments.validated",this._createPaymentsValidatedCallback())},E.prototype.setCardinalListener=function(e,n){this._cardinalEvents.push(e),t.Cardinal.on(e,n)},E.prototype._setupFrameworkSpecificListeners=function(){},E.prototype._createCardinalConfigurationOptions=function(e){var n={};return e.loggingEnabled&&(n.logging={level:"verbose"}),n},E.prototype._loadCardinalScript=function(e,n){var l=this,i=p.CARDINAL_SCRIPT_SOURCE.sandbox,o="production"===this._client.getConfiguration().gatewayConfiguration.environment;return this._songbirdSetupTimeoutReference=t.setTimeout(function(){s.sendEvent(l._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),e(new r(c.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT))},n.timeout||f),o&&(i=p.CARDINAL_SCRIPT_SOURCE.production),u.loadScript({src:i}).catch(function(e){return _.reject(a(e,c.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},E.prototype._createPaymentsSetupCompleteCallback=function(e){var n=this;return function(l){n._getDfReferenceIdPromisePlus.resolve(l.sessionId),t.clearTimeout(n._songbirdSetupTimeoutReference),s.sendEvent(n._client,"three-d-secure.cardinal-sdk.init.setup-completed"),e()}},E.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},E.prototype._performJWTValidation=function(e){var n=this._lookupPaymentMethod.nonce,t="payment_methods/"+n+"/three_d_secure/authenticate_from_jwt",l=this;return s.sendEvent(l._client,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._client.request({method:"post",endpoint:t,data:{jwt:e,paymentMethodNonce:n}}).then(function(e){var n=l._formatAuthResponse(e.paymentMethod||l._lookupPaymentMethod,e.threeDSecureInfo);return s.sendEvent(l._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),_.resolve(n)}).catch(function(e){var n=new r({type:c.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:c.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:c.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:e}});return s.sendEvent(l._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),_.reject(n)})},E.prototype._createPaymentsValidatedCallback=function(){var e=this;return function(n,t){var l;switch(s.sendEvent(e._client,"three-d-secure.verification-flow.cardinal-sdk.action-code."+n.ActionCode.toLowerCase()),n.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":e._performJWTValidation(t).then(e._verifyCardPromisePlus.resolve).catch(e._verifyCardPromisePlus.reject);break;case"ERROR":switch(n.ErrorNumber){case 10001:case 10002:l=new r(c.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:l=new r(c.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:l=new r(c.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:l=new r(c.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:s.sendEvent(e._client,"three-d-secure.verification-flow.canceled"),l=new r(c.THREEDS_CARDINAL_SDK_CANCELED);break;default:l=new r(c.THREEDS_CARDINAL_SDK_ERROR)}l.details={originalError:{code:n.ErrorNumber,description:n.ErrorDescription}},e._verifyCardPromisePlus?e._verifyCardPromisePlus.reject(l):e._verifyCardBlockingError=l}}},E.prototype._checkForVerifyCardError=function(e,n){return this._verifyCardBlockingError?this._verifyCardBlockingError:l.prototype._checkForVerifyCardError.call(this,e,n)},E.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e,n){var t;return"function"==typeof e.onLookupComplete||n.ignoreOnLookupCompleteRequirement||(t="an onLookupComplete function"),t},E.prototype._formatVerifyCardOptions=function(e){var n=l.prototype._formatVerifyCardOptions.call(this,e),t=n.additionalInformation||{};return t=this.transformBillingAddress(t,e.billingAddress),t=this.transformShippingAddress(t),e.onLookupComplete&&(n.onLookupComplete=o(e.onLookupComplete)),e.email&&(t.email=e.email),e.mobilePhoneNumber&&(t.mobilePhoneNumber=e.mobilePhoneNumber),n.additionalInformation=t,n},E.prototype._onLookupComplete=function(e,n){var t=this;return l.prototype._onLookupComplete.call(this,e).then(function(e){return new _(function(l,i){function o(){l(e)}e.requiresUserAuthentication=Boolean(e.lookup&&e.lookup.acsUrl),t._verifyCardPromisePlus.catch(i),n.onLookupComplete?n.onLookupComplete(e,o):t._emit(E.events.ON_LOOKUP_COMPLETE,e,o)})})},E.prototype._presentChallenge=function(e){t.Cardinal.continue("cca",{AcsUrl:e.lookup.acsUrl,Payload:e.lookup.pareq},{OrderDetails:{TransactionId:e.lookup.transactionId}})},E.prototype._formatLookupData=function(e){var n=this;return l.prototype._formatLookupData.call(this,e).then(function(t){return t.additionalInfo=e.additionalInformation,e.challengeRequested&&(t.challengeRequested=e.challengeRequested),e.exemptionRequested&&(t.exemptionRequested=e.exemptionRequested),e.bin&&(t.bin=e.bin),n.prepareLookup(t)})},E.prototype.cancelVerifyCard=function(){var e=this;return l.prototype.cancelVerifyCard.call(this).then(function(n){return e._verifyCardPromisePlus&&e._verifyCardPromisePlus.reject(new r(c.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT)),n})},E.prototype.teardown=function(){return t.Cardinal&&this._cardinalEvents.forEach(function(e){t.Cardinal.off(e)}),l.prototype.teardown.call(this)},n.exports=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":92,"../../../lib/assets":93,"../../../lib/assign":94,"../../../lib/braintree-error":97,"../../../lib/constants":102,"../../../lib/convert-to-braintree-error":104,"../../../lib/deferred":108,"../../../lib/enumerate":110,"../../../lib/promise":132,"../../../lib/promise-plus":131,"../../shared/constants":166,"../../shared/errors":167,"./base":157}],164:[function(e,n,t){"use strict";var l=e("@braintree/wrap-promise"),i=e("../../lib/methods"),o=e("../../lib/convert-methods-to-error"),r=e("@braintree/event-emitter"),a=e("./frameworks");function s(e){var n=this,t=a[e.framework];r.call(this),this._framework=new t(e),this._framework.setUpEventListeners(function(){n._emit.apply(n,arguments)})}r.createChild(s),s.prototype.verifyCard=function(e){var n;return this.hasListener("lookup-complete")&&(n={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(e,n)},s.prototype.initializeChallengeWithLookupResponse=function(e){return"string"==typeof e&&(e=JSON.parse(e)),this._framework.initializeChallengeWithLookupResponse(e)},s.prototype.prepareLookup=function(e){return this._framework.prepareLookup(e).then(function(e){return JSON.stringify(e)})},s.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},s.prototype.teardown=function(){var e=i(s.prototype).concat(i(r.prototype));return o(this,e),this._framework.teardown()},n.exports=l.wrapPrototype(s)},{"../../lib/convert-methods-to-error":103,"../../lib/methods":129,"./frameworks":160,"@braintree/event-emitter":21,"@braintree/wrap-promise":29}],165:[function(e,n,t){"use strict";var l=e("./external/three-d-secure"),i=e("../lib/is-https").isHTTPS,o=e("../lib/basic-component-verification"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("../lib/braintree-error"),u=e("../lib/analytics"),c=e("./shared/errors"),d=e("../lib/promise"),p=e("@braintree/wrap-promise");n.exports={create:p(function(e){return o.verify({name:"3D Secure",client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"3D Secure"})}).then(function(n){var t,o=n.getConfiguration(),r=o.gatewayConfiguration,a=function(e){var n=String(e.version||"");if(!n||"1"===n)return"legacy";switch(n){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new s({code:c.THREEDS_UNRECOGNIZED_VERSION.code,type:c.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+e.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}(e);return e.client=n,r.threeDSecureEnabled||(t=c.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===o.authorizationType&&(t=c.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"===r.environment&&!i()&&(t=c.THREEDS_HTTPS_REQUIRED),"legacy"===a||r.threeDSecure&&r.threeDSecure.cardinalAuthenticationJWT||(u.sendEvent(e.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),t=c.THREEDS_NOT_ENABLED_FOR_V2),t?d.reject(new s(t)):(u.sendEvent(e.client,"three-d-secure.initialized"),new l({client:e.client,framework:a}))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/is-https":126,"../lib/promise":132,"./external/three-d-secure":164,"./shared/errors":167,"@braintree/wrap-promise":29}],166:[function(e,n,t){"use strict";n.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],167:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={THREEDS_NOT_ENABLED:{type:l.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:l.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:l.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:l.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:l.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:l.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:l.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:l.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:l.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:l.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:l.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:l.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:l.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:l.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:l.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:l.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:l.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:l.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:l.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:l.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:l.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:l.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:l.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:l.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."}}},{"../../lib/braintree-error":97}],168:[function(e,n,t){"use strict";var l=e("../../lib/enumerate");n.exports=l(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":110}],169:[function(e,n,t){"use strict";var l=e("./shared/unionpay"),i=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),r=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("../lib/analytics"),u=e("./shared/errors"),c=e("../lib/promise"),d=e("@braintree/wrap-promise");n.exports={create:d(function(e){return i.verify({name:"UnionPay",client:e.client,authorization:e.authorization}).then(function(){return r.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"UnionPay"})}).then(function(n){var t=n.getConfiguration();return e.client=n,t.gatewayConfiguration.unionPay&&!0===t.gatewayConfiguration.unionPay.enabled?(s.sendEvent(e.client,"unionpay.initialized"),new l(e)):c.reject(new o(u.UNIONPAY_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./shared/errors":171,"./shared/unionpay":172,"@braintree/wrap-promise":29}],170:[function(e,n,t){"use strict";var l=e("../../lib/enumerate");n.exports={events:l(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":110}],171:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={UNIONPAY_NOT_ENABLED:{type:l.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:l.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:l.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:l.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:l.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:l.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:l.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:l.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:l.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:l.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:l.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:l.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":97}],172:[function(e,n,t){"use strict";var l=e("../../lib/analytics"),i=e("../../lib/braintree-error"),o=e("../../lib/bus"),r=e("./constants"),a=e("../../lib/use-min"),s=e("../../lib/convert-methods-to-error"),u=e("./errors"),c=r.events,d=e("@braintree/iframer"),p=e("../../lib/methods"),_=e("../../lib/vendor/uuid"),m=e("../../lib/promise"),f=e("@braintree/wrap-promise");function h(e){this._options=e}h.prototype.fetchCapabilities=function(e){var n=this,t=this._options.client,o=e.card?e.card.number:null,r=e.hostedFields;return o&&r?m.reject(new i(u.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):o?t.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:o}}}).then(function(e){return l.sendEvent(t,"unionpay.capabilities-received"),e}).catch(function(e){var n=e.details&&e.details.httpStatus;return l.sendEvent(t,"unionpay.capabilities-failed"),m.reject(403===n?e:new i({type:u.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:u.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:u.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:e}}))}):r?r._bus?n._initializeHostedFields().then(function(){return new m(function(e,t){n._bus.emit(c.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:r},function(n){n.err?t(new i(n.err)):e(n.payload)})})}):m.reject(new i(u.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):m.reject(new i(u.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.enroll=function(e){var n,t=this,o=this._options.client,r=e.card,a=e.mobile,s=e.hostedFields;if(!a)return m.reject(new i(u.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(s)return s._bus?r?m.reject(new i(u.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):new m(function(e,n){t._initializeHostedFields().then(function(){t._bus.emit(c.HOSTED_FIELDS_ENROLL,{hostedFields:s,mobile:a},function(t){t.err?n(new i(t.err)):e(t.payload)})})}):m.reject(new i(u.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(r&&r.number){if(n={_meta:{source:"unionpay"},unionPayEnrollment:{number:r.number,mobileCountryCode:a.countryCode,mobileNumber:a.number}},r.expirationDate)n.unionPayEnrollment.expirationDate=r.expirationDate;else if(r.expirationMonth||r.expirationYear){if(!r.expirationMonth||!r.expirationYear)return m.reject(new i(u.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));n.unionPayEnrollment.expirationYear=r.expirationYear,n.unionPayEnrollment.expirationMonth=r.expirationMonth}return o.request({method:"post",endpoint:"union_pay_enrollments",data:n}).then(function(e){return l.sendEvent(o,"unionpay.enrollment-succeeded"),{enrollmentId:e.unionPayEnrollmentId,smsCodeRequired:e.smsCodeRequired}}).catch(function(e){var n,t=e.details&&e.details.httpStatus;return 403===t?n=e:t<500?(n=new i(u.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:e}:(n=new i(u.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:e},l.sendEvent(o,"unionpay.enrollment-failed"),m.reject(n)})}return m.reject(new i(u.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.tokenize=function(e){var n,t=this,o=this._options.client,r=e.card,a=e.hostedFields;return r&&a?m.reject(new i(u.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):r?(n={_meta:{source:"unionpay"},creditCard:{number:e.card.number,options:{unionPayEnrollment:{id:e.enrollmentId}}}},e.smsCode&&(n.creditCard.options.unionPayEnrollment.smsCode=e.smsCode),r.expirationDate?n.creditCard.expirationDate=r.expirationDate:r.expirationMonth&&r.expirationYear&&(n.creditCard.expirationYear=r.expirationYear,n.creditCard.expirationMonth=r.expirationMonth),e.card.cvv&&(n.creditCard.cvv=e.card.cvv),o.request({method:"post",endpoint:"payment_methods/credit_cards",data:n}).then(function(e){var n=e.creditCards[0];return delete n.consumed,delete n.threeDSecureInfo,l.sendEvent(o,"unionpay.nonce-received"),n}).catch(function(e){var n,t=e.details&&e.details.httpStatus;return l.sendEvent(o,"unionpay.nonce-failed"),403===t?n=e:t<500?(n=new i(u.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:e}:(n=new i(u.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},m.reject(n)})):a?a._bus?new m(function(n,l){t._initializeHostedFields().then(function(){t._bus.emit(c.HOSTED_FIELDS_TOKENIZE,e,function(e){e.err?l(new i(e.err)):n(e.payload)})})}):m.reject(new i(u.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):m.reject(new i(u.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},h.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),s(this,p(h.prototype)),m.resolve()},h.prototype._initializeHostedFields=function(){var e,n,t=_(),l=this;return this._hostedFieldsInitializePromise?this._hostedFieldsInitializePromise:(this._hostedFieldsInitializePromise=new m(function(i){e=l._options.client.getConfiguration().gatewayConfiguration.assetsUrl,n=l._options.client.getConfiguration().isDebug,l._bus=new o({channel:t,merchantUrl:location.href}),l._hostedFieldsFrame=d({name:r.HOSTED_FIELDS_FRAME_NAME+"_"+t,src:e+"/web/3.54.1/html/unionpay-hosted-fields-frame"+a(n)+".html",height:0,width:0}),l._bus.on(o.events.CONFIGURATION_REQUEST,function(e){e(l._options.client),i()}),document.body.appendChild(l._hostedFieldsFrame)}),this._hostedFieldsInitializePromise)},n.exports=f.wrapPrototype(h)},{"../../lib/analytics":92,"../../lib/braintree-error":97,"../../lib/bus":100,"../../lib/convert-methods-to-error":103,"../../lib/methods":129,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"./constants":170,"./errors":171,"@braintree/iframer":22,"@braintree/wrap-promise":29}],173:[function(e,n,t){"use strict";n.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],174:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:l.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:l.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:l.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:l.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:l.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:l.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:l.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:l.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:l.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":97}],175:[function(e,n,t){"use strict";var l=e("../lib/basic-component-verification"),i=e("../lib/braintree-error"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("./errors"),s=e("./us-bank-account"),u=e("../lib/promise"),c=e("@braintree/wrap-promise");n.exports={create:c(function(e){var n="US Bank Account";return l.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:n})}).then(function(n){return e.client=n,e.client.getConfiguration().gatewayConfiguration.usBankAccount?new s(e):u.reject(new i(a.US_BANK_ACCOUNT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":174,"./us-bank-account":176,"@braintree/wrap-promise":29}],176:[function(e,n,t){(function(t){"use strict";var l=e("../lib/braintree-error"),i=e("./constants"),o=e("./errors"),r=e("../lib/errors"),a=e("../lib/analytics"),s=e("../lib/once"),u=e("../lib/convert-methods-to-error"),c=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),_=v("UsBankAccount"),m=v("UsBankLogin");function f(e){this._client=e.client,this._isTokenizingBankLogin=!1,a.sendEvent(this._client,"usbankaccount.initialized")}function h(e){var n,t=e.details&&e.details.httpStatus;return(n=new l(401===t?r.BRAINTREE_API_ACCESS_RESTRICTED:t<500?o.US_BANK_ACCOUNT_FAILED_TOKENIZATION:o.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},n}function b(e,n){var t=e.data[n].paymentMethod;return{nonce:t.id,details:{},description:"US bank account ending in - "+t.details.last4,type:"us_bank_account"}}function E(e,n){function i(){var l=this.readyState;l&&"loaded"!==l&&"complete"!==l||(e.removeEventListener("error",r),e.removeEventListener("load",i),e.removeEventListener("readystatechange",i),n(null,t.Plaid))}function r(){e.parentNode.removeChild(e),n(new l(o.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}e.addEventListener("error",r),e.addEventListener("load",i),e.addEventListener("readystatechange",i)}function g(e){return{streetAddress:e.streetAddress,extendedAddress:e.extendedAddress,city:e.locality,state:e.region,zipCode:e.postalCode}}function y(e,n){"personal"===n.ownershipType?e.individualOwner={firstName:n.firstName,lastName:n.lastName}:"business"===n.ownershipType&&(e.businessOwner={businessName:n.businessName})}function v(e){return"mutation Tokenize"+e+"($input: Tokenize"+e+"Input!) {  tokenize"+e+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}f.prototype.tokenize=function(e){return(e=e||{}).mandateText?e.bankDetails&&e.bankLogin?d.reject(new l({type:o.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:o.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):e.bankDetails?this._tokenizeBankDetails(e):e.bankLogin?this._tokenizeBankLogin(e):d.reject(new l({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):d.reject(new l({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},f.prototype._tokenizeBankDetails=function(e){var n=this._client,t=e.bankDetails,l={achMandate:e.mandateText,routingNumber:t.routingNumber,accountNumber:t.accountNumber,accountType:t.accountType.toUpperCase(),billingAddress:g(t.billingAddress||{})};return y(l,t),n.request({api:"graphQLApi",data:{query:_,variables:{input:{usBankAccount:l}}}}).then(function(e){return a.sendEvent(n,"usbankaccount.bankdetails.tokenization.succeeded"),d.resolve(b(e,"tokenizeUsBankAccount"))}).catch(function(e){var t=h(e);return a.sendEvent(n,"usbankaccount.bankdetails.tokenization.failed"),d.reject(t)})},f.prototype._tokenizeBankLogin=function(e){var n=this,t=this._client,i=t.getConfiguration().gatewayConfiguration,r="production"===i.environment,s=i.usBankAccount.plaid;return e.bankLogin.displayName?s?this._isTokenizingBankLogin?d.reject(new l(o.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new d(function(i,u){n._loadPlaid(function(c,d){c?u(c):(d.create({clientName:e.bankLogin.displayName,apiVersion:"v2",env:r?"production":"sandbox",key:s.publicKey,product:"auth",selectAccount:!0,onExit:function(){n._isTokenizingBankLogin=!1,a.sendEvent(t,"usbankaccount.banklogin.tokenization.closed.by-user"),u(new l(o.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(l,o){var s=e.bankLogin,c={publicToken:l,accountId:r?o.account_id:"plaid_account_id",accountType:o.account.subtype.toUpperCase(),achMandate:e.mandateText,billingAddress:g(s.billingAddress||{})};y(c,s),t.request({api:"graphQLApi",data:{query:m,variables:{input:{usBankLogin:c}}}}).then(function(e){n._isTokenizingBankLogin=!1,a.sendEvent(t,"usbankaccount.banklogin.tokenization.succeeded"),i(b(e,"tokenizeUsBankLogin"))}).catch(function(e){var l;n._isTokenizingBankLogin=!1,l=h(e),a.sendEvent(t,"usbankaccount.banklogin.tokenization.failed"),u(l)})}}).open(),a.sendEvent(t,"usbankaccount.banklogin.tokenization.started"))})})):d.reject(new l(o.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):d.reject(new l({type:o.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:o.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},f.prototype._loadPlaid=function(e){var n,l;e=s(e),t.Plaid?e(null,t.Plaid):(n=document.querySelector('script[src="'+i.PLAID_LINK_JS+'"]'))?E(n,e):((l=document.createElement("script")).src=i.PLAID_LINK_JS,l.async=!0,E(l,e),document.body.appendChild(l),this._plaidScript=l)},f.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),u(this,c(f.prototype)),d.resolve()},n.exports=p.wrapPrototype(f)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/errors":111,"../lib/methods":129,"../lib/once":130,"../lib/promise":132,"./constants":173,"./errors":174,"@braintree/wrap-promise":29}],177:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:l.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:l.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:l.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":97}],178:[function(e,n,t){"use strict";var l=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),o=e("../lib/create-assets-url"),r=e("./vault-manager"),a=e("@braintree/wrap-promise");n.exports={create:a(function(e){var n="Vault Manager";return l.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:o.create(e.authorization),name:n})}).then(function(n){return e.client=n,new r(e)})}),VERSION:"3.54.1"}},{"../lib/basic-component-verification":95,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"./vault-manager":179,"@braintree/wrap-promise":29}],179:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/braintree-error"),o=e("./errors"),r=e("../lib/convert-methods-to-error"),a=e("../lib/methods"),s=e("../lib/promise"),u=e("@braintree/wrap-promise");function c(e){this._client=e.client}function d(e){var n={nonce:e.nonce,default:e.default,details:e.details,hasSubscription:e.hasSubscription,type:e.type};return e.description&&(n.description=e.description),e.binData&&(n.binData=e.binData),n}c.prototype.fetchPaymentMethods=function(e){return this._client.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:!0===(e=e||{}).defaultFirst?1:0}}).then((function(e){return l.sendEvent(this._client,"vault-manager.fetch-payment-methods.succeeded"),e.paymentMethods.map(d)}).bind(this))},c.prototype.deletePaymentMethod=function(e){var n=this._client;return"CLIENT_TOKEN"===this._client.getConfiguration().authorizationType?this._client.request({api:"graphQLApi",data:{query:"mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}",variables:{input:{singleUseTokenId:e}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then(function(){l.sendEvent(n,"vault-manager.delete-payment-method.succeeded")}).catch(function(t){var r,a=t.details.originalError;return l.sendEvent(n,"vault-manager.delete-payment-method.failed"),a[0]&&"NOT_FOUND"===a[0].extensions.errorClass&&(r=new i({type:o.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:o.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+e+"` could not be found.",details:{originalError:a}})),r||(r=new i({type:o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+e+"`.",details:{originalError:a}})),s.reject(r)}):s.reject(new i(o.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))},c.prototype.teardown=function(){return r(this,a(c.prototype)),s.resolve()},n.exports=u.wrapPrototype(c)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"./errors":177,"@braintree/wrap-promise":29}],180:[function(e,n,t){"use strict";var l=e("../lib/analytics"),i=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("./shared/errors"),s=e("@braintree/wrap-promise"),u=e("../lib/braintree-error"),c=e("./venmo"),d=e("../lib/promise"),p=e("./shared/supports-venmo");n.exports={create:s(function(e){return i.verify({name:"Venmo",client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:"Venmo"})}).then(function(n){var t,i=n.getConfiguration();return e.client=n,i.gatewayConfiguration.payWithVenmo?e.profileId&&"string"!=typeof e.profileId?d.reject(new u(a.VENMO_INVALID_PROFILE_ID)):e.deepLinkReturnUrl&&"string"!=typeof e.deepLinkReturnUrl?d.reject(new u(a.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(t=new c(e),l.sendEvent(e.client,"venmo.initialized"),t._initialize()):d.reject(new u(a.VENMO_NOT_ENABLED))})}),isBrowserSupported:function(e){return p.isBrowserSupported(e)},VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./shared/errors":183,"./shared/supports-venmo":184,"./venmo":185,"@braintree/wrap-promise":29}],181:[function(e,n,t){"use strict";var l=e("@braintree/browser-detection/is-android"),i=e("@braintree/browser-detection/is-chrome"),o=e("@braintree/browser-detection/is-ios"),r=e("@braintree/browser-detection/is-ios-safari"),a=e("@braintree/browser-detection/is-samsung"),s=e("@braintree/browser-detection/is-mobile-firefox");n.exports={isAndroid:l,isChrome:i,isIos:o,isIosSafari:r,isSamsungBrowser:a,isMobileFirefox:s}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-safari":13,"@braintree/browser-detection/is-mobile-firefox":17,"@braintree/browser-detection/is-samsung":18}],182:[function(e,n,t){"use strict";n.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,PROCESS_RESULTS_DELAY:1e3,VENMO_OPEN_URL:"https://venmo.com/braintree/checkout"}},{}],183:[function(e,n,t){"use strict";var l=e("../../lib/braintree-error");n.exports={VENMO_NOT_ENABLED:{type:l.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:l.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_APP_FAILED:{type:l.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:l.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:l.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_INVALID_PROFILE_ID:{type:l.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:l.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."}}},{"../../lib/braintree-error":97}],184:[function(e,n,t){"use strict";var l=e("./browser-detection");n.exports={isBrowserSupported:function(e){var n=l.isAndroid()&&l.isChrome(),t=l.isIos()&&l.isChrome(),i=l.isIosSafari()||n,o=t||l.isSamsungBrowser()||l.isMobileFirefox();return e=e||{allowNewBrowserTab:!0},i||e.allowNewBrowserTab&&o}}},{"./browser-detection":181}],185:[function(e,n,t){(function(t){"use strict";var l=e("../lib/analytics"),i=e("./shared/supports-venmo"),o=e("./shared/constants"),r=e("./shared/errors"),a=e("../lib/querystring"),s=e("../lib/methods"),u=e("../lib/convert-methods-to-error"),c=e("@braintree/wrap-promise"),d=e("../lib/braintree-error"),p=e("../lib/promise"),_="3.54.1";function m(e){var n;this._client=e.client,n=this._client.getConfiguration(),this._isDebug=n.isDebug,this._assetsUrl=n.gatewayConfiguration.assetsUrl+"/web/"+_,this._allowNewBrowserTab=!1!==e.allowNewBrowserTab,this._profileId=e.profileId,this._deepLinkReturnUrl=e.deepLinkReturnUrl}function f(){return t.location.hash.substring(1).split("&").reduce(function(e,n){var t=n.split("="),l=decodeURIComponent(t[0]).replace(/\W/g,""),i=decodeURIComponent(t[1]);return e[l]=i,e},{})}function h(){var e;return void 0!==t.document.hidden?e="visibilitychange":void 0!==t.document.msHidden?e="msvisibilitychange":void 0!==t.document.webkitHidden&&(e="webkitvisibilitychange"),e}m.prototype._initialize=function(){var e={},n=this._deepLinkReturnUrl||t.location.href.replace(t.location.hash,""),l=this._client.getConfiguration().gatewayConfiguration.payWithVenmo,i=this._client.getConfiguration().analyticsMetadata,r={_meta:{version:i.sdkVersion,integration:i.integration,platform:i.platform,sessionId:i.sessionId}};return e["x-success"]=n+"#venmoSuccess=1",e["x-cancel"]=n+"#venmoCancel=1",e["x-error"]=n+"#venmoError=1",e.ua=t.navigator.userAgent,e.braintree_merchant_id=this._profileId||l.merchantId,e.braintree_access_token=l.accessToken,e.braintree_environment=l.environment,e.braintree_sdk_data=btoa(JSON.stringify(r)),this._url=o.VENMO_OPEN_URL+"?"+a.stringify(e),p.resolve(this)},m.prototype.isBrowserSupported=function(){return i.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab})},m.prototype.hasTokenizationResult=function(){var e=f();return void 0!==(e.venmoSuccess||e.venmoError||e.venmoCancel)},m.prototype.tokenize=function(){var e=this;return!0===this._tokenizationInProgress?p.reject(new d(r.VENMO_TOKENIZATION_REQUEST_ACTIVE)):this.hasTokenizationResult()?this._processResults():new p(function(n,l){e._tokenizationInProgress=!0,e._previousHash=t.location.hash,e._deepLinkReturnUrl?t.location=e._url:t.open(e._url),e._visibilityChangeListener=function(){t.document.hidden||(e._tokenizationInProgress=!1,setTimeout(function(){e._processResults().then(n).catch(l).then(function(){t.location.hash=e._previousHash,e._removeVisibilityEventListener(),delete e._visibilityChangeListener})},o.PROCESS_RESULTS_DELAY))},setTimeout(function(){t.document.addEventListener(h(),e._visibilityChangeListener)},o.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY)})},m.prototype.teardown=function(){return this._removeVisibilityEventListener(),u(this,s(m.prototype)),p.resolve()},m.prototype._removeVisibilityEventListener=function(){t.document.removeEventListener(h(),this._visibilityChangeListener)},m.prototype._processResults=function(){var e=this,n=f();return new p(function(i,o){var a;n.venmoSuccess?(l.sendEvent(e._client,"venmo.appswitch.handle.success"),i({nonce:(a=n).paymentMethodNonce,type:"VenmoAccount",details:{username:a.username}})):n.venmoError?(l.sendEvent(e._client,"venmo.appswitch.handle.error"),o(new d({type:r.VENMO_APP_FAILED.type,code:r.VENMO_APP_FAILED.code,message:r.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(n.errorMessage),code:n.errorCode}}}))):n.venmoCancel?(l.sendEvent(e._client,"venmo.appswitch.handle.cancel"),o(new d(r.VENMO_APP_CANCELED))):(l.sendEvent(e._client,"venmo.appswitch.cancel-or-unavailable"),o(new d(r.VENMO_CANCELED))),"function"==typeof t.history.replaceState&&t.location.hash&&history.pushState({},"",t.location.href.slice(0,t.location.href.indexOf("#")))})},n.exports=c.wrapPrototype(m)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/methods":129,"../lib/promise":132,"../lib/querystring":133,"./shared/constants":182,"./shared/errors":183,"./shared/supports-venmo":184,"@braintree/wrap-promise":29}],186:[function(e,n,t){"use strict";var l=e("../lib/braintree-error");n.exports={VISA_CHECKOUT_NOT_ENABLED:{type:l.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:l.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:l.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:l.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":97}],187:[function(e,n,t){"use strict";var l=e("../lib/basic-component-verification"),i=e("../lib/braintree-error"),o=e("../lib/create-deferred-client"),r=e("../lib/create-assets-url"),a=e("./visa-checkout"),s=e("../lib/analytics"),u=e("./errors"),c=e("../lib/promise"),d=e("@braintree/wrap-promise");n.exports={create:d(function(e){var n="Visa Checkout";return l.verify({name:n,client:e.client,authorization:e.authorization}).then(function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:r.create(e.authorization),name:n})}).then(function(n){return e.client=n,e.client.getConfiguration().gatewayConfiguration.visaCheckout?(s.sendEvent(e.client,"visacheckout.initialized"),new a(e)):c.reject(new i(u.VISA_CHECKOUT_NOT_ENABLED))})}),VERSION:"3.54.1"}},{"../lib/analytics":92,"../lib/basic-component-verification":95,"../lib/braintree-error":97,"../lib/create-assets-url":105,"../lib/create-deferred-client":107,"../lib/promise":132,"./errors":186,"./visa-checkout":188,"@braintree/wrap-promise":29}],188:[function(e,n,t){"use strict";var l=e("../lib/braintree-error"),i=e("../lib/analytics"),o=e("./errors"),r=e("../lib/json-clone"),a=e("../lib/methods"),s=e("../lib/convert-methods-to-error"),u=e("../lib/promise"),c=e("@braintree/wrap-promise"),d={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function p(e){this._client=e.client}p.prototype.createInitOptions=function(e){var n,t=this._client.getConfiguration().gatewayConfiguration,i=t.visaCheckout;if(!e)throw new l(o.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return(n=r(e)).apikey=n.apikey||i.apikey,n.externalClientId=n.externalClientId||i.externalClientId,n.settings=n.settings||{},n.settings.dataLevel="FULL",n.settings.payment=n.settings.payment||{},n.settings.payment.cardBrands||(n.settings.payment.cardBrands=t.visaCheckout.supportedCardTypes.reduce(function(e,n){return d.hasOwnProperty(n)?e.concat(d[n]):e},[])),n},p.prototype.tokenize=function(e){var n=this;return e.callid&&e.encKey&&e.encPaymentData?this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:e.callid,encryptedPaymentData:e.encPaymentData,encryptedKey:e.encKey}}}).then(function(e){return i.sendEvent(n._client,"visacheckout.tokenize.succeeded"),e.visaCheckoutCards[0]}).catch(function(e){return i.sendEvent(n._client,"visacheckout.tokenize.failed"),u.reject(new l({type:o.VISA_CHECKOUT_TOKENIZATION.type,code:o.VISA_CHECKOUT_TOKENIZATION.code,message:o.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:e}}))}):u.reject(new l(o.VISA_CHECKOUT_PAYMENT_REQUIRED))},p.prototype.teardown=function(){return s(this,a(p.prototype)),u.resolve()},n.exports=c.wrapPrototype(p)},{"../lib/analytics":92,"../lib/braintree-error":97,"../lib/convert-methods-to-error":103,"../lib/json-clone":128,"../lib/methods":129,"../lib/promise":132,"./errors":186,"@braintree/wrap-promise":29}]},{},[90])(90)}}]);